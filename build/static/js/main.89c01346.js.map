{"version":3,"file":"static/js/main.89c01346.js","mappings":"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","sources":["webpack://workspace/./src/index.css","webpack://workspace/./src/index.css?77ae","webpack://workspace/./src/utils/calculations.ts","webpack://workspace/./src/utils/storage.ts","webpack://workspace/./src/data/defaultTemplates.ts","webpack://workspace/./src/templates/simpleTemplate.ts","webpack://workspace/./src/templates/fixedCleanProfessional.ts","webpack://workspace/./src/data/defaultBusinessProfile.ts","webpack://workspace/./src/store/useInvoiceStore.ts","webpack://workspace/./src/components/InvoiceForm.tsx","webpack://workspace/./src/utils/templateRenderer.ts","webpack://workspace/./src/components/InvoicePreview.tsx","webpack://workspace/./src/components/CalculationSummary.tsx","webpack://workspace/./src/components/TemplateSelector.tsx","webpack://workspace/./src/components/ActionBar.tsx","webpack://workspace/./src/index.tsx","webpack://workspace/./src/App.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured \\`sans\\` font-family by default.\n5. Use the user's configured \\`sans\\` font-feature-settings by default.\n6. Use the user's configured \\`sans\\` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from \\`html\\` so users can set them as a class directly on the \\`html\\` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured \\`mono\\` font-family by default.\n2. Use the user's configured \\`mono\\` font-feature-settings by default.\n3. Use the user's configured \\`mono\\` font-variation-settings by default.\n4. Correct the odd \\`em\\` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent \\`sub\\` and \\`sup\\` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional \\`:invalid\\` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to \\`inherit\\` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements \\`display: block\\` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add \\`vertical-align: middle\\` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden=\"until-found\"])) {\n  display: none;\n}\n.collapse {\n  visibility: collapse;\n}\n.fixed {\n  position: fixed;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.inset-0 {\n  inset: 0px;\n}\n.right-2 {\n  right: 0.5rem;\n}\n.top-2 {\n  top: 0.5rem;\n}\n.z-50 {\n  z-index: 50;\n}\n.-mx-4 {\n  margin-left: -1rem;\n  margin-right: -1rem;\n}\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n.-mb-px {\n  margin-bottom: -1px;\n}\n.-mt-4 {\n  margin-top: -1rem;\n}\n.mb-1 {\n  margin-bottom: 0.25rem;\n}\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n.mb-3 {\n  margin-bottom: 0.75rem;\n}\n.mb-4 {\n  margin-bottom: 1rem;\n}\n.mb-6 {\n  margin-bottom: 1.5rem;\n}\n.mb-8 {\n  margin-bottom: 2rem;\n}\n.mr-2 {\n  margin-right: 0.5rem;\n}\n.mt-1 {\n  margin-top: 0.25rem;\n}\n.mt-2 {\n  margin-top: 0.5rem;\n}\n.mt-3 {\n  margin-top: 0.75rem;\n}\n.mt-4 {\n  margin-top: 1rem;\n}\n.mt-8 {\n  margin-top: 2rem;\n}\n.block {\n  display: block;\n}\n.flex {\n  display: flex;\n}\n.table {\n  display: table;\n}\n.grid {\n  display: grid;\n}\n.hidden {\n  display: none;\n}\n.aspect-\\\\[8\\\\.5\\\\/11\\\\] {\n  aspect-ratio: 8.5/11;\n}\n.h-1 {\n  height: 0.25rem;\n}\n.h-1\\\\.5 {\n  height: 0.375rem;\n}\n.h-10 {\n  height: 2.5rem;\n}\n.h-2 {\n  height: 0.5rem;\n}\n.h-20 {\n  height: 5rem;\n}\n.h-3 {\n  height: 0.75rem;\n}\n.h-4 {\n  height: 1rem;\n}\n.h-6 {\n  height: 1.5rem;\n}\n.h-64 {\n  height: 16rem;\n}\n.h-8 {\n  height: 2rem;\n}\n.h-\\\\[200\\\\%\\\\] {\n  height: 200%;\n}\n.h-full {\n  height: 100%;\n}\n.h-screen {\n  height: 100vh;\n}\n.max-h-5xl {\n  max-height: 64rem;\n}\n.max-h-96 {\n  max-height: 24rem;\n}\n.w-1\\\\/2 {\n  width: 50%;\n}\n.w-1\\\\/3 {\n  width: 33.333333%;\n}\n.w-12 {\n  width: 3rem;\n}\n.w-16 {\n  width: 4rem;\n}\n.w-2 {\n  width: 0.5rem;\n}\n.w-2\\\\/3 {\n  width: 66.666667%;\n}\n.w-20 {\n  width: 5rem;\n}\n.w-24 {\n  width: 6rem;\n}\n.w-3\\\\/4 {\n  width: 75%;\n}\n.w-3\\\\/5 {\n  width: 60%;\n}\n.w-32 {\n  width: 8rem;\n}\n.w-4 {\n  width: 1rem;\n}\n.w-4\\\\/5 {\n  width: 80%;\n}\n.w-6 {\n  width: 1.5rem;\n}\n.w-64 {\n  width: 16rem;\n}\n.w-8 {\n  width: 2rem;\n}\n.w-96 {\n  width: 24rem;\n}\n.w-\\\\[200\\\\%\\\\] {\n  width: 200%;\n}\n.w-full {\n  width: 100%;\n}\n.w-px {\n  width: 1px;\n}\n.min-w-\\\\[2\\\\.5rem\\\\] {\n  min-width: 2.5rem;\n}\n.min-w-\\\\[400px\\\\] {\n  min-width: 400px;\n}\n.max-w-6xl {\n  max-width: 72rem;\n}\n.max-w-\\\\[600px\\\\] {\n  max-width: 600px;\n}\n.max-w-md {\n  max-width: 28rem;\n}\n.flex-1 {\n  flex: 1 1 0%;\n}\n.border-collapse {\n  border-collapse: collapse;\n}\n.origin-top-left {\n  transform-origin: top left;\n}\n.scale-50 {\n  --tw-scale-x: .5;\n  --tw-scale-y: .5;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.grid-cols-1 {\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n}\n.grid-cols-2 {\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n.grid-cols-3 {\n  grid-template-columns: repeat(3, minmax(0, 1fr));\n}\n.grid-cols-4 {\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n}\n.flex-col {\n  flex-direction: column;\n}\n.items-start {\n  align-items: flex-start;\n}\n.items-center {\n  align-items: center;\n}\n.justify-end {\n  justify-content: flex-end;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.gap-1 {\n  gap: 0.25rem;\n}\n.gap-2 {\n  gap: 0.5rem;\n}\n.gap-3 {\n  gap: 0.75rem;\n}\n.gap-4 {\n  gap: 1rem;\n}\n.gap-6 {\n  gap: 1.5rem;\n}\n.gap-8 {\n  gap: 2rem;\n}\n.space-x-0\\\\.5 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.125rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.125rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.25rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.25rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.5rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.75rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.75rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(1rem * var(--tw-space-x-reverse));\n  margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-y-0\\\\.5 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.125rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.125rem * var(--tw-space-y-reverse));\n}\n.space-y-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.25rem * var(--tw-space-y-reverse));\n}\n.space-y-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));\n}\n.space-y-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));\n}\n.space-y-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1rem * var(--tw-space-y-reverse));\n}\n.space-y-6 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1.5rem * var(--tw-space-y-reverse));\n}\n.overflow-auto {\n  overflow: auto;\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.overflow-y-auto {\n  overflow-y: auto;\n}\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.rounded {\n  border-radius: 0.25rem;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.rounded-lg {\n  border-radius: 0.5rem;\n}\n.border {\n  border-width: 1px;\n}\n.border-2 {\n  border-width: 2px;\n}\n.border-b {\n  border-bottom-width: 1px;\n}\n.border-b-2 {\n  border-bottom-width: 2px;\n}\n.border-r {\n  border-right-width: 1px;\n}\n.border-t {\n  border-top-width: 1px;\n}\n.border-blue-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n}\n.border-blue-600 {\n  --tw-border-opacity: 1;\n  border-color: rgb(37 99 235 / var(--tw-border-opacity, 1));\n}\n.border-gray-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(229 231 235 / var(--tw-border-opacity, 1));\n}\n.border-gray-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n}\n.border-red-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(252 165 165 / var(--tw-border-opacity, 1));\n}\n.border-transparent {\n  border-color: transparent;\n}\n.bg-black {\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-300 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-400 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(156 163 175 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(75 85 99 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));\n}\n.bg-green-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(34 197 94 / var(--tw-bg-opacity, 1));\n}\n.bg-green-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(22 163 74 / var(--tw-bg-opacity, 1));\n}\n.bg-orange-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 115 22 / var(--tw-bg-opacity, 1));\n}\n.bg-red-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 226 226 / var(--tw-bg-opacity, 1));\n}\n.bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n}\n.bg-opacity-50 {\n  --tw-bg-opacity: 0.5;\n}\n.bg-gradient-to-r {\n  background-image: linear-gradient(to right, var(--tw-gradient-stops));\n}\n.from-blue-600 {\n  --tw-gradient-from: #2563eb var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(37 99 235 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.to-purple-600 {\n  --tw-gradient-to: #9333ea var(--tw-gradient-to-position);\n}\n.object-contain {\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n.p-1 {\n  padding: 0.25rem;\n}\n.p-2 {\n  padding: 0.5rem;\n}\n.p-3 {\n  padding: 0.75rem;\n}\n.p-4 {\n  padding: 1rem;\n}\n.p-6 {\n  padding: 1.5rem;\n}\n.p-8 {\n  padding: 2rem;\n}\n.px-1 {\n  padding-left: 0.25rem;\n  padding-right: 0.25rem;\n}\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.px-3 {\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.px-4 {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-12 {\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n}\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.py-8 {\n  padding-top: 2rem;\n  padding-bottom: 2rem;\n}\n.pb-4 {\n  padding-bottom: 1rem;\n}\n.pt-2 {\n  padding-top: 0.5rem;\n}\n.pt-3 {\n  padding-top: 0.75rem;\n}\n.pt-4 {\n  padding-top: 1rem;\n}\n.pt-6 {\n  padding-top: 1.5rem;\n}\n.text-center {\n  text-align: center;\n}\n.text-right {\n  text-align: right;\n}\n.font-mono {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n}\n.text-2xl {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.text-xl {\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.font-bold {\n  font-weight: 700;\n}\n.font-light {\n  font-weight: 300;\n}\n.font-medium {\n  font-weight: 500;\n}\n.font-semibold {\n  font-weight: 600;\n}\n.uppercase {\n  text-transform: uppercase;\n}\n.italic {\n  font-style: italic;\n}\n.text-blue-600 {\n  --tw-text-opacity: 1;\n  color: rgb(37 99 235 / var(--tw-text-opacity, 1));\n}\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n.text-gray-500 {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity, 1));\n}\n.text-gray-600 {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity, 1));\n}\n.text-gray-700 {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n.text-gray-800 {\n  --tw-text-opacity: 1;\n  color: rgb(31 41 55 / var(--tw-text-opacity, 1));\n}\n.text-gray-900 {\n  --tw-text-opacity: 1;\n  color: rgb(17 24 39 / var(--tw-text-opacity, 1));\n}\n.text-green-600 {\n  --tw-text-opacity: 1;\n  color: rgb(22 163 74 / var(--tw-text-opacity, 1));\n}\n.text-red-500 {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1));\n}\n.text-red-600 {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n.text-red-700 {\n  --tw-text-opacity: 1;\n  color: rgb(185 28 28 / var(--tw-text-opacity, 1));\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.antialiased {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.opacity-0 {\n  opacity: 0;\n}\n.shadow {\n  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-sm {\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-xl {\n  --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.blur {\n  --tw-blur: blur(8px);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.grayscale {\n  --tw-grayscale: grayscale(100%);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.backdrop-filter {\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n}\n.transition-all {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-opacity {\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.duration-200 {\n  transition-duration: 200ms;\n}\n.form-input {\n  display: block;\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.form-input:focus {\n  outline: none;\n  ring: 2px;\n  ring-color: #3b82f6;\n  border-color: #3b82f6;\n}\n.form-textarea {\n  display: block;\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  resize: none;\n}\n.form-textarea:focus {\n  outline: none;\n  ring: 2px;\n  ring-color: #3b82f6;\n  border-color: #3b82f6;\n}\n.form-select {\n  display: block;\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  background-color: white;\n}\n.form-select:focus {\n  outline: none;\n  ring: 2px;\n  ring-color: #3b82f6;\n  border-color: #3b82f6;\n}\n\n/* Custom scrollbar styles */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f1f5f9;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n\n/* Form input styles */\n.form-input {\n  display: block;\n  width: 100%;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.form-input:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.form-textarea {\n  display: block;\n  width: 100%;\n  resize: none;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.form-textarea:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.form-select {\n  display: block;\n  width: 100%;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.form-select:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.btn-primary {\n  display: inline-flex;\n  align-items: center;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  border-color: transparent;\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.btn-primary:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1));\n}\n\n.btn-primary:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n  --tw-ring-offset-width: 2px;\n}\n\n.btn-primary:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.btn-secondary {\n  display: inline-flex;\n  align-items: center;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.btn-secondary:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n\n.btn-secondary:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n  --tw-ring-offset-width: 2px;\n}\n\n.btn-secondary:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.btn-danger {\n  display: inline-flex;\n  align-items: center;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  border-color: transparent;\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.btn-danger:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(185 28 28 / var(--tw-bg-opacity, 1));\n}\n\n.btn-danger:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity, 1));\n  --tw-ring-offset-width: 2px;\n}\n\n.btn-danger:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n/* Animation classes */\n.fade-in {\n  animation: fadeIn 0.2s ease-in-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-4px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Invoice preview styles */\n.invoice-preview {\n  background: white;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\n.invoice-preview table {\n  border-collapse: collapse;\n  width: 100%;\n}\n\n.invoice-preview th,\n.invoice-preview td {\n  border: 1px solid #e5e7eb;\n  padding: 8px 12px;\n  text-align: left;\n}\n\n.invoice-preview th {\n  background-color: #f9fafb;\n  font-weight: 600;\n}\n\n.invoice-preview .text-right {\n  text-align: right;\n}\n\n/* Loading spinner */\n.spinner {\n  border: 2px solid #f3f3f3;\n  border-top: 2px solid #3498db;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Responsive adjustments */\n@media (max-width: 1024px) {\n  .three-pane-layout {\n    flex-direction: column;\n  }\n  \n  .left-panel,\n  .right-panel {\n    width: 100% !important;\n    max-height: 300px;\n    overflow-y: auto;\n  }\n  \n  .center-panel {\n    flex: 1;\n    min-height: 400px;\n  }\n}\n.hover\\\\:border-gray-300:hover {\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n}\n.hover\\\\:bg-blue-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1));\n}\n.hover\\\\:bg-gray-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n.hover\\\\:bg-gray-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n.hover\\\\:bg-green-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(21 128 61 / var(--tw-bg-opacity, 1));\n}\n.hover\\\\:bg-red-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 202 202 / var(--tw-bg-opacity, 1));\n}\n.hover\\\\:text-blue-800:hover {\n  --tw-text-opacity: 1;\n  color: rgb(30 64 175 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:text-gray-600:hover {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:text-gray-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:text-gray-800:hover {\n  --tw-text-opacity: 1;\n  color: rgb(31 41 55 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:text-red-600:hover {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:text-red-800:hover {\n  --tw-text-opacity: 1;\n  color: rgb(153 27 27 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:shadow-md:hover {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.group:hover .group-hover\\\\:opacity-100 {\n  opacity: 1;\n}\n@media (min-width: 768px) {\n\n  .md\\\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n}\n@media (min-width: 1024px) {\n\n  .lg\\\\:grid-cols-3 {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/index.css\"],\"names\":[],\"mappings\":\"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;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,gBAAmB;EAAnB,gBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;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\",\"sourcesContent\":[\"@tailwind base;\\n@tailwind components;\\n@tailwind utilities;\\n\\n/* Custom scrollbar styles */\\n::-webkit-scrollbar {\\n  width: 8px;\\n  height: 8px;\\n}\\n\\n::-webkit-scrollbar-track {\\n  background: #f1f5f9;\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  background: #cbd5e1;\\n  border-radius: 4px;\\n}\\n\\n::-webkit-scrollbar-thumb:hover {\\n  background: #94a3b8;\\n}\\n\\n/* Form input styles */\\n.form-input {\\n  @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm;\\n}\\n\\n.form-textarea {\\n  @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm resize-none;\\n}\\n\\n.form-select {\\n  @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm;\\n}\\n\\n.btn-primary {\\n  @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed;\\n}\\n\\n.btn-secondary {\\n  @apply inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed;\\n}\\n\\n.btn-danger {\\n  @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed;\\n}\\n\\n/* Animation classes */\\n.fade-in {\\n  animation: fadeIn 0.2s ease-in-out;\\n}\\n\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-4px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n/* Invoice preview styles */\\n.invoice-preview {\\n  background: white;\\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\\n}\\n\\n.invoice-preview table {\\n  border-collapse: collapse;\\n  width: 100%;\\n}\\n\\n.invoice-preview th,\\n.invoice-preview td {\\n  border: 1px solid #e5e7eb;\\n  padding: 8px 12px;\\n  text-align: left;\\n}\\n\\n.invoice-preview th {\\n  background-color: #f9fafb;\\n  font-weight: 600;\\n}\\n\\n.invoice-preview .text-right {\\n  text-align: right;\\n}\\n\\n/* Loading spinner */\\n.spinner {\\n  border: 2px solid #f3f3f3;\\n  border-top: 2px solid #3498db;\\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  animation: spin 1s linear infinite;\\n}\\n\\n@keyframes spin {\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n}\\n\\n/* Responsive adjustments */\\n@media (max-width: 1024px) {\\n  .three-pane-layout {\\n    flex-direction: column;\\n  }\\n  \\n  .left-panel,\\n  .right-panel {\\n    width: 100% !important;\\n    max-height: 300px;\\n    overflow-y: auto;\\n  }\\n  \\n  .center-panel {\\n    flex: 1;\\n    min-height: 400px;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n/**\n * Rounds a number to specified decimal places using banker's rounding\n */\nexport var roundToCurrency = function (amount, decimals) {\n    if (decimals === void 0) { decimals = 2; }\n    var factor = Math.pow(10, decimals);\n    var rounded = Math.round(amount * factor) / factor;\n    return parseFloat(rounded.toFixed(decimals));\n};\n/**\n * Calculate line total for an individual item\n */\nexport var calculateItemTotal = function (item) {\n    var baseTotal = item.quantity * item.unitPrice;\n    if (!item.discount) {\n        return roundToCurrency(baseTotal);\n    }\n    var discountAmount = 0;\n    if (item.discount.type === 'percent') {\n        discountAmount = baseTotal * (item.discount.value / 100);\n    }\n    else {\n        discountAmount = Math.min(item.discount.value, baseTotal); // Don't allow negative totals\n    }\n    return roundToCurrency(Math.max(0, baseTotal - discountAmount));\n};\n/**\n * Calculate total discount amount for an item\n */\nexport var calculateItemDiscount = function (item) {\n    if (!item.discount)\n        return 0;\n    var baseTotal = item.quantity * item.unitPrice;\n    if (item.discount.type === 'percent') {\n        return roundToCurrency(baseTotal * (item.discount.value / 100));\n    }\n    else {\n        return roundToCurrency(Math.min(item.discount.value, baseTotal));\n    }\n};\n/**\n * Calculate subtotal before any discounts\n */\nexport var calculateSubtotal = function (items) {\n    var subtotal = items.reduce(function (sum, item) {\n        return sum + (item.quantity * item.unitPrice);\n    }, 0);\n    return roundToCurrency(subtotal);\n};\n/**\n * Calculate total item-level discounts\n */\nexport var calculateTotalItemDiscounts = function (items) {\n    var totalDiscounts = items.reduce(function (sum, item) {\n        return sum + calculateItemDiscount(item);\n    }, 0);\n    return roundToCurrency(totalDiscounts);\n};\n/**\n * Calculate subtotal after item-level discounts\n */\nexport var calculateSubtotalAfterItemDiscounts = function (items) {\n    var subtotalAfterDiscounts = items.reduce(function (sum, item) {\n        return sum + calculateItemTotal(item);\n    }, 0);\n    return roundToCurrency(subtotalAfterDiscounts);\n};\n/**\n * Calculate invoice-level discounts\n */\nexport var calculateInvoiceDiscounts = function (invoice, baseAmount) {\n    var totalDiscounts = invoice.discounts.reduce(function (sum, discount) {\n        var discountAmount = 0;\n        if (discount.type === 'percent') {\n            discountAmount = baseAmount * (discount.value / 100);\n        }\n        else {\n            discountAmount = Math.min(discount.value, baseAmount);\n        }\n        return sum + discountAmount;\n    }, 0);\n    return roundToCurrency(totalDiscounts);\n};\n/**\n * Calculate fees based on the specified base amount\n */\nexport var calculateFees = function (invoice, amounts) {\n    var totalFees = invoice.fees.reduce(function (sum, fee) {\n        var baseAmount = 0;\n        switch (fee.applyBase) {\n            case 'subtotal':\n                baseAmount = amounts.subtotal;\n                break;\n            case 'subtotal_after_item_discounts':\n                baseAmount = amounts.subtotalAfterItemDiscounts;\n                break;\n            case 'subtotal_after_invoice_discounts':\n                baseAmount = amounts.subtotalAfterInvoiceDiscounts;\n                break;\n            case 'grand_total_pre_tax':\n                baseAmount = amounts.grandTotalPreTax;\n                break;\n            default:\n                baseAmount = amounts.subtotalAfterItemDiscounts;\n        }\n        var feeAmount = 0;\n        if (fee.type === 'percent') {\n            feeAmount = baseAmount * (fee.value / 100);\n        }\n        else {\n            feeAmount = fee.value;\n        }\n        return sum + feeAmount;\n    }, 0);\n    return roundToCurrency(totalFees);\n};\n/**\n * Calculate taxes based on taxable amount and tax rules\n */\nexport var calculateTaxes = function (invoice, taxableAmount) {\n    // Sort taxes by priority (ascending)\n    var sortedTaxes = __spreadArray([], invoice.taxes, true).sort(function (a, b) { return a.priority - b.priority; });\n    var totalTax = sortedTaxes.reduce(function (sum, tax) {\n        // Filter items by tax category if needed\n        var applicableItems = invoice.items.filter(function (item) {\n            return !tax.category || tax.category === 'all' || item.taxCategory === tax.category;\n        });\n        if (applicableItems.length === 0)\n            return sum;\n        // Calculate tax on the applicable portion of taxable amount\n        var applicableRatio = applicableItems.length / invoice.items.length;\n        var applicableTaxableAmount = taxableAmount * applicableRatio;\n        var taxAmount = applicableTaxableAmount * (tax.rate / 100);\n        return sum + taxAmount;\n    }, 0);\n    return roundToCurrency(totalTax);\n};\n/**\n * Calculate total payments made\n */\nexport var calculateTotalPaid = function (invoice) {\n    var totalPaid = invoice.payments.reduce(function (sum, payment) {\n        return sum + payment.amount;\n    }, 0);\n    return roundToCurrency(totalPaid);\n};\n/**\n * Calculate complete invoice totals\n */\nexport var calculateInvoiceTotals = function (invoice) {\n    // Step 1: Calculate base amounts\n    var subtotal = calculateSubtotal(invoice.items);\n    var itemDiscounts = calculateTotalItemDiscounts(invoice.items);\n    var subtotalAfterItemDiscounts = calculateSubtotalAfterItemDiscounts(invoice.items);\n    // Step 2: Apply invoice-level discounts\n    var invoiceDiscounts = calculateInvoiceDiscounts(invoice, subtotalAfterItemDiscounts);\n    var subtotalAfterInvoiceDiscounts = roundToCurrency(Math.max(0, subtotalAfterItemDiscounts - invoiceDiscounts));\n    // Step 3: Calculate fees (before taxes)\n    var grandTotalPreTax = subtotalAfterInvoiceDiscounts; // Will be updated after fees\n    var fees = calculateFees(invoice, {\n        subtotal: subtotal,\n        subtotalAfterItemDiscounts: subtotalAfterItemDiscounts,\n        subtotalAfterInvoiceDiscounts: subtotalAfterInvoiceDiscounts,\n        grandTotalPreTax: grandTotalPreTax\n    });\n    // Step 4: Calculate taxable amount (after discounts and fees)\n    var taxableAmount = roundToCurrency(subtotalAfterInvoiceDiscounts + fees);\n    // Step 5: Calculate taxes\n    var tax = calculateTaxes(invoice, taxableAmount);\n    // Step 6: Calculate grand total\n    var grandTotal = roundToCurrency(taxableAmount + tax);\n    // Step 7: Calculate payments and balance\n    var paid = calculateTotalPaid(invoice);\n    var balanceDue = roundToCurrency(Math.max(0, grandTotal - paid));\n    return {\n        subtotal: subtotal,\n        itemDiscounts: itemDiscounts,\n        invoiceDiscounts: invoiceDiscounts,\n        fees: fees,\n        tax: tax,\n        grandTotal: grandTotal,\n        paid: paid,\n        balanceDue: balanceDue\n    };\n};\n/**\n * Format currency amount based on locale and currency\n */\nexport var formatCurrency = function (amount, currency, locale) {\n    if (currency === void 0) { currency = 'USD'; }\n    if (locale === void 0) { locale = 'en-US'; }\n    try {\n        return new Intl.NumberFormat(locale, {\n            style: 'currency',\n            currency: currency,\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n        }).format(amount);\n    }\n    catch (error) {\n        // Fallback formatting\n        return \"\".concat(currency, \" \").concat(amount.toFixed(2));\n    }\n};\n/**\n * Format percentage\n */\nexport var formatPercentage = function (value, decimals) {\n    if (decimals === void 0) { decimals = 1; }\n    return \"\".concat(value.toFixed(decimals), \"%\");\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/**\n * Save data to browser localStorage\n */\nexport var saveFile = function (filePath, data) { return __awaiter(void 0, void 0, Promise, function () {\n    var key;\n    return __generator(this, function (_a) {\n        try {\n            key = \"invoice-studio-\".concat(filePath.replace(/[^a-zA-Z0-9]/g, '-'));\n            localStorage.setItem(key, JSON.stringify(data));\n            return [2 /*return*/, { success: true }];\n        }\n        catch (error) {\n            console.error('Error saving to localStorage:', error);\n            return [2 /*return*/, { success: false, error: error instanceof Error ? error.message : 'Unknown error' }];\n        }\n        return [2 /*return*/];\n    });\n}); };\n/**\n * Load data from browser localStorage\n */\nexport var loadFile = function (filePath) { return __awaiter(void 0, void 0, Promise, function () {\n    var key, data;\n    return __generator(this, function (_a) {\n        try {\n            key = \"invoice-studio-\".concat(filePath.replace(/[^a-zA-Z0-9]/g, '-'));\n            data = localStorage.getItem(key);\n            if (data === null) {\n                return [2 /*return*/, { success: false, error: 'File not found' }];\n            }\n            return [2 /*return*/, { success: true, data: JSON.parse(data) }];\n        }\n        catch (error) {\n            console.error('Error loading from localStorage:', error);\n            return [2 /*return*/, { success: false, error: error instanceof Error ? error.message : 'Unknown error' }];\n        }\n        return [2 /*return*/];\n    });\n}); };\n/**\n * List files in a directory (browser localStorage simulation)\n */\nexport var listFiles = function (directory) { return __awaiter(void 0, void 0, Promise, function () {\n    var prefix, files, i, key, fileName;\n    return __generator(this, function (_a) {\n        try {\n            prefix = \"invoice-studio-\".concat(directory.replace(/[^a-zA-Z0-9]/g, '-'));\n            files = [];\n            for (i = 0; i < localStorage.length; i++) {\n                key = localStorage.key(i);\n                if (key && key.startsWith(prefix)) {\n                    fileName = key.replace(prefix + '-', '').replace(/-/g, '/');\n                    files.push(fileName);\n                }\n            }\n            return [2 /*return*/, { success: true, files: files }];\n        }\n        catch (error) {\n            console.error('Error listing files from localStorage:', error);\n            return [2 /*return*/, { success: false, error: error instanceof Error ? error.message : 'Unknown error' }];\n        }\n        return [2 /*return*/];\n    });\n}); };\n/**\n * Delete a file from browser localStorage\n */\nexport var deleteFile = function (filePath) { return __awaiter(void 0, void 0, Promise, function () {\n    var key;\n    return __generator(this, function (_a) {\n        try {\n            key = \"invoice-studio-\".concat(filePath.replace(/[^a-zA-Z0-9]/g, '-'));\n            localStorage.removeItem(key);\n            return [2 /*return*/, { success: true }];\n        }\n        catch (error) {\n            console.error('Error deleting from localStorage:', error);\n            return [2 /*return*/, { success: false, error: error instanceof Error ? error.message : 'Unknown error' }];\n        }\n        return [2 /*return*/];\n    });\n}); };\n/**\n * Export invoice as PDF\n */\nexport var exportToPDF = function (htmlContent, filename) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { success: false, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('export-pdf', { htmlContent: htmlContent, filename: filename })];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_1 = _a.sent();\n                console.error('Error exporting PDF:', error_1);\n                return [2 /*return*/, { success: false, error: error_1 instanceof Error ? error_1.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Show save dialog\n */\nexport var showSaveDialog = function (options) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_2;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { canceled: true, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('show-save-dialog', options)];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_2 = _a.sent();\n                console.error('Error showing save dialog:', error_2);\n                return [2 /*return*/, { canceled: true, error: error_2 instanceof Error ? error_2.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Show open dialog\n */\nexport var showOpenDialog = function (options) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_3;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { canceled: true, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('show-open-dialog', options)];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_3 = _a.sent();\n                console.error('Error showing open dialog:', error_3);\n                return [2 /*return*/, { canceled: true, error: error_3 instanceof Error ? error_3.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Get user data path\n */\nexport var getUserDataPath = function () { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, path, error_4;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, ''];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('get-user-data-path')];\n            case 2:\n                path = _a.sent();\n                return [2 /*return*/, path];\n            case 3:\n                error_4 = _a.sent();\n                console.error('Error getting user data path:', error_4);\n                return [2 /*return*/, ''];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n","import { simpleTemplate } from '../templates/simpleTemplate';\nimport { fixedCleanProfessionalTemplate } from '../templates/fixedCleanProfessional';\n// import { modernStripeTemplate } from '../templates/modernStripe';\n// import { compactLedgerTemplate } from '../templates/compactLedger';\nexport var defaultTemplates = [\n    simpleTemplate,\n    fixedCleanProfessionalTemplate,\n    // modernStripeTemplate,\n    // compactLedgerTemplate\n];\n","export var simpleTemplate = {\n    id: 'simple-test',\n    name: 'Simple Test',\n    brand: {\n        primaryColor: '#1F2937',\n        accentColor: '#3B82F6',\n        fontFamilyHeader: 'Inter',\n        fontFamilyBody: 'Inter',\n        logoPath: ''\n    },\n    layout: {\n        headerStyle: 'simple',\n        footerText: 'Thank you for your business!',\n        showSignature: false,\n        margins: { top: 20, right: 20, bottom: 20, left: 20 }\n    },\n    defaults: {\n        taxRules: [],\n        terms: 'Payment due within 30 days.'\n    },\n    html: \"\\n<div style=\\\"padding: 20px; font-family: 'Inter', sans-serif;\\\">\\n  <div style=\\\"display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 30px;\\\">\\n    <div style=\\\"flex: 1;\\\">\\n      {{#business.logoPath}}\\n      <div style=\\\"margin-bottom: 15px;\\\">\\n        <img src=\\\"{{business.logoPath}}\\\" alt=\\\"Company Logo\\\" style=\\\"max-height: 80px; max-width: 200px; object-fit: contain;\\\">\\n      </div>\\n      {{/business.logoPath}}\\n      <div style=\\\"color: #374151; font-size: 14px; line-height: 1.5;\\\">\\n        <div style=\\\"font-weight: 600; font-size: 18px; margin-bottom: 8px; color: {{business.color}};\\\">{{business.name}}</div>\\n        <div style=\\\"white-space: pre-line;\\\">{{business.address}}</div>\\n        <div>{{business.email}}</div>\\n        <div>{{business.phone}}</div>\\n      </div>\\n    </div>\\n    <div style=\\\"text-align: right;\\\">\\n      <h1 style=\\\"color: {{business.color}}; margin: 0; font-size: 36px; font-weight: 700;\\\">INVOICE</h1>\\n      <div style=\\\"margin-top: 20px; color: #6B7280; font-size: 14px;\\\">\\n        <div><strong>Invoice #:</strong> {{invoice.invoiceNumber}}</div>\\n        <div><strong>Date:</strong> {{invoice.issueDate}}</div>\\n        <div><strong>Due:</strong> {{invoice.dueDate}}</div>\\n      </div>\\n    </div>\\n  </div>\\n  \\n  <div style=\\\"margin-bottom: 30px; padding: 20px; background: #F9FAFB; border-radius: 8px;\\\">\\n    <div style=\\\"font-weight: 600; margin-bottom: 10px; color: #374151;\\\">Bill To:</div>\\n    <div style=\\\"color: #6B7280; line-height: 1.5;\\\">\\n      <div style=\\\"font-weight: 600;\\\">{{client.name}}</div>\\n      {{#client.company}}<div>{{client.company}}</div>{{/client.company}}\\n      {{#client.billingAddress}}<div style=\\\"white-space: pre-line;\\\">{{client.billingAddress}}</div>{{/client.billingAddress}}\\n      {{#client.email}}<div>{{client.email}}</div>{{/client.email}}\\n      {{#client.phone}}<div>{{client.phone}}</div>{{/client.phone}}\\n    </div>\\n  </div>\\n  \\n  <div style=\\\"margin-bottom: 30px;\\\">\\n    <table style=\\\"width: 100%; border-collapse: collapse;\\\">\\n      <thead>\\n        <tr style=\\\"background: {{business.color}}; color: white;\\\">\\n          <th style=\\\"padding: 12px; text-align: left; border: none;\\\">Description</th>\\n          <th style=\\\"padding: 12px; text-align: right; border: none; width: 80px;\\\">Qty</th>\\n          <th style=\\\"padding: 12px; text-align: right; border: none; width: 100px;\\\">Rate</th>\\n          <th style=\\\"padding: 12px; text-align: right; border: none; width: 100px;\\\">Amount</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        {{#items}}\\n        <tr style=\\\"border-bottom: 1px solid #E5E7EB;\\\">\\n          <td style=\\\"padding: 12px; color: #374151;\\\">\\n            <div style=\\\"font-weight: 600;\\\">{{name}}</div>\\n            {{#description}}<div style=\\\"color: #6B7280; font-size: 14px; margin-top: 4px;\\\">{{description}}</div>{{/description}}\\n          </td>\\n          <td style=\\\"padding: 12px; text-align: right; color: #6B7280;\\\">{{quantity}}</td>\\n          <td style=\\\"padding: 12px; text-align: right; color: #6B7280;\\\">{{formattedUnitPrice}}</td>\\n          <td style=\\\"padding: 12px; text-align: right; font-weight: 600; color: #374151;\\\">{{calculatedLineTotal}}</td>\\n        </tr>\\n        {{/items}}\\n      </tbody>\\n    </table>\\n  </div>\\n  \\n  <div style=\\\"display: flex; justify-content: flex-end;\\\">\\n    <div style=\\\"min-width: 300px;\\\">\\n      <div style=\\\"border-top: 2px solid {{business.color}}; padding-top: 20px;\\\">\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px;\\\">\\n          <span>Subtotal:</span>\\n          <span>{{totals.subtotal}}</span>\\n        </div>\\n        {{#totals.totalTax}}\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px; color: #6B7280;\\\">\\n          <span>Tax:</span>\\n          <span>{{totals.totalTax}}</span>\\n        </div>\\n        {{/totals.totalTax}}\\n        <div style=\\\"display: flex; justify-content: space-between; font-size: 18px; font-weight: 700; color: {{business.color}}; border-top: 1px solid #E5E7EB; padding-top: 12px; margin-top: 12px;\\\">\\n          <span>Total:</span>\\n          <span>{{totals.grandTotal}}</span>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \\n  {{#invoice.notes}}\\n  <div style=\\\"margin-top: 40px; padding: 20px; background: #F9FAFB; border-radius: 8px;\\\">\\n    <div style=\\\"font-weight: 600; margin-bottom: 10px; color: #374151;\\\">Notes:</div>\\n    <div style=\\\"color: #6B7280; white-space: pre-line;\\\">{{invoice.notes}}</div>\\n  </div>\\n  {{/invoice.notes}}\\n</div>\\n  \",\n    css: \"\\n    .invoice {\\n      font-family: 'Inter', sans-serif;\\n      color: #1F2937;\\n    }\\n  \"\n};\n","export var fixedCleanProfessionalTemplate = {\n    id: 'clean-professional-fixed',\n    name: 'Clean Professional',\n    brand: {\n        primaryColor: '#0F172A',\n        accentColor: '#2563EB',\n        fontFamilyHeader: 'Inter',\n        fontFamilyBody: 'Inter',\n        logoPath: ''\n    },\n    layout: {\n        headerStyle: 'left-logo-right-details',\n        footerText: 'Thank you for your business!',\n        showSignature: false,\n        margins: { top: 48, right: 48, bottom: 64, left: 48 }\n    },\n    defaults: {\n        taxRules: ['standard'],\n        terms: 'Payment due within 14 days.'\n    },\n    html: \"\\n<div class=\\\"invoice p-8\\\" style=\\\"padding: 2rem; font-family: 'Inter', sans-serif;\\\">\\n  <header class=\\\"flex items-start justify-between mb-8\\\" style=\\\"display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 2rem;\\\">\\n    <div class=\\\"flex items-center gap-4\\\" style=\\\"display: flex; align-items: center; gap: 1rem;\\\">\\n      {{#business.logoPath}}\\n      <img src=\\\"{{business.logoPath}}\\\" alt=\\\"{{business.name}} Logo\\\" style=\\\"height:64px; max-width: 120px; object-fit: contain;\\\" />\\n      {{/business.logoPath}}\\n      <div>\\n        <h1 style=\\\"font-family: {{brand.fontFamilyHeader}}; font-size: 24px; color: {{brand.primaryColor}}; margin: 0; font-weight: 700;\\\">{{business.name}}</h1>\\n        <div style=\\\"font-family: {{brand.fontFamilyBody}}; font-size: 12px; color:#6B7280; margin-top: 4px;\\\">\\n          {{business.address}}<br>\\n          {{business.email}} \\u2022 {{business.phone}}\\n        </div>\\n      </div>\\n    </div>\\n    <div style=\\\"text-align: right;\\\">\\n      <div style=\\\"font-size:28px; color: {{brand.accentColor}}; font-weight:700; margin-bottom: 8px;\\\">INVOICE</div>\\n      <div style=\\\"font-size: 14px; margin-bottom: 4px;\\\"><strong># {{invoice.invoiceNumber}}</strong></div>\\n      <div style=\\\"font-size: 12px; color: #6B7280;\\\">Issue: {{invoice.formattedIssueDate}}</div>\\n      <div style=\\\"font-size: 12px; color: #6B7280;\\\">Due: {{invoice.formattedDueDate}}</div>\\n    </div>\\n  </header>\\n\\n  <section style=\\\"display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;\\\">\\n    <div>\\n      <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Bill To</h3>\\n      <div style=\\\"line-height: 1.5;\\\">\\n        <div style=\\\"font-weight: 500;\\\">{{client.name}}</div>\\n        <div>{{client.company}}</div>\\n        <div style=\\\"margin-top: 4px;\\\">{{client.billingAddress}}</div>\\n        <div style=\\\"margin-top: 4px; color: #6B7280;\\\">{{client.email}} \\u2022 {{client.phone}}</div>\\n      </div>\\n    </div>\\n    <div>\\n      <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Invoice Details</h3>\\n      <div style=\\\"line-height: 1.5;\\\">\\n        <div><strong>Ship To:</strong><br>{{client.shippingAddress}}</div>\\n        <div style=\\\"margin-top: 4px;\\\"><strong>PO:</strong> {{invoice.poNumber}}</div>\\n        <div style=\\\"margin-top: 4px;\\\"><strong>Terms:</strong> {{invoice.paymentTermsDisplay}}</div>\\n        <div style=\\\"margin-top: 4px;\\\"><strong>Currency:</strong> {{invoice.currency}}</div>\\n      </div>\\n    </div>\\n  </section>\\n\\n  <table style=\\\"width: 100%; border-collapse: collapse; margin-bottom: 2rem;\\\">\\n    <thead>\\n      <tr style=\\\"background:#F9FAFB;\\\">\\n        <th style=\\\"text-align: left; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Item</th>\\n        <th style=\\\"text-align: left; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Description</th>\\n        <th style=\\\"text-align: right; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Qty</th>\\n        <th style=\\\"text-align: right; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Rate</th>\\n        <th style=\\\"text-align: right; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Amount</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      {{#items}}\\n      <tr style=\\\"border-bottom: 1px solid #E5E7EB;\\\">\\n        <td style=\\\"padding: 12px; vertical-align: top;\\\">\\n          <div style=\\\"font-weight: 500;\\\">{{name}}</div>\\n          <div style=\\\"font-size: 11px; color: #9CA3AF; margin-top: 2px;\\\">SKU: {{sku}}</div>\\n        </td>\\n        <td style=\\\"padding: 12px; vertical-align: top;\\\">\\n          <div style=\\\"font-size: 13px; color: #6B7280;\\\">{{description}}</div>\\n          <div style=\\\"font-size: 11px; color: #9CA3AF; margin-top: 4px; font-style: italic;\\\">{{notes}}</div>\\n        </td>\\n        <td style=\\\"padding: 12px; text-align: right; vertical-align: top;\\\">{{formattedQuantity}}</td>\\n        <td style=\\\"padding: 12px; text-align: right; vertical-align: top;\\\">{{formattedUnitPrice}}</td>\\n        <td style=\\\"padding: 12px; text-align: right; vertical-align: top; font-weight: 500;\\\">{{calculatedLineTotal}}</td>\\n      </tr>\\n      {{/items}}\\n    </tbody>\\n  </table>\\n\\n  <section style=\\\"display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;\\\">\\n    <div>\\n      <div style=\\\"margin-bottom: 1.5rem;\\\">\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Notes</h3>\\n        <div style=\\\"font-size: 14px; line-height: 1.5; color: #6B7280;\\\">{{notes}}</div>\\n      </div>\\n      \\n      <div>\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Terms & Conditions</h3>\\n        <div style=\\\"font-size: 13px; line-height: 1.5; color: #6B7280;\\\">{{terms}}</div>\\n      </div>\\n    </div>\\n    \\n    <div>\\n      <div style=\\\"background: #F9FAFB; padding: 1.5rem; border-radius: 8px;\\\">\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px;\\\">\\n          <span style=\\\"color: #6B7280;\\\">Subtotal:</span>\\n          <span>{{totals.subtotal}}</span>\\n        </div>\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px;\\\">\\n          <span style=\\\"color: #6B7280;\\\">Tax:</span>\\n          <span>{{totals.taxTotal}}</span>\\n        </div>\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px;\\\">\\n          <span style=\\\"color: #6B7280;\\\">Discount:</span>\\n          <span style=\\\"color: #059669;\\\">{{totals.discountTotal}}</span>\\n        </div>\\n        <hr style=\\\"border: none; border-top: 1px solid #E5E7EB; margin: 12px 0;\\\">\\n        <div style=\\\"display: flex; justify-content: space-between; font-size: 18px; font-weight: 700; color: {{brand.primaryColor}};\\\">\\n          <span>Total:</span>\\n          <span>{{totals.grandTotal}}</span>\\n        </div>\\n      </div>\\n      \\n      <div style=\\\"text-align: center; margin-top: 2rem; color: #9CA3AF; font-size: 13px;\\\">\\n        {{footerText}}\\n      </div>\\n    </div>\\n  </section>\\n</div>\\n  \",\n    css: \"\\n    .invoice {\\n      font-family: 'Inter', sans-serif;\\n      color: #0F172A;\\n      max-width: 210mm;\\n      margin: 0 auto;\\n    }\\n    \\n    @media print {\\n      .invoice {\\n        width: 100%;\\n        max-width: none;\\n        margin: 0;\\n        padding: 0;\\n      }\\n    }\\n  \"\n};\n","export var defaultBusinessProfile = {\n    id: 'default',\n    name: 'StoneActive LLC',\n    address: '100 Main St\\nCity, ST 00000\\nUnited States',\n    email: 'billing@stoneactive.com',\n    phone: '555-555-5555',\n    taxId: 'XX-XXXXXXX',\n    bankDetails: 'Routing 000000000 | Account 00000000',\n    logoPath: '',\n    color: '#111827'\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { create } from 'zustand';\nimport { v4 as uuidv4 } from 'uuid';\nimport { format } from 'date-fns';\nimport { calculateInvoiceTotals } from '../utils/calculations';\nimport { saveFile, loadFile, listFiles, deleteFile } from '../utils/storage';\nimport { defaultTemplates } from '../data/defaultTemplates';\nimport { defaultBusinessProfile } from '../data/defaultBusinessProfile';\nvar createEmptyInvoice = function (templateId) {\n    if (templateId === void 0) { templateId = 'simple-test'; }\n    return ({\n        version: '1.0',\n        id: uuidv4(),\n        templateId: templateId,\n        businessProfileId: 'default',\n        invoiceNumber: \"INV-\".concat(format(new Date(), 'yyyy'), \"-\").concat(String(Date.now()).slice(-5)),\n        poNumber: '',\n        issueDate: format(new Date(), 'yyyy-MM-dd'),\n        dueDate: format(new Date(Date.now() + 14 * 24 * 60 * 60 * 1000), 'yyyy-MM-dd'),\n        paymentTerms: 'NET_14',\n        currency: 'USD',\n        locale: 'en-US',\n        client: {\n            name: '',\n            company: '',\n            contact: '',\n            email: '',\n            phone: '',\n            billingAddress: '',\n            shippingAddress: ''\n        },\n        items: [],\n        discounts: [],\n        fees: [],\n        taxes: [],\n        payments: [],\n        notes: '',\n        terms: 'Payment due within 14 days.',\n        totals: {\n            subtotal: 0,\n            itemDiscounts: 0,\n            invoiceDiscounts: 0,\n            fees: 0,\n            tax: 0,\n            grandTotal: 0,\n            paid: 0,\n            balanceDue: 0\n        },\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n    });\n};\nvar defaultSettings = {\n    currency: 'USD',\n    locale: 'en-US',\n    dateFormat: 'yyyy-MM-dd',\n    invoiceNumberPattern: 'INV-{YYYY}-{#####}',\n    defaultTaxes: [],\n    defaultFees: [],\n    defaultTemplateId: 'clean-professional',\n    defaultBusinessProfileId: 'default',\n    autosaveInterval: 10000\n};\nexport var useInvoiceStore = create(function (set, get) { return ({\n    currentInvoice: null,\n    templates: [],\n    businessProfiles: [],\n    settings: defaultSettings,\n    invoiceList: [],\n    isLoading: false,\n    error: null,\n    lastSaved: null,\n    hasUnsavedChanges: false,\n    initializeApp: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var loadError_1, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    _a.label = 2;\n                case 2:\n                    _a.trys.push([2, 4, , 5]);\n                    return [4 /*yield*/, Promise.all([\n                            get().loadSettings(),\n                            get().loadTemplates(),\n                            get().loadBusinessProfiles(),\n                            get().loadInvoiceList()\n                        ])];\n                case 3:\n                    _a.sent();\n                    return [3 /*break*/, 5];\n                case 4:\n                    loadError_1 = _a.sent();\n                    console.warn('Failed to load saved data, using defaults:', loadError_1);\n                    // Initialize with defaults\n                    set({\n                        templates: defaultTemplates,\n                        businessProfiles: [defaultBusinessProfile],\n                        settings: defaultSettings,\n                        invoiceList: []\n                    });\n                    return [3 /*break*/, 5];\n                case 5:\n                    // Create a new invoice\n                    get().createNewInvoice();\n                    set({ isLoading: false });\n                    return [3 /*break*/, 7];\n                case 6:\n                    error_1 = _a.sent();\n                    console.error('Failed to initialize app:', error_1);\n                    // Even if initialization fails, provide basic functionality\n                    set({\n                        templates: defaultTemplates,\n                        businessProfiles: [defaultBusinessProfile],\n                        settings: defaultSettings,\n                        invoiceList: [],\n                        isLoading: false,\n                        error: null\n                    });\n                    get().createNewInvoice();\n                    return [3 /*break*/, 7];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    createNewInvoice: function (templateId) {\n        var settings = get().settings;\n        var newInvoice = createEmptyInvoice(templateId || settings.defaultTemplateId);\n        set({\n            currentInvoice: newInvoice,\n            hasUnsavedChanges: false,\n            lastSaved: null,\n            error: null\n        });\n    },\n    updateInvoice: function (updates) {\n        var currentInvoice = get().currentInvoice;\n        if (!currentInvoice)\n            return;\n        var updatedInvoice = __assign(__assign(__assign({}, currentInvoice), updates), { updatedAt: new Date().toISOString() });\n        // Recalculate totals\n        updatedInvoice.totals = calculateInvoiceTotals(updatedInvoice);\n        set({\n            currentInvoice: updatedInvoice,\n            hasUnsavedChanges: true,\n            error: null\n        });\n    },\n    saveInvoice: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var currentInvoice, filename, result, error_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    currentInvoice = get().currentInvoice;\n                    if (!currentInvoice)\n                        return [2 /*return*/, false];\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    filename = \"\".concat(currentInvoice.invoiceNumber, \".json\");\n                    return [4 /*yield*/, saveFile(\"invoices/\".concat(filename), currentInvoice)];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    set({\n                        hasUnsavedChanges: false,\n                        lastSaved: new Date().toISOString(),\n                        isLoading: false\n                    });\n                    // Refresh invoice list\n                    return [4 /*yield*/, get().loadInvoiceList()];\n                case 3:\n                    // Refresh invoice list\n                    _a.sent();\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to save invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_2 = _a.sent();\n                    console.error('Error saving invoice:', error_2);\n                    set({ error: 'Failed to save invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadInvoice: function (invoiceId) { return __awaiter(void 0, void 0, void 0, function () {\n        var result, invoice, error_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, loadFile(\"invoices/\".concat(invoiceId))];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        invoice = result.data;\n                        // Recalculate totals to ensure consistency\n                        invoice.totals = calculateInvoiceTotals(invoice);\n                        set({\n                            currentInvoice: invoice,\n                            hasUnsavedChanges: false,\n                            lastSaved: invoice.updatedAt,\n                            isLoading: false\n                        });\n                        return [2 /*return*/, true];\n                    }\n                    else {\n                        set({ error: result.error || 'Failed to load invoice', isLoading: false });\n                        return [2 /*return*/, false];\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_3 = _a.sent();\n                    console.error('Error loading invoice:', error_3);\n                    set({ error: 'Failed to load invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); },\n    deleteInvoice: function (invoiceId) { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_4;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    return [4 /*yield*/, deleteFile(\"invoices/\".concat(invoiceId))];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    return [4 /*yield*/, get().loadInvoiceList()];\n                case 3:\n                    _a.sent();\n                    set({ isLoading: false });\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to delete invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_4 = _a.sent();\n                    console.error('Error deleting invoice:', error_4);\n                    set({ error: 'Failed to delete invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    duplicateInvoice: function () {\n        var currentInvoice = get().currentInvoice;\n        if (!currentInvoice)\n            return;\n        var duplicatedInvoice = __assign(__assign({}, currentInvoice), { id: uuidv4(), invoiceNumber: \"\".concat(currentInvoice.invoiceNumber, \"-COPY\"), createdAt: new Date().toISOString(), updatedAt: new Date().toISOString() });\n        set({\n            currentInvoice: duplicatedInvoice,\n            hasUnsavedChanges: true,\n            lastSaved: null\n        });\n    },\n    loadInvoiceList: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_5;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, listFiles('invoices')];\n                case 1:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ invoiceList: result.files || [] });\n                    }\n                    else {\n                        console.error('Failed to load invoice list:', result.error);\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_5 = _a.sent();\n                    console.error('Error loading invoice list:', error_5);\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); },\n    saveAsTemplate: function (name) { return __awaiter(void 0, void 0, void 0, function () {\n        var currentInvoice, template, filename, result, error_6;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    currentInvoice = get().currentInvoice;\n                    if (!currentInvoice)\n                        return [2 /*return*/, false];\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    template = {\n                        id: uuidv4(),\n                        name: name,\n                        brand: {\n                            primaryColor: '#0F172A',\n                            accentColor: '#2563EB',\n                            fontFamilyHeader: 'Inter',\n                            fontFamilyBody: 'Inter',\n                            logoPath: ''\n                        },\n                        layout: {\n                            headerStyle: 'left-logo-right-details',\n                            footerText: 'Thank you for your business!',\n                            showSignature: false,\n                            margins: { top: 48, right: 48, bottom: 64, left: 48 }\n                        },\n                        defaults: {\n                            taxRules: ['standard'],\n                            terms: currentInvoice.terms\n                        },\n                        html: '', // Will be populated by template system\n                        css: '' // Will be populated by template system\n                    };\n                    filename = \"\".concat(template.id, \".json\");\n                    return [4 /*yield*/, saveFile(\"templates/\".concat(filename), template)];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    return [4 /*yield*/, get().loadTemplates()];\n                case 3:\n                    _a.sent();\n                    set({ isLoading: false });\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to save template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_6 = _a.sent();\n                    console.error('Error saving template:', error_6);\n                    set({ error: 'Failed to save template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadTemplates: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, userTemplates, error_7;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, listFiles('templates')];\n                case 1:\n                    result = _b.sent();\n                    if (result.success) {\n                        userTemplates = ((_a = result.files) === null || _a === void 0 ? void 0 : _a.map(function (f) { return f.data; })) || [];\n                        set({ templates: __spreadArray(__spreadArray([], defaultTemplates, true), userTemplates, true) });\n                    }\n                    else {\n                        // If templates directory doesn't exist or is empty, use defaults\n                        set({ templates: defaultTemplates });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_7 = _b.sent();\n                    console.error('Error loading templates:', error_7);\n                    set({ templates: defaultTemplates });\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); },\n    deleteTemplate: function (templateId) { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_8;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    return [4 /*yield*/, deleteFile(\"templates/\".concat(templateId, \".json\"))];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    return [4 /*yield*/, get().loadTemplates()];\n                case 3:\n                    _a.sent();\n                    set({ isLoading: false });\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to delete template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_8 = _a.sent();\n                    console.error('Error deleting template:', error_8);\n                    set({ error: 'Failed to delete template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    updateBusinessProfile: function (profileUpdates) {\n        var businessProfiles = get().businessProfiles;\n        var updatedProfiles = businessProfiles.map(function (profile) {\n            return profile.id === profileUpdates.id ? __assign(__assign({}, profile), profileUpdates) : profile;\n        });\n        set({ businessProfiles: updatedProfiles, hasUnsavedChanges: true });\n    },\n    saveBusinessProfile: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var businessProfiles, defaultProfile, result, error_9;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    businessProfiles = get().businessProfiles;\n                    defaultProfile = businessProfiles.find(function (p) { return p.id === 'default'; });\n                    if (!defaultProfile)\n                        return [2 /*return*/, false];\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, saveFile('profiles/default.json', defaultProfile)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ isLoading: false });\n                        return [2 /*return*/, true];\n                    }\n                    else {\n                        set({ error: result.error || 'Failed to save business profile', isLoading: false });\n                        return [2 /*return*/, false];\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_9 = _a.sent();\n                    console.error('Error saving business profile:', error_9);\n                    set({ error: 'Failed to save business profile', isLoading: false });\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadBusinessProfiles: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_10;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, loadFile('profiles/default.json')];\n                case 1:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ businessProfiles: [result.data] });\n                    }\n                    else {\n                        // Use default profile if none exists\n                        set({ businessProfiles: [defaultBusinessProfile] });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_10 = _a.sent();\n                    console.error('Error loading business profiles:', error_10);\n                    set({ businessProfiles: [defaultBusinessProfile] });\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); },\n    updateSettings: function (settingsUpdates) {\n        var settings = get().settings;\n        set({ settings: __assign(__assign({}, settings), settingsUpdates), hasUnsavedChanges: true });\n    },\n    saveSettings: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var settings, result, error_11;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    settings = get().settings;\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, saveFile('settings.json', settings)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ isLoading: false });\n                        return [2 /*return*/, true];\n                    }\n                    else {\n                        set({ error: result.error || 'Failed to save settings', isLoading: false });\n                        return [2 /*return*/, false];\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_11 = _a.sent();\n                    console.error('Error saving settings:', error_11);\n                    set({ error: 'Failed to save settings', isLoading: false });\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadSettings: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_12;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, loadFile('settings.json')];\n                case 1:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ settings: __assign(__assign({}, defaultSettings), result.data) });\n                    }\n                    else {\n                        // Use default settings if none exist\n                        set({ settings: defaultSettings });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_12 = _a.sent();\n                    console.error('Error loading settings:', error_12);\n                    set({ settings: defaultSettings });\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); },\n    recalculateInvoice: function () {\n        var currentInvoice = get().currentInvoice;\n        if (!currentInvoice)\n            return;\n        var updatedInvoice = __assign(__assign({}, currentInvoice), { totals: calculateInvoiceTotals(currentInvoice), updatedAt: new Date().toISOString() });\n        set({ currentInvoice: updatedInvoice });\n    },\n    setError: function (error) { return set({ error: error }); },\n    clearError: function () { return set({ error: null }); }\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { v4 as uuidv4 } from 'uuid';\nimport { format } from 'date-fns';\nvar InvoiceForm = function () {\n    var _a = useInvoiceStore(), currentInvoice = _a.currentInvoice, updateInvoice = _a.updateInvoice, businessProfiles = _a.businessProfiles, updateBusinessProfile = _a.updateBusinessProfile, saveBusinessProfile = _a.saveBusinessProfile;\n    var _b = useState('business'), activeSection = _b[0], setActiveSection = _b[1];\n    if (!currentInvoice)\n        return null;\n    var businessProfile = businessProfiles[0] || null;\n    // Helper function to update invoice fields\n    var updateField = function (field, value) {\n        var _a;\n        updateInvoice((_a = {}, _a[field] = value, _a));\n    };\n    // Helper function to update nested fields\n    var updateNestedField = function (parentField, field, value) {\n        var _a, _b;\n        updateInvoice((_a = {},\n            _a[parentField] = __assign(__assign({}, currentInvoice[parentField]), (_b = {}, _b[field] = value, _b)),\n            _a));\n    };\n    // Item management functions\n    var addItem = function () {\n        var newItem = {\n            id: uuidv4(),\n            sku: '',\n            name: '',\n            description: '',\n            quantity: 1,\n            unitPrice: 0,\n            discount: null,\n            taxCategory: 'standard',\n            notes: ''\n        };\n        updateField('items', __spreadArray(__spreadArray([], currentInvoice.items, true), [newItem], false));\n    };\n    var updateItem = function (itemId, field, value) {\n        var updatedItems = currentInvoice.items.map(function (item) {\n            var _a;\n            return item.id === itemId ? __assign(__assign({}, item), (_a = {}, _a[field] = value, _a)) : item;\n        });\n        updateField('items', updatedItems);\n    };\n    var removeItem = function (itemId) {\n        var updatedItems = currentInvoice.items.filter(function (item) { return item.id !== itemId; });\n        updateField('items', updatedItems);\n    };\n    var duplicateItem = function (itemId) {\n        var itemToDuplicate = currentInvoice.items.find(function (item) { return item.id === itemId; });\n        if (itemToDuplicate) {\n            var duplicatedItem = __assign(__assign({}, itemToDuplicate), { id: uuidv4() });\n            updateField('items', __spreadArray(__spreadArray([], currentInvoice.items, true), [duplicatedItem], false));\n        }\n    };\n    // Discount management\n    var addDiscount = function () {\n        var newDiscount = {\n            id: uuidv4(),\n            label: 'Discount',\n            type: 'percent',\n            value: 0\n        };\n        updateField('discounts', __spreadArray(__spreadArray([], currentInvoice.discounts, true), [newDiscount], false));\n    };\n    var updateDiscount = function (discountId, field, value) {\n        var updatedDiscounts = currentInvoice.discounts.map(function (discount) {\n            var _a;\n            return discount.id === discountId ? __assign(__assign({}, discount), (_a = {}, _a[field] = value, _a)) : discount;\n        });\n        updateField('discounts', updatedDiscounts);\n    };\n    var removeDiscount = function (discountId) {\n        var updatedDiscounts = currentInvoice.discounts.filter(function (discount) { return discount.id !== discountId; });\n        updateField('discounts', updatedDiscounts);\n    };\n    // Fee management\n    var addFee = function () {\n        var newFee = {\n            id: uuidv4(),\n            label: 'Fee',\n            type: 'percent',\n            value: 0,\n            applyBase: 'subtotal_after_item_discounts'\n        };\n        updateField('fees', __spreadArray(__spreadArray([], currentInvoice.fees, true), [newFee], false));\n    };\n    var updateFee = function (feeId, field, value) {\n        var updatedFees = currentInvoice.fees.map(function (fee) {\n            var _a;\n            return fee.id === feeId ? __assign(__assign({}, fee), (_a = {}, _a[field] = value, _a)) : fee;\n        });\n        updateField('fees', updatedFees);\n    };\n    var removeFee = function (feeId) {\n        var updatedFees = currentInvoice.fees.filter(function (fee) { return fee.id !== feeId; });\n        updateField('fees', updatedFees);\n    };\n    // Tax management\n    var addTax = function () {\n        var newTax = {\n            id: uuidv4(),\n            label: 'Tax',\n            rate: 0,\n            category: 'standard',\n            priority: currentInvoice.taxes.length + 1,\n            applyAfterDiscounts: true\n        };\n        updateField('taxes', __spreadArray(__spreadArray([], currentInvoice.taxes, true), [newTax], false));\n    };\n    var updateTax = function (taxId, field, value) {\n        var updatedTaxes = currentInvoice.taxes.map(function (tax) {\n            var _a;\n            return tax.id === taxId ? __assign(__assign({}, tax), (_a = {}, _a[field] = value, _a)) : tax;\n        });\n        updateField('taxes', updatedTaxes);\n    };\n    var removeTax = function (taxId) {\n        var updatedTaxes = currentInvoice.taxes.filter(function (tax) { return tax.id !== taxId; });\n        updateField('taxes', updatedTaxes);\n    };\n    // Payment management\n    var addPayment = function () {\n        var newPayment = {\n            id: uuidv4(),\n            date: format(new Date(), 'yyyy-MM-dd'),\n            method: 'Cash',\n            amount: 0\n        };\n        updateField('payments', __spreadArray(__spreadArray([], currentInvoice.payments, true), [newPayment], false));\n    };\n    var updatePayment = function (paymentId, field, value) {\n        var updatedPayments = currentInvoice.payments.map(function (payment) {\n            var _a;\n            return payment.id === paymentId ? __assign(__assign({}, payment), (_a = {}, _a[field] = value, _a)) : payment;\n        });\n        updateField('payments', updatedPayments);\n    };\n    var removePayment = function (paymentId) {\n        var updatedPayments = currentInvoice.payments.filter(function (payment) { return payment.id !== paymentId; });\n        updateField('payments', updatedPayments);\n    };\n    return (_jsxs(\"div\", { className: \"p-6 space-y-6\", children: [_jsx(\"div\", { className: \"border-b border-gray-200\", children: _jsx(\"nav\", { className: \"-mb-px flex space-x-4\", children: [\n                        { id: 'business', label: 'Business' },\n                        { id: 'client', label: 'Client' },\n                        { id: 'meta', label: 'Invoice' },\n                        { id: 'items', label: 'Items' },\n                        { id: 'taxes', label: 'Taxes & Fees' },\n                        { id: 'payments', label: 'Payments' },\n                        { id: 'notes', label: 'Notes' }\n                    ].map(function (section) { return (_jsx(\"button\", { onClick: function () { return setActiveSection(section.id); }, className: \"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeSection === section.id\n                            ? 'border-blue-500 text-blue-600'\n                            : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'), children: section.label }, section.id)); }) }) }), activeSection === 'business' && businessProfile && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Business Profile\" }), _jsxs(\"div\", { className: \"grid grid-cols-1 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Business Name\" }), _jsx(\"input\", { type: \"text\", value: businessProfile.name, onChange: function (e) { return updateBusinessProfile({ id: 'default', name: e.target.value }); }, className: \"form-input\", placeholder: \"Your Company LLC\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Address\" }), _jsx(\"textarea\", { value: businessProfile.address, onChange: function (e) { return updateBusinessProfile({ id: 'default', address: e.target.value }); }, className: \"form-textarea\", rows: 3, placeholder: \"100 Main St, City, ST 00000\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Email\" }), _jsx(\"input\", { type: \"email\", value: businessProfile.email, onChange: function (e) { return updateBusinessProfile({ id: 'default', email: e.target.value }); }, className: \"form-input\", placeholder: \"billing@yourco.com\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Phone\" }), _jsx(\"input\", { type: \"tel\", value: businessProfile.phone, onChange: function (e) { return updateBusinessProfile({ id: 'default', phone: e.target.value }); }, className: \"form-input\", placeholder: \"555-555-5555\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Tax ID\" }), _jsx(\"input\", { type: \"text\", value: businessProfile.taxId, onChange: function (e) { return updateBusinessProfile({ id: 'default', taxId: e.target.value }); }, className: \"form-input\", placeholder: \"XX-XXXXXXX\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Brand Color\" }), _jsx(\"input\", { type: \"color\", value: businessProfile.color, onChange: function (e) { return updateBusinessProfile({ id: 'default', color: e.target.value }); }, className: \"form-input h-10\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Company Logo\" }), _jsxs(\"div\", { className: \"space-y-3\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsx(\"input\", { type: \"file\", accept: \"image/*\", onChange: function (e) {\n                                                            var _a;\n                                                            var file = (_a = e.target.files) === null || _a === void 0 ? void 0 : _a[0];\n                                                            if (file) {\n                                                                var reader = new FileReader();\n                                                                reader.onload = function (event) {\n                                                                    var _a;\n                                                                    var logoUrl = (_a = event.target) === null || _a === void 0 ? void 0 : _a.result;\n                                                                    updateBusinessProfile({ id: 'default', logoPath: logoUrl });\n                                                                };\n                                                                reader.readAsDataURL(file);\n                                                            }\n                                                        }, className: \"hidden\", id: \"logo-upload\" }), _jsx(\"label\", { htmlFor: \"logo-upload\", className: \"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded cursor-pointer border border-gray-300\", children: \"Choose Logo File\" }), businessProfile.logoPath && (_jsx(\"button\", { onClick: function () { return updateBusinessProfile({ id: 'default', logoPath: '' }); }, className: \"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 text-sm rounded border border-red-300\", children: \"Remove Logo\" }))] }), businessProfile.logoPath && (_jsxs(\"div\", { className: \"mt-3\", children: [_jsx(\"div\", { className: \"w-32 h-20 border border-gray-200 rounded overflow-hidden bg-white\", children: _jsx(\"img\", { src: businessProfile.logoPath, alt: \"Company Logo\", className: \"w-full h-full object-contain\" }) }), _jsx(\"p\", { className: \"text-xs text-gray-500 mt-1\", children: \"Logo preview (will appear on top-left of invoice)\" })] }))] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Bank Details\" }), _jsx(\"input\", { type: \"text\", value: businessProfile.bankDetails, onChange: function (e) { return updateBusinessProfile({ id: 'default', bankDetails: e.target.value }); }, className: \"form-input\", placeholder: \"Routing 000000000 | Account 00000000\" })] }), _jsx(\"button\", { onClick: saveBusinessProfile, className: \"btn-primary\", children: \"Save Business Profile\" })] })] })), activeSection === 'client' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Client Information\" }), _jsxs(\"div\", { className: \"grid grid-cols-1 gap-4\", children: [_jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Client Name\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.client.name, onChange: function (e) { return updateNestedField('client', 'name', e.target.value); }, className: \"form-input\", placeholder: \"John Doe\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Company\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.client.company, onChange: function (e) { return updateNestedField('client', 'company', e.target.value); }, className: \"form-input\", placeholder: \"Acme Inc.\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Email\" }), _jsx(\"input\", { type: \"email\", value: currentInvoice.client.email, onChange: function (e) { return updateNestedField('client', 'email', e.target.value); }, className: \"form-input\", placeholder: \"billing@acme.com\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Phone\" }), _jsx(\"input\", { type: \"tel\", value: currentInvoice.client.phone, onChange: function (e) { return updateNestedField('client', 'phone', e.target.value); }, className: \"form-input\", placeholder: \"555-555-5555\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Billing Address\" }), _jsx(\"textarea\", { value: currentInvoice.client.billingAddress, onChange: function (e) { return updateNestedField('client', 'billingAddress', e.target.value); }, className: \"form-textarea\", rows: 3, placeholder: \"123 Main St, City, ST 00000\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Shipping Address\" }), _jsx(\"textarea\", { value: currentInvoice.client.shippingAddress, onChange: function (e) { return updateNestedField('client', 'shippingAddress', e.target.value); }, className: \"form-textarea\", rows: 3, placeholder: \"Same as billing address\" })] })] })] })), activeSection === 'meta' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Invoice Details\" }), _jsxs(\"div\", { className: \"grid grid-cols-1 gap-4\", children: [_jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Invoice Number\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.invoiceNumber, onChange: function (e) { return updateField('invoiceNumber', e.target.value); }, className: \"form-input\", placeholder: \"INV-2025-00001\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"PO Number\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.poNumber, onChange: function (e) { return updateField('poNumber', e.target.value); }, className: \"form-input\", placeholder: \"PO-7788\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Issue Date\" }), _jsx(\"input\", { type: \"date\", value: currentInvoice.issueDate, onChange: function (e) { return updateField('issueDate', e.target.value); }, className: \"form-input\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Due Date\" }), _jsx(\"input\", { type: \"date\", value: currentInvoice.dueDate, onChange: function (e) { return updateField('dueDate', e.target.value); }, className: \"form-input\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Payment Terms\" }), _jsxs(\"select\", { value: currentInvoice.paymentTerms, onChange: function (e) { return updateField('paymentTerms', e.target.value); }, className: \"form-select\", children: [_jsx(\"option\", { value: \"NET_0\", children: \"Due on Receipt\" }), _jsx(\"option\", { value: \"NET_7\", children: \"Net 7 Days\" }), _jsx(\"option\", { value: \"NET_14\", children: \"Net 14 Days\" }), _jsx(\"option\", { value: \"NET_15\", children: \"Net 15 Days\" }), _jsx(\"option\", { value: \"NET_30\", children: \"Net 30 Days\" }), _jsx(\"option\", { value: \"NET_45\", children: \"Net 45 Days\" }), _jsx(\"option\", { value: \"NET_60\", children: \"Net 60 Days\" }), _jsx(\"option\", { value: \"NET_90\", children: \"Net 90 Days\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Currency\" }), _jsxs(\"select\", { value: currentInvoice.currency, onChange: function (e) { return updateField('currency', e.target.value); }, className: \"form-select\", children: [_jsx(\"option\", { value: \"USD\", children: \"USD ($)\" }), _jsx(\"option\", { value: \"EUR\", children: \"EUR (\\u20AC)\" }), _jsx(\"option\", { value: \"GBP\", children: \"GBP (\\u00A3)\" }), _jsx(\"option\", { value: \"CAD\", children: \"CAD ($)\" }), _jsx(\"option\", { value: \"AUD\", children: \"AUD ($)\" })] })] })] })] })] })), activeSection === 'items' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Line Items\" }), _jsx(\"button\", { onClick: addItem, className: \"btn-primary text-sm\", children: \"+ Add Item\" })] }), _jsxs(\"div\", { className: \"space-y-4\", children: [currentInvoice.items.map(function (item, index) {\n                                var _a;\n                                return (_jsxs(\"div\", { className: \"border border-gray-200 rounded-lg p-4 space-y-3\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"span\", { className: \"text-sm font-medium text-gray-500\", children: [\"Item #\", index + 1] }), _jsxs(\"div\", { className: \"flex space-x-2\", children: [_jsx(\"button\", { onClick: function () { return duplicateItem(item.id); }, className: \"text-sm text-blue-600 hover:text-blue-800\", children: \"Duplicate\" }), _jsx(\"button\", { onClick: function () { return removeItem(item.id); }, className: \"text-sm text-red-600 hover:text-red-800\", children: \"Remove\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Item Name\" }), _jsx(\"input\", { type: \"text\", value: item.name, onChange: function (e) { return updateItem(item.id, 'name', e.target.value); }, className: \"form-input text-sm\", placeholder: \"Design Service\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"SKU\" }), _jsx(\"input\", { type: \"text\", value: item.sku, onChange: function (e) { return updateItem(item.id, 'sku', e.target.value); }, className: \"form-input text-sm\", placeholder: \"SERV-001\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Description\" }), _jsx(\"textarea\", { value: item.description, onChange: function (e) { return updateItem(item.id, 'description', e.target.value); }, className: \"form-textarea text-sm\", rows: 2, placeholder: \"Homepage + 3 inner pages\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-3 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Quantity\" }), _jsx(\"input\", { type: \"number\", value: item.quantity, onChange: function (e) { return updateItem(item.id, 'quantity', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm\", min: \"0\", step: \"0.01\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Unit Price\" }), _jsx(\"input\", { type: \"number\", value: item.unitPrice, onChange: function (e) { return updateItem(item.id, 'unitPrice', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm\", min: \"0\", step: \"0.01\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Tax Category\" }), _jsxs(\"select\", { value: item.taxCategory, onChange: function (e) { return updateItem(item.id, 'taxCategory', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"standard\", children: \"Standard\" }), _jsx(\"option\", { value: \"reduced\", children: \"Reduced\" }), _jsx(\"option\", { value: \"exempt\", children: \"Exempt\" })] })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Discount Type\" }), _jsxs(\"select\", { value: ((_a = item.discount) === null || _a === void 0 ? void 0 : _a.type) || '', onChange: function (e) {\n                                                                var _a;\n                                                                if (e.target.value === '') {\n                                                                    updateItem(item.id, 'discount', null);\n                                                                }\n                                                                else {\n                                                                    updateItem(item.id, 'discount', {\n                                                                        type: e.target.value,\n                                                                        value: ((_a = item.discount) === null || _a === void 0 ? void 0 : _a.value) || 0\n                                                                    });\n                                                                }\n                                                            }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"\", children: \"No Discount\" }), _jsx(\"option\", { value: \"percent\", children: \"Percentage\" }), _jsx(\"option\", { value: \"fixed\", children: \"Fixed Amount\" })] })] }), item.discount && (_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Discount Value\" }), _jsx(\"input\", { type: \"number\", value: item.discount.value, onChange: function (e) { return updateItem(item.id, 'discount', __assign(__assign({}, item.discount), { value: parseFloat(e.target.value) || 0 })); }, className: \"form-input text-sm\", min: \"0\", step: \"0.01\" })] }))] })] }, item.id));\n                            }), currentInvoice.items.length === 0 && (_jsxs(\"div\", { className: \"text-center py-8 text-gray-500\", children: [_jsx(\"p\", { children: \"No items added yet.\" }), _jsx(\"button\", { onClick: addItem, className: \"btn-primary mt-2\", children: \"Add Your First Item\" })] }))] })] })), activeSection === 'taxes' && (_jsxs(\"div\", { className: \"space-y-6\", children: [_jsxs(\"div\", { children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"h4\", { className: \"text-md font-semibold text-gray-800\", children: \"Invoice Discounts\" }), _jsx(\"button\", { onClick: addDiscount, className: \"btn-secondary text-sm\", children: \"+ Add Discount\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.discounts.map(function (discount) { return (_jsxs(\"div\", { className: \"flex items-center space-x-3 p-3 border border-gray-200 rounded\", children: [_jsx(\"input\", { type: \"text\", value: discount.label, onChange: function (e) { return updateDiscount(discount.id, 'label', e.target.value); }, className: \"form-input text-sm flex-1\", placeholder: \"Discount name\" }), _jsxs(\"select\", { value: discount.type, onChange: function (e) { return updateDiscount(discount.id, 'type', e.target.value); }, className: \"form-select text-sm w-24\", children: [_jsx(\"option\", { value: \"percent\", children: \"%\" }), _jsx(\"option\", { value: \"fixed\", children: \"$\" })] }), _jsx(\"input\", { type: \"number\", value: discount.value, onChange: function (e) { return updateDiscount(discount.id, 'value', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm w-20\", min: \"0\", step: \"0.01\" }), _jsx(\"button\", { onClick: function () { return removeDiscount(discount.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }, discount.id)); }) })] }), _jsxs(\"div\", { children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"h4\", { className: \"text-md font-semibold text-gray-800\", children: \"Fees\" }), _jsx(\"button\", { onClick: addFee, className: \"btn-secondary text-sm\", children: \"+ Add Fee\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.fees.map(function (fee) { return (_jsxs(\"div\", { className: \"space-y-3 p-3 border border-gray-200 rounded\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-3\", children: [_jsx(\"input\", { type: \"text\", value: fee.label, onChange: function (e) { return updateFee(fee.id, 'label', e.target.value); }, className: \"form-input text-sm flex-1\", placeholder: \"Fee name\" }), _jsxs(\"select\", { value: fee.type, onChange: function (e) { return updateFee(fee.id, 'type', e.target.value); }, className: \"form-select text-sm w-24\", children: [_jsx(\"option\", { value: \"percent\", children: \"%\" }), _jsx(\"option\", { value: \"fixed\", children: \"$\" })] }), _jsx(\"input\", { type: \"number\", value: fee.value, onChange: function (e) { return updateFee(fee.id, 'value', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm w-20\", min: \"0\", step: \"0.01\" }), _jsx(\"button\", { onClick: function () { return removeFee(fee.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Apply To\" }), _jsxs(\"select\", { value: fee.applyBase, onChange: function (e) { return updateFee(fee.id, 'applyBase', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"subtotal\", children: \"Subtotal\" }), _jsx(\"option\", { value: \"subtotal_after_item_discounts\", children: \"Subtotal After Item Discounts\" }), _jsx(\"option\", { value: \"subtotal_after_invoice_discounts\", children: \"Subtotal After All Discounts\" }), _jsx(\"option\", { value: \"grand_total_pre_tax\", children: \"Grand Total (Pre-Tax)\" })] })] })] }, fee.id)); }) })] }), _jsxs(\"div\", { children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"h4\", { className: \"text-md font-semibold text-gray-800\", children: \"Taxes\" }), _jsx(\"button\", { onClick: addTax, className: \"btn-secondary text-sm\", children: \"+ Add Tax\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.taxes.map(function (tax) { return (_jsxs(\"div\", { className: \"space-y-3 p-3 border border-gray-200 rounded\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-3\", children: [_jsx(\"input\", { type: \"text\", value: tax.label, onChange: function (e) { return updateTax(tax.id, 'label', e.target.value); }, className: \"form-input text-sm flex-1\", placeholder: \"Tax name\" }), _jsxs(\"div\", { className: \"flex items-center space-x-1\", children: [_jsx(\"input\", { type: \"number\", value: tax.rate, onChange: function (e) { return updateTax(tax.id, 'rate', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm w-20\", min: \"0\", step: \"0.01\" }), _jsx(\"span\", { className: \"text-sm text-gray-500\", children: \"%\" })] }), _jsx(\"button\", { onClick: function () { return removeTax(tax.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-3 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Category\" }), _jsxs(\"select\", { value: tax.category, onChange: function (e) { return updateTax(tax.id, 'category', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"standard\", children: \"Standard\" }), _jsx(\"option\", { value: \"reduced\", children: \"Reduced\" }), _jsx(\"option\", { value: \"all\", children: \"All Items\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Priority\" }), _jsx(\"input\", { type: \"number\", value: tax.priority, onChange: function (e) { return updateTax(tax.id, 'priority', parseInt(e.target.value) || 1); }, className: \"form-input text-sm\", min: \"1\" })] }), _jsx(\"div\", { className: \"flex items-center pt-6\", children: _jsxs(\"label\", { className: \"flex items-center text-sm\", children: [_jsx(\"input\", { type: \"checkbox\", checked: tax.applyAfterDiscounts, onChange: function (e) { return updateTax(tax.id, 'applyAfterDiscounts', e.target.checked); }, className: \"mr-2\" }), \"After Discounts\"] }) })] })] }, tax.id)); }) })] })] })), activeSection === 'payments' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Payments\" }), _jsx(\"button\", { onClick: addPayment, className: \"btn-secondary text-sm\", children: \"+ Add Payment\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.payments.map(function (payment) { return (_jsxs(\"div\", { className: \"flex items-center space-x-3 p-3 border border-gray-200 rounded\", children: [_jsx(\"input\", { type: \"date\", value: payment.date, onChange: function (e) { return updatePayment(payment.id, 'date', e.target.value); }, className: \"form-input text-sm\" }), _jsxs(\"select\", { value: payment.method, onChange: function (e) { return updatePayment(payment.id, 'method', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"Cash\", children: \"Cash\" }), _jsx(\"option\", { value: \"Check\", children: \"Check\" }), _jsx(\"option\", { value: \"Card\", children: \"Credit Card\" }), _jsx(\"option\", { value: \"Bank Transfer\", children: \"Bank Transfer\" }), _jsx(\"option\", { value: \"PayPal\", children: \"PayPal\" }), _jsx(\"option\", { value: \"Other\", children: \"Other\" })] }), _jsx(\"input\", { type: \"text\", inputMode: \"decimal\", value: payment.amount.toString(), onChange: function (e) {\n                                        var value = e.target.value.replace(/[^0-9.]/g, '');\n                                        if (value === '' || /^\\d*\\.?\\d*$/.test(value)) {\n                                            updatePayment(payment.id, 'amount', parseFloat(value) || 0);\n                                        }\n                                    }, className: \"form-input text-sm w-32\", placeholder: \"0.00\" }), _jsx(\"button\", { onClick: function () { return removePayment(payment.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }, payment.id)); }) })] })), activeSection === 'notes' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Notes & Terms\" }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Notes to Client\" }), _jsx(\"textarea\", { value: currentInvoice.notes, onChange: function (e) { return updateField('notes', e.target.value); }, className: \"form-textarea\", rows: 4, placeholder: \"Thank you for your business!\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Terms & Conditions\" }), _jsx(\"textarea\", { value: currentInvoice.terms, onChange: function (e) { return updateField('terms', e.target.value); }, className: \"form-textarea\", rows: 4, placeholder: \"Payment due within 14 days. Late payments may incur additional charges.\" })] })] }))] }));\n};\nexport default InvoiceForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Mustache from 'mustache';\nimport { formatCurrency, calculateItemTotal, calculateItemDiscount } from './calculations';\n/**\n * Prepare data for template rendering\n */\nexport var prepareTemplateData = function (invoice, template, businessProfile) {\n    // Prepare items with calculated values\n    var itemsWithCalculations = invoice.items.map(function (item) { return (__assign(__assign({}, item), { calculatedLineTotal: formatCurrency(calculateItemTotal(item), invoice.currency, invoice.locale), calculatedDiscount: item.discount ? formatCurrency(calculateItemDiscount(item), invoice.currency, invoice.locale) : '', formattedUnitPrice: formatCurrency(item.unitPrice, invoice.currency, invoice.locale), formattedQuantity: item.quantity.toString(), discountDisplay: item.discount\n            ? \"\".concat(item.discount.type === 'percent' ? item.discount.value + '%' : formatCurrency(item.discount.value, invoice.currency, invoice.locale))\n            : '' })); });\n    // Prepare totals with currency formatting\n    var formattedTotals = {\n        subtotal: formatCurrency(invoice.totals.subtotal, invoice.currency, invoice.locale),\n        itemDiscounts: formatCurrency(invoice.totals.itemDiscounts, invoice.currency, invoice.locale),\n        invoiceDiscounts: formatCurrency(invoice.totals.invoiceDiscounts, invoice.currency, invoice.locale),\n        fees: formatCurrency(invoice.totals.fees, invoice.currency, invoice.locale),\n        tax: formatCurrency(invoice.totals.tax, invoice.currency, invoice.locale),\n        grandTotal: formatCurrency(invoice.totals.grandTotal, invoice.currency, invoice.locale),\n        paid: formatCurrency(invoice.totals.paid, invoice.currency, invoice.locale),\n        balanceDue: formatCurrency(invoice.totals.balanceDue, invoice.currency, invoice.locale)\n    };\n    // Prepare fees with formatting\n    var formattedFees = invoice.fees.map(function (fee) { return (__assign(__assign({}, fee), { formattedValue: fee.type === 'percent'\n            ? \"\".concat(fee.value, \"%\")\n            : formatCurrency(fee.value, invoice.currency, invoice.locale) })); });\n    // Prepare taxes with formatting\n    var formattedTaxes = invoice.taxes.map(function (tax) { return (__assign(__assign({}, tax), { formattedRate: \"\".concat(tax.rate, \"%\") })); });\n    // Prepare payments with formatting\n    var formattedPayments = invoice.payments.map(function (payment) { return (__assign(__assign({}, payment), { formattedAmount: formatCurrency(payment.amount, invoice.currency, invoice.locale), formattedDate: new Date(payment.date).toLocaleDateString(invoice.locale) })); });\n    // Prepare discounts with formatting\n    var formattedDiscounts = invoice.discounts.map(function (discount) { return (__assign(__assign({}, discount), { formattedValue: discount.type === 'percent'\n            ? \"\".concat(discount.value, \"%\")\n            : formatCurrency(discount.value, invoice.currency, invoice.locale) })); });\n    // Format dates\n    var formattedIssueDate = new Date(invoice.issueDate).toLocaleDateString(invoice.locale);\n    var formattedDueDate = new Date(invoice.dueDate).toLocaleDateString(invoice.locale);\n    return {\n        invoice: __assign(__assign({}, invoice), { formattedIssueDate: formattedIssueDate, formattedDueDate: formattedDueDate, paymentTermsDisplay: getPaymentTermsDisplay(invoice.paymentTerms) }),\n        business: businessProfile,\n        client: invoice.client,\n        brand: template.brand,\n        layout: template.layout,\n        items: itemsWithCalculations,\n        fees: formattedFees,\n        taxes: formattedTaxes,\n        payments: formattedPayments,\n        discounts: formattedDiscounts,\n        totals: formattedTotals,\n        // Helper functions for templates\n        helpers: {\n            formatCurrency: function (amount) { return formatCurrency(amount, invoice.currency, invoice.locale); },\n            formatDate: function (date) { return new Date(date).toLocaleDateString(invoice.locale); },\n            formatPercentage: function (value) { return \"\".concat(value, \"%\"); }\n        }\n    };\n};\n/**\n * Render template with data\n */\nexport var renderTemplate = function (template, data) {\n    try {\n        // Parse template to validate syntax before rendering\n        Mustache.parse(template.html);\n        // Disable HTML escaping for currency symbols and HTML content\n        var rendered = Mustache.render(template.html, data, {}, {\n            escape: function (text) { return text; } // Disable escaping\n        });\n        return rendered;\n    }\n    catch (error) {\n        console.error('Error rendering template:', error);\n        console.error('Template HTML length:', template.html.length);\n        console.error('Error position:', error.message);\n        return \"<div class=\\\"error\\\">Error rendering template: \".concat(error.message, \"</div>\");\n    }\n};\n/**\n * Generate complete HTML for PDF export\n */\nexport var generateInvoiceHTML = function (invoice, template, businessProfile) {\n    var data = prepareTemplateData(invoice, template, businessProfile);\n    var renderedContent = renderTemplate(template, data);\n    // Wrap in complete HTML document with styles\n    return \"<!DOCTYPE html>\\n<html lang=\\\"\".concat(invoice.locale, \"\\\">\\n<head>\\n  <meta charset=\\\"UTF-8\\\">\\n  <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n  <title>Invoice \").concat(invoice.invoiceNumber, \"</title>\\n  <style>\\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Slab:wght@300;400;500;600;700&display=swap');\\n    \\n    * {\\n      box-sizing: border-box;\\n      margin: 0;\\n      padding: 0;\\n    }\\n    \\n    body {\\n      font-family: '\").concat(template.brand.fontFamilyBody, \"', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\\n      font-size: 14px;\\n      line-height: 1.5;\\n      color: #1f2937;\\n      background: white;\\n      -webkit-print-color-adjust: exact;\\n    }\\n    \\n    .invoice {\\n      max-width: 8.5in;\\n      margin: 0 auto;\\n      padding: \").concat(template.layout.margins.top, \"px \").concat(template.layout.margins.right, \"px \").concat(template.layout.margins.bottom, \"px \").concat(template.layout.margins.left, \"px;\\n      background: white;\\n    }\\n    \\n    h1, h2, h3, h4, h5, h6 {\\n      font-family: '\").concat(template.brand.fontFamilyHeader, \"', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\\n    }\\n    \\n    table {\\n      width: 100%;\\n      border-collapse: collapse;\\n      margin: 1rem 0;\\n    }\\n    \\n    th, td {\\n      padding: 8px 12px;\\n      text-align: left;\\n      border-bottom: 1px solid #e5e7eb;\\n    }\\n    \\n    th {\\n      background-color: #f9fafb;\\n      font-weight: 600;\\n      border-bottom: 2px solid #d1d5db;\\n    }\\n    \\n    .text-right {\\n      text-align: right;\\n    }\\n    \\n    .text-center {\\n      text-align: center;\\n    }\\n    \\n    .font-bold {\\n      font-weight: 700;\\n    }\\n    \\n    .font-semibold {\\n      font-weight: 600;\\n    }\\n    \\n    .text-lg {\\n      font-size: 1.125rem;\\n    }\\n    \\n    .text-xl {\\n      font-size: 1.25rem;\\n    }\\n    \\n    .text-2xl {\\n      font-size: 1.5rem;\\n    }\\n    \\n    .mb-2 {\\n      margin-bottom: 0.5rem;\\n    }\\n    \\n    .mb-4 {\\n      margin-bottom: 1rem;\\n    }\\n    \\n    .mb-6 {\\n      margin-bottom: 1.5rem;\\n    }\\n    \\n    .mb-8 {\\n      margin-bottom: 2rem;\\n    }\\n    \\n    .mt-4 {\\n      margin-top: 1rem;\\n    }\\n    \\n    .mt-8 {\\n      margin-top: 2rem;\\n    }\\n    \\n    .flex {\\n      display: flex;\\n    }\\n    \\n    .items-start {\\n      align-items: flex-start;\\n    }\\n    \\n    .items-center {\\n      align-items: center;\\n    }\\n    \\n    .justify-between {\\n      justify-content: space-between;\\n    }\\n    \\n    .gap-4 {\\n      gap: 1rem;\\n    }\\n    \\n    .gap-6 {\\n      gap: 1.5rem;\\n    }\\n    \\n    .grid {\\n      display: grid;\\n    }\\n    \\n    .grid-cols-2 {\\n      grid-template-columns: repeat(2, minmax(0, 1fr));\\n    }\\n    \\n    .border-t {\\n      border-top: 1px solid #e5e7eb;\\n    }\\n    \\n    .border-b {\\n      border-bottom: 1px solid #e5e7eb;\\n    }\\n    \\n    .pt-4 {\\n      padding-top: 1rem;\\n    }\\n    \\n    .pb-4 {\\n      padding-bottom: 1rem;\\n    }\\n    \\n    @media print {\\n      .invoice {\\n        margin: 0;\\n        padding: 0.5in;\\n        box-shadow: none;\\n        border: none;\\n      }\\n      \\n      .page-break {\\n        page-break-before: always;\\n      }\\n      \\n      table {\\n        page-break-inside: avoid;\\n      }\\n      \\n      tr {\\n        page-break-inside: avoid;\\n      }\\n    }\\n    \\n    \").concat(template.css, \"\\n  </style>\\n</head>\\n<body>\\n  \").concat(renderedContent, \"\\n</body>\\n</html>\");\n};\n/**\n * Get display text for payment terms\n */\nvar getPaymentTermsDisplay = function (paymentTerms) {\n    var termsMap = {\n        'NET_0': 'Payment due upon receipt',\n        'NET_7': 'Payment due within 7 days',\n        'NET_14': 'Payment due within 14 days',\n        'NET_15': 'Payment due within 15 days',\n        'NET_30': 'Payment due within 30 days',\n        'NET_45': 'Payment due within 45 days',\n        'NET_60': 'Payment due within 60 days',\n        'NET_90': 'Payment due within 90 days'\n    };\n    return termsMap[paymentTerms] || paymentTerms;\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { prepareTemplateData, renderTemplate } from '../utils/templateRenderer';\nvar InvoicePreview = function () {\n    var _a;\n    var _b = useInvoiceStore(), currentInvoice = _b.currentInvoice, templates = _b.templates, businessProfiles = _b.businessProfiles;\n    var _c = useState(100), zoom = _c[0], setZoom = _c[1];\n    var _d = useState(''), renderedHTML = _d[0], setRenderedHTML = _d[1];\n    useEffect(function () {\n        if (currentInvoice && templates.length > 0 && businessProfiles.length > 0) {\n            var template = templates.find(function (t) { return t.id === currentInvoice.templateId; }) || templates[0];\n            var businessProfile = businessProfiles[0];\n            try {\n                var data = prepareTemplateData(currentInvoice, template, businessProfile);\n                var rendered = renderTemplate(template, data);\n                setRenderedHTML(rendered);\n            }\n            catch (error) {\n                console.error('Error rendering template:', error);\n                setRenderedHTML('<div class=\"error\">Error rendering invoice preview</div>');\n            }\n        }\n    }, [currentInvoice, templates, businessProfiles]);\n    if (!currentInvoice) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-full bg-white rounded-lg shadow\", children: _jsx(\"div\", { className: \"text-center text-gray-500\", children: _jsx(\"p\", { children: \"No invoice selected\" }) }) }));\n    }\n    var handleZoomChange = function (newZoom) {\n        setZoom(Math.max(50, Math.min(200, newZoom)));\n    };\n    return (_jsxs(\"div\", { className: \"h-full flex flex-col bg-white rounded-lg shadow\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Live Preview\" }), _jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"span\", { className: \"text-sm text-gray-600\", children: \"Zoom:\" }), _jsx(\"button\", { onClick: function () { return handleZoomChange(zoom - 10); }, className: \"p-1 text-gray-600 hover:text-gray-800\", disabled: zoom <= 50, children: \"-\" }), _jsxs(\"span\", { className: \"text-sm font-medium w-12 text-center\", children: [zoom, \"%\"] }), _jsx(\"button\", { onClick: function () { return handleZoomChange(zoom + 10); }, className: \"p-1 text-gray-600 hover:text-gray-800\", disabled: zoom >= 200, children: \"+\" }), _jsx(\"button\", { onClick: function () { return setZoom(100); }, className: \"px-2 py-1 text-xs text-gray-600 hover:text-gray-800 border border-gray-300 rounded\", children: \"Reset\" })] })] }), _jsxs(\"div\", { className: \"flex items-center space-x-2 text-sm text-gray-600\", children: [_jsxs(\"span\", { children: [\"Invoice #\", currentInvoice.invoiceNumber] }), _jsx(\"span\", { children: \"\\u2022\" }), _jsx(\"span\", { children: currentInvoice.currency }), _jsx(\"span\", { children: \"\\u2022\" }), _jsxs(\"span\", { children: [\"Updated: \", new Date(currentInvoice.updatedAt).toLocaleString()] })] })] }), _jsx(\"div\", { className: \"flex-1 overflow-auto p-4 bg-gray-100\", children: _jsx(\"div\", { className: \"invoice-preview mx-auto bg-white shadow-lg\", style: {\n                        transform: \"scale(\".concat(zoom / 100, \")\"),\n                        transformOrigin: 'top center',\n                        width: '8.5in',\n                        minHeight: '11in',\n                        padding: '0.5in'\n                    }, children: renderedHTML ? (_jsx(\"div\", { dangerouslySetInnerHTML: { __html: renderedHTML } })) : (_jsx(\"div\", { className: \"flex items-center justify-center h-64 text-gray-500\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"div\", { className: \"spinner mx-auto mb-4\" }), _jsx(\"p\", { children: \"Rendering invoice...\" })] }) })) }) }), _jsx(\"div\", { className: \"p-4 border-t border-gray-200 bg-gray-50\", children: _jsxs(\"div\", { className: \"flex items-center justify-between text-sm text-gray-600\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsxs(\"span\", { children: [\"Template: \", ((_a = templates.find(function (t) { return t.id === currentInvoice.templateId; })) === null || _a === void 0 ? void 0 : _a.name) || 'Unknown'] }), _jsx(\"span\", { children: \"\\u2022\" }), _jsx(\"span\", { children: \"Page: 1/1\" })] }), _jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"div\", { className: \"w-2 h-2 bg-green-500 rounded-full\" }), _jsx(\"span\", { children: \"Live updating\" })] })] }) })] }));\n};\nexport default InvoicePreview;\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { formatCurrency } from '../utils/calculations';\nvar CalculationSummary = function () {\n    var currentInvoice = useInvoiceStore().currentInvoice;\n    if (!currentInvoice) {\n        return (_jsxs(\"div\", { className: \"bg-gray-50 rounded-lg p-4 w-64\", children: [_jsx(\"h4\", { className: \"text-sm font-semibold text-gray-800 mb-2\", children: \"Invoice Summary\" }), _jsx(\"div\", { className: \"text-sm text-gray-500\", children: \"No invoice selected\" })] }));\n    }\n    var totals = currentInvoice.totals, currency = currentInvoice.currency, locale = currentInvoice.locale;\n    return (_jsxs(\"div\", { className: \"bg-gray-50 rounded-lg p-4 w-64\", children: [_jsx(\"h4\", { className: \"text-sm font-semibold text-gray-800 mb-3\", children: \"Invoice Summary\" }), _jsxs(\"div\", { className: \"space-y-2 text-sm\", children: [_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-gray-600\", children: \"Subtotal:\" }), _jsx(\"span\", { className: \"font-medium\", children: formatCurrency(totals.subtotal, currency, locale) })] }), totals.itemDiscounts > 0 && (_jsxs(\"div\", { className: \"flex justify-between text-green-600\", children: [_jsx(\"span\", { children: \"Item Discounts:\" }), _jsxs(\"span\", { children: [\"-\", formatCurrency(totals.itemDiscounts, currency, locale)] })] })), totals.invoiceDiscounts > 0 && (_jsxs(\"div\", { className: \"flex justify-between text-green-600\", children: [_jsx(\"span\", { children: \"Invoice Discounts:\" }), _jsxs(\"span\", { children: [\"-\", formatCurrency(totals.invoiceDiscounts, currency, locale)] })] })), totals.fees > 0 && (_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-gray-600\", children: \"Fees:\" }), _jsx(\"span\", { className: \"font-medium\", children: formatCurrency(totals.fees, currency, locale) })] })), totals.tax > 0 && (_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-gray-600\", children: \"Tax:\" }), _jsx(\"span\", { className: \"font-medium\", children: formatCurrency(totals.tax, currency, locale) })] })), _jsx(\"div\", { className: \"border-t border-gray-300 pt-2\", children: _jsxs(\"div\", { className: \"flex justify-between font-semibold\", children: [_jsx(\"span\", { children: \"Total:\" }), _jsx(\"span\", { children: formatCurrency(totals.grandTotal, currency, locale) })] }) }), totals.paid > 0 && (_jsxs(_Fragment, { children: [_jsxs(\"div\", { className: \"flex justify-between text-blue-600\", children: [_jsx(\"span\", { children: \"Paid:\" }), _jsxs(\"span\", { children: [\"-\", formatCurrency(totals.paid, currency, locale)] })] }), _jsxs(\"div\", { className: \"flex justify-between font-semibold text-lg\", children: [_jsx(\"span\", { children: \"Balance Due:\" }), _jsx(\"span\", { className: totals.balanceDue > 0 ? 'text-red-600' : 'text-green-600', children: formatCurrency(totals.balanceDue, currency, locale) })] })] })), currentInvoice.items.length > 0 && (_jsxs(\"div\", { className: \"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500\", children: [_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { children: \"Items:\" }), _jsx(\"span\", { children: currentInvoice.items.length })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { children: \"Total Qty:\" }), _jsx(\"span\", { children: currentInvoice.items.reduce(function (sum, item) { return sum + item.quantity; }, 0) })] })] }))] })] }));\n};\nexport default CalculationSummary;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nvar TemplateSelector = function (_a) {\n    var onClose = _a.onClose, onSelect = _a.onSelect;\n    var _b = useInvoiceStore(), templates = _b.templates, currentInvoice = _b.currentInvoice, updateInvoice = _b.updateInvoice, deleteTemplate = _b.deleteTemplate;\n    var _c = useState((currentInvoice === null || currentInvoice === void 0 ? void 0 : currentInvoice.templateId) || ''), selectedTemplate = _c[0], setSelectedTemplate = _c[1];\n    var handleSelect = function () {\n        if (selectedTemplate && currentInvoice) {\n            updateInvoice({ templateId: selectedTemplate });\n            onSelect(selectedTemplate);\n        }\n    };\n    var handleDelete = function (templateId, e) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    e.stopPropagation();\n                    if (!window.confirm('Are you sure you want to delete this template?')) return [3 /*break*/, 2];\n                    return [4 /*yield*/, deleteTemplate(templateId)];\n                case 1:\n                    _a.sent();\n                    _a.label = 2;\n                case 2: return [2 /*return*/];\n            }\n        });\n    }); };\n    return (_jsx(\"div\", { className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", children: _jsxs(\"div\", { className: \"bg-white rounded-lg shadow-xl w-4xl max-w-6xl max-h-5xl overflow-hidden\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between p-6 border-b border-gray-200\", children: [_jsx(\"h2\", { className: \"text-xl font-semibold text-gray-800\", children: \"Choose Invoice Template\" }), _jsx(\"button\", { onClick: onClose, className: \"text-gray-400 hover:text-gray-600 text-2xl font-light\", children: \"\\u00D7\" })] }), _jsxs(\"div\", { className: \"p-6 max-h-96 overflow-y-auto\", children: [_jsx(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\", children: templates.map(function (template) {\n                                var _a;\n                                return (_jsxs(\"div\", { className: \"relative border-2 rounded-lg p-4 cursor-pointer transition-all duration-200 \".concat(selectedTemplate === template.id\n                                        ? 'border-blue-500 bg-blue-50'\n                                        : 'border-gray-200 hover:border-gray-300 hover:shadow-md'), onClick: function () { return setSelectedTemplate(template.id); }, children: [_jsx(\"div\", { className: \"aspect-[8.5/11] bg-white border border-gray-200 rounded shadow-sm mb-3 overflow-hidden\", children: _jsxs(\"div\", { className: \"p-2 transform scale-50 origin-top-left w-[200%] h-[200%]\", children: [template.id === 'clean-professional' && (_jsxs(\"div\", { className: \"p-4 h-full\", children: [_jsxs(\"div\", { className: \"flex justify-between items-start mb-4\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"div\", { className: \"w-8 h-8 bg-gray-300 rounded\" }), _jsxs(\"div\", { children: [_jsx(\"div\", { className: \"h-3 bg-gray-800 w-20 mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-400 w-16\" })] })] }), _jsxs(\"div\", { className: \"text-right\", children: [_jsx(\"div\", { className: \"h-4 bg-blue-600 w-16 mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-400 w-12\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4 mb-4\", children: [_jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-3/4\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-1/2\" })] }), _jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-2/3\" })] })] }), _jsx(\"div\", { className: \"border-t border-gray-200 pt-2\", children: _jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-200 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200 w-4/5\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200 w-3/5\" })] }) })] })), template.id === 'modern-stripe' && (_jsxs(\"div\", { className: \"p-4 h-full\", children: [_jsx(\"div\", { className: \"h-8 bg-gradient-to-r from-blue-600 to-purple-600 mb-4 -mx-4 -mt-4\" }), _jsxs(\"div\", { className: \"flex justify-between items-start mb-4\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"div\", { className: \"w-6 h-6 bg-white border-2 border-blue-600 rounded\" }), _jsx(\"div\", { className: \"h-3 bg-gray-800 w-20\" })] }), _jsxs(\"div\", { className: \"text-right\", children: [_jsx(\"div\", { className: \"h-3 bg-white w-16 mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-12\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4 mb-4\", children: [_jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-3/4\" })] }), _jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-2/3\" })] })] }), _jsxs(\"div\", { className: \"bg-gray-50 p-2 -mx-4\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-4/5\" })] })] })), template.id === 'compact-ledger' && (_jsxs(\"div\", { className: \"p-3 h-full text-xs\", children: [_jsxs(\"div\", { className: \"flex justify-between mb-2\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-800 w-16\" }), _jsx(\"div\", { className: \"h-2 bg-gray-600 w-12\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-3 gap-2 mb-2 text-xs\", children: [_jsxs(\"div\", { className: \"space-y-0.5\", children: [_jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-3/4\" })] }), _jsxs(\"div\", { className: \"space-y-0.5\", children: [_jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-2/3\" })] }), _jsxs(\"div\", { className: \"space-y-0.5\", children: [_jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-1/2\" })] })] }), _jsxs(\"div\", { className: \"border border-gray-200 mb-2\", children: [_jsxs(\"div\", { className: \"bg-gray-100 p-1 grid grid-cols-4 gap-1\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-400\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400\" })] }), _jsxs(\"div\", { className: \"p-1 space-y-0.5\", children: [_jsxs(\"div\", { className: \"grid grid-cols-4 gap-1\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-4 gap-1\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" })] })] })] }), _jsx(\"div\", { className: \"flex justify-end\", children: _jsxs(\"div\", { className: \"space-y-0.5 w-1/3\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-400 w-full\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400 w-3/4\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-600 w-full\" })] }) })] })), !['clean-professional', 'modern-stripe', 'compact-ledger'].includes(template.id) && (_jsxs(\"div\", { className: \"p-4 h-full\", children: [_jsxs(\"div\", { className: \"flex justify-between items-center mb-4\", children: [_jsx(\"div\", { className: \"h-3 bg-gray-800 w-24\" }), _jsx(\"div\", { className: \"h-3 bg-blue-600 w-16\" })] }), _jsxs(\"div\", { className: \"space-y-2 mb-4\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-3/4\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-1/2\" })] }), _jsx(\"div\", { className: \"border-t border-gray-200 pt-2\", children: _jsxs(\"div\", { className: \"grid grid-cols-3 gap-2\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-200\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200\" })] }) })] }))] }) }), _jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"div\", { children: [_jsx(\"h3\", { className: \"font-medium text-gray-800 truncate\", children: template.name }), _jsx(\"p\", { className: \"text-sm text-gray-500\", children: ((_a = template.layout) === null || _a === void 0 ? void 0 : _a.headerStyle) || 'Custom layout' })] }), !['clean-professional', 'modern-stripe', 'compact-ledger'].includes(template.id) && (_jsx(\"button\", { onClick: function (e) { return handleDelete(template.id, e); }, className: \"p-1 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity\", title: \"Delete template\", children: _jsx(\"svg\", { className: \"w-4 h-4\", fill: \"currentColor\", viewBox: \"0 0 20 20\", children: _jsx(\"path\", { fillRule: \"evenodd\", d: \"M9 2a1 1 0 000 2h2a1 1 0 100-2H9zM4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v1H4V5zM3 8a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z\", clipRule: \"evenodd\" }) }) }))] }), selectedTemplate === template.id && (_jsx(\"div\", { className: \"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center\", children: _jsx(\"svg\", { className: \"w-4 h-4 text-white\", fill: \"currentColor\", viewBox: \"0 0 20 20\", children: _jsx(\"path\", { fillRule: \"evenodd\", d: \"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\", clipRule: \"evenodd\" }) }) }))] }, template.id));\n                            }) }), templates.length === 0 && (_jsx(\"div\", { className: \"text-center py-12 text-gray-500\", children: _jsx(\"p\", { children: \"No templates available\" }) }))] }), _jsxs(\"div\", { className: \"flex items-center justify-between p-6 border-t border-gray-200\", children: [_jsxs(\"div\", { className: \"text-sm text-gray-600\", children: [templates.length, \" template\", templates.length !== 1 ? 's' : '', \" available\"] }), _jsxs(\"div\", { className: \"flex space-x-3\", children: [_jsx(\"button\", { onClick: onClose, className: \"btn-secondary\", children: \"Cancel\" }), _jsx(\"button\", { onClick: handleSelect, disabled: !selectedTemplate, className: \"btn-primary\", children: \"Apply Template\" })] })] })] }) }));\n};\nexport default TemplateSelector;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { exportToPDF } from '../utils/storage';\nimport { generateInvoiceHTML } from '../utils/templateRenderer';\nimport CalculationSummary from './CalculationSummary';\nimport TemplateSelector from './TemplateSelector';\nvar ActionBar = function () {\n    var _a = useInvoiceStore(), currentInvoice = _a.currentInvoice, templates = _a.templates, businessProfiles = _a.businessProfiles, saveInvoice = _a.saveInvoice, createNewInvoice = _a.createNewInvoice, duplicateInvoice = _a.duplicateInvoice, saveAsTemplate = _a.saveAsTemplate, hasUnsavedChanges = _a.hasUnsavedChanges, lastSaved = _a.lastSaved, isLoading = _a.isLoading, error = _a.error;\n    var _b = useState(false), isExporting = _b[0], setIsExporting = _b[1];\n    var _c = useState(false), showTemplateSelector = _c[0], setShowTemplateSelector = _c[1];\n    var _d = useState(false), showSaveTemplateDialog = _d[0], setShowSaveTemplateDialog = _d[1];\n    var _e = useState(''), templateName = _e[0], setTemplateName = _e[1];\n    var _f = useState(100), zoomLevel = _f[0], setZoomLevel = _f[1];\n    var handleSave = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var success;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, saveInvoice()];\n                case 1:\n                    success = _a.sent();\n                    if (success) {\n                        // Show success feedback\n                        console.log('Invoice saved successfully');\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleExportPDF = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var template, businessProfile, htmlContent, filename, result, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!currentInvoice)\n                        return [2 /*return*/];\n                    setIsExporting(true);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, 4, 5]);\n                    template = templates.find(function (t) { return t.id === currentInvoice.templateId; }) || templates[0];\n                    businessProfile = businessProfiles[0];\n                    if (!template || !businessProfile) {\n                        throw new Error('Missing template or business profile');\n                    }\n                    htmlContent = generateInvoiceHTML(currentInvoice, template, businessProfile);\n                    filename = \"\".concat(currentInvoice.invoiceNumber, \".pdf\");\n                    return [4 /*yield*/, exportToPDF(htmlContent, filename)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        console.log('PDF exported successfully:', result.path);\n                    }\n                    else {\n                        console.error('Failed to export PDF:', result.error);\n                    }\n                    return [3 /*break*/, 5];\n                case 3:\n                    error_1 = _a.sent();\n                    console.error('Error exporting PDF:', error_1);\n                    return [3 /*break*/, 5];\n                case 4:\n                    setIsExporting(false);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleSaveAsTemplate = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var success;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!templateName.trim())\n                        return [2 /*return*/];\n                    return [4 /*yield*/, saveAsTemplate(templateName)];\n                case 1:\n                    success = _a.sent();\n                    if (success) {\n                        setShowSaveTemplateDialog(false);\n                        setTemplateName('');\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleZoomIn = function () {\n        var newZoom = Math.min(zoomLevel + 10, 200);\n        setZoomLevel(newZoom);\n        document.documentElement.style.fontSize = \"\".concat(newZoom, \"%\");\n    };\n    var handleZoomOut = function () {\n        var newZoom = Math.max(zoomLevel - 10, 50);\n        setZoomLevel(newZoom);\n        document.documentElement.style.fontSize = \"\".concat(newZoom, \"%\");\n    };\n    var resetZoom = function () {\n        setZoomLevel(100);\n        document.documentElement.style.fontSize = '100%';\n    };\n    var formatLastSaved = function (timestamp) {\n        if (!timestamp)\n            return 'Never';\n        var date = new Date(timestamp);\n        var now = new Date();\n        var diffMs = now.getTime() - date.getTime();\n        var diffMinutes = Math.floor(diffMs / 60000);\n        if (diffMinutes < 1)\n            return 'Just now';\n        if (diffMinutes < 60)\n            return \"\".concat(diffMinutes, \"m ago\");\n        var diffHours = Math.floor(diffMinutes / 60);\n        if (diffHours < 24)\n            return \"\".concat(diffHours, \"h ago\");\n        return date.toLocaleDateString();\n    };\n    return (_jsxs(\"div\", { className: \"bg-white border-b border-gray-200 px-4 py-2\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-3\", children: [_jsx(\"h1\", { className: \"text-lg font-semibold text-gray-900\", children: \"StoneActive LLC Invoice Studio\" }), _jsx(\"div\", { className: \"h-4 w-px bg-gray-300\" }), _jsxs(\"div\", { className: \"flex items-center space-x-1\", children: [_jsx(\"button\", { onClick: createNewInvoice, className: \"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700\", children: \"New\" }), _jsx(\"button\", { onClick: handleSave, disabled: isLoading || !hasUnsavedChanges, className: \"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\", children: isLoading ? 'Saving...' : 'Save' }), _jsx(\"button\", { onClick: duplicateInvoice, disabled: !currentInvoice, className: \"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\", children: \"Duplicate\" }), _jsx(\"button\", { onClick: function () { return setShowTemplateSelector(true); }, className: \"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\", children: \"Templates\" }), _jsx(\"button\", { onClick: handleExportPDF, disabled: isExporting || !currentInvoice, className: \"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700\", children: isExporting ? 'Exporting...' : 'PDF' })] }), _jsx(\"div\", { className: \"h-4 w-px bg-gray-300\" }), _jsxs(\"div\", { className: \"flex items-center space-x-0.5\", children: [_jsx(\"button\", { onClick: handleZoomOut, disabled: zoomLevel <= 50, className: \"p-1 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded text-sm\", title: \"Zoom Out\", children: \"\\u2212\" }), _jsxs(\"button\", { onClick: resetZoom, className: \"px-2 py-1 text-xs font-mono text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded min-w-[2.5rem]\", title: \"Reset Zoom\", children: [zoomLevel, \"%\"] }), _jsx(\"button\", { onClick: handleZoomIn, disabled: zoomLevel >= 200, className: \"p-1 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded text-sm\", title: \"Zoom In\", children: \"+\" })] })] }), _jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [error && (_jsxs(\"div\", { className: \"flex items-center text-red-600 text-sm\", children: [_jsx(\"span\", { className: \"mr-2\", children: \"\\u26A0\\uFE0F\" }), _jsx(\"span\", { children: error })] })), !error && (_jsxs(\"div\", { className: \"flex items-center text-sm text-gray-600\", children: [_jsx(\"div\", { className: \"w-2 h-2 rounded-full mr-2 \".concat(hasUnsavedChanges ? 'bg-orange-500' : 'bg-green-500') }), _jsxs(\"span\", { children: [hasUnsavedChanges ? 'Unsaved changes' : 'Saved', \" \\u2022 Last: \", formatLastSaved(lastSaved)] })] }))] }), _jsx(\"div\", { className: \"flex items-center\", children: _jsx(CalculationSummary, {}) })] }), showTemplateSelector && (_jsx(TemplateSelector, { onClose: function () { return setShowTemplateSelector(false); }, onSelect: function (templateId) {\n                    if (currentInvoice) {\n                        // Update current invoice template\n                        // updateInvoice({ templateId });\n                    }\n                    setShowTemplateSelector(false);\n                } })), showSaveTemplateDialog && (_jsx(\"div\", { className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", children: _jsxs(\"div\", { className: \"bg-white rounded-lg p-6 w-96\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold mb-4\", children: \"Save as Template\" }), _jsxs(\"div\", { className: \"mb-4\", children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Template Name\" }), _jsx(\"input\", { type: \"text\", value: templateName, onChange: function (e) { return setTemplateName(e.target.value); }, className: \"form-input\", placeholder: \"My Custom Template\", autoFocus: true })] }), _jsxs(\"div\", { className: \"flex justify-end space-x-3\", children: [_jsx(\"button\", { onClick: function () {\n                                        setShowSaveTemplateDialog(false);\n                                        setTemplateName('');\n                                    }, className: \"btn-secondary\", children: \"Cancel\" }), _jsx(\"button\", { onClick: handleSaveAsTemplate, disabled: !templateName.trim() || isLoading, className: \"btn-primary\", children: isLoading ? 'Saving...' : 'Save Template' })] })] }) }))] }));\n};\nexport default ActionBar;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nvar root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(_jsx(React.StrictMode, { children: _jsx(App, {}) }));\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport { useInvoiceStore } from './store/useInvoiceStore';\nimport InvoiceForm from './components/InvoiceForm';\nimport InvoicePreview from './components/InvoicePreview';\nimport ActionBar from './components/ActionBar';\nvar App = function () {\n    var _a = useInvoiceStore(), initializeApp = _a.initializeApp, isLoading = _a.isLoading, error = _a.error;\n    useEffect(function () {\n        initializeApp();\n    }, [initializeApp]);\n    if (isLoading) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-screen bg-gray-50\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"div\", { className: \"spinner mx-auto mb-4\" }), _jsx(\"p\", { className: \"text-gray-600\", children: \"Loading Invoice Studio Pro...\" })] }) }));\n    }\n    if (error) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-screen bg-gray-50\", children: _jsxs(\"div\", { className: \"text-center max-w-md\", children: [_jsx(\"div\", { className: \"text-red-500 text-xl mb-4\", children: \"\\u26A0\\uFE0F\" }), _jsx(\"h2\", { className: \"text-xl font-semibold text-gray-800 mb-2\", children: \"Error\" }), _jsx(\"p\", { className: \"text-gray-600 mb-4\", children: error }), _jsx(\"button\", { onClick: function () { return window.location.reload(); }, className: \"btn-primary\", children: \"Reload Application\" })] }) }));\n    }\n    return (_jsxs(\"div\", { className: \"h-screen flex flex-col bg-gray-50\", children: [_jsx(ActionBar, {}), _jsxs(\"div\", { className: \"flex-1 flex overflow-hidden\", children: [_jsx(\"div\", { className: \"w-1/3 min-w-[400px] max-w-[600px] bg-white border-r border-gray-200 overflow-y-auto shadow-lg\", children: _jsx(InvoiceForm, {}) }), _jsx(\"div\", { className: \"flex-1 bg-gray-100 p-6 overflow-y-auto\", children: _jsx(InvoicePreview, {}) })] })] }));\n};\nexport default App;\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","roundToCurrency","amount","decimals","factor","Math","pow","rounded","round","parseFloat","toFixed","calculateItemTotal","item","baseTotal","quantity","unitPrice","discount","discountAmount","type","value","min","max","calculateItemDiscount","calculateInvoiceTotals","invoice","totalDiscounts","subtotal","items","reduce","sum","calculateSubtotal","itemDiscounts","subtotalAfterItemDiscounts","subtotalAfterDiscounts","calculateSubtotalAfterItemDiscounts","invoiceDiscounts","baseAmount","discounts","calculateInvoiceDiscounts","subtotalAfterInvoiceDiscounts","fees","amounts","totalFees","fee","applyBase","grandTotalPreTax","calculateFees","taxableAmount","tax","totalTax","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","__spreadArray","taxes","sort","a","b","priority","applicableItems","filter","category","taxCategory","applicableRatio","rate","calculateTaxes","grandTotal","paid","totalPaid","payments","payment","calculateTotalPaid","balanceDue","formatCurrency","currency","locale","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","format","error","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","_","label","sent","trys","ops","g","Object","create","Iterator","verb","Symbol","iterator","this","n","v","op","TypeError","pop","saveFile","filePath","data","key","_a","replace","localStorage","setItem","JSON","stringify","success","console","Error","message","loadFile","getItem","parse","listFiles","directory","prefix","files","fileName","startsWith","deleteFile","removeItem","exportToPDF","htmlContent","filename","error_1","isElectron","window","require","ipcRenderer","invoke","defaultTemplates","name","brand","primaryColor","accentColor","fontFamilyHeader","fontFamilyBody","logoPath","layout","headerStyle","footerText","showSignature","margins","top","right","bottom","left","defaults","taxRules","terms","html","css","defaultBusinessProfile","address","email","phone","taxId","bankDetails","color","__assign","assign","s","p","hasOwnProperty","defaultSettings","dateFormat","invoiceNumberPattern","defaultTaxes","defaultFees","defaultTemplateId","defaultBusinessProfileId","autosaveInterval","useInvoiceStore","set","get","currentInvoice","templates","businessProfiles","settings","invoiceList","isLoading","lastSaved","hasUnsavedChanges","initializeApp","loadError_1","all","loadSettings","loadTemplates","loadBusinessProfiles","loadInvoiceList","warn","createNewInvoice","templateId","newInvoice","version","businessProfileId","invoiceNumber","Date","String","now","poNumber","issueDate","dueDate","paymentTerms","client","company","contact","billingAddress","shippingAddress","notes","totals","createdAt","toISOString","updatedAt","createEmptyInvoice","updateInvoice","updates","updatedInvoice","saveInvoice","error_2","loadInvoice","invoiceId","error_3","deleteInvoice","error_4","duplicateInvoice","duplicatedInvoice","error_5","saveAsTemplate","template","error_6","userTemplates","error_7","_b","map","deleteTemplate","error_8","updateBusinessProfile","profileUpdates","updatedProfiles","profile","saveBusinessProfile","defaultProfile","error_9","find","error_10","updateSettings","settingsUpdates","saveSettings","error_11","error_12","recalculateInvoice","setError","clearError","useState","activeSection","setActiveSection","businessProfile","updateField","field","updateNestedField","parentField","addItem","newItem","sku","description","updateItem","itemId","updatedItems","updateDiscount","discountId","updatedDiscounts","updateFee","feeId","updatedFees","updateTax","updatedTaxes","updatePayment","paymentId","updatedPayments","className","children","section","onClick","onChange","target","placeholder","rows","accept","file","reader","FileReader","onload","event","logoUrl","readAsDataURL","htmlFor","src","alt","index","itemToDuplicate","duplicatedItem","duplicateItem","newDiscount","newFee","newTax","applyAfterDiscounts","parseInt","checked","newPayment","date","method","inputMode","toString","test","prepareTemplateData","itemsWithCalculations","calculatedLineTotal","calculatedDiscount","formattedUnitPrice","formattedQuantity","discountDisplay","formattedTotals","formattedFees","formattedValue","formattedTaxes","formattedRate","formattedPayments","formattedAmount","formattedDate","toLocaleDateString","formattedDiscounts","formattedIssueDate","formattedDueDate","paymentTermsDisplay","getPaymentTermsDisplay","business","helpers","formatDate","formatPercentage","renderTemplate","render","escape","text","_c","zoom","setZoom","_d","renderedHTML","setRenderedHTML","useEffect","rendered","handleZoomChange","newZoom","disabled","toLocaleString","transform","transformOrigin","width","minHeight","padding","dangerouslySetInnerHTML","__html","onClose","onSelect","selectedTemplate","setSelectedTemplate","includes","stopPropagation","confirm","handleDelete","title","fill","viewBox","fillRule","d","clipRule","isExporting","setIsExporting","showTemplateSelector","setShowTemplateSelector","showSaveTemplateDialog","setShowSaveTemplateDialog","_e","templateName","setTemplateName","_f","zoomLevel","setZoomLevel","log","renderedContent","generateInvoiceHTML","path","document","documentElement","fontSize","timestamp","diffMs","getTime","diffMinutes","floor","diffHours","formatLastSaved","autoFocus","trim","getElementById","location","reload"],"sourceRoot":""}