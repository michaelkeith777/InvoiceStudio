{"version":3,"file":"static/js/main.e23cc97f.js","mappings":"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","sources":["webpack://workspace/./src/index.css","webpack://workspace/./src/index.css?77ae","webpack://workspace/./src/utils/calculations.ts","webpack://workspace/./src/utils/storage.ts","webpack://workspace/./src/data/defaultTemplates.ts","webpack://workspace/./src/templates/simpleTemplate.ts","webpack://workspace/./src/templates/fixedCleanProfessional.ts","webpack://workspace/./src/data/defaultBusinessProfile.ts","webpack://workspace/./src/store/useInvoiceStore.ts","webpack://workspace/./src/components/RichTextEditor.tsx","webpack://workspace/./src/components/InvoiceForm.tsx","webpack://workspace/./src/utils/templateRenderer.ts","webpack://workspace/./src/components/InvoicePreview.tsx","webpack://workspace/./src/components/CalculationSummary.tsx","webpack://workspace/./src/components/TemplateSelector.tsx","webpack://workspace/./src/components/InvoiceManager.tsx","webpack://workspace/./src/components/ActionBar.tsx","webpack://workspace/./src/index.tsx","webpack://workspace/./src/App.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured \\`sans\\` font-family by default.\n5. Use the user's configured \\`sans\\` font-feature-settings by default.\n6. Use the user's configured \\`sans\\` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from \\`html\\` so users can set them as a class directly on the \\`html\\` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured \\`mono\\` font-family by default.\n2. Use the user's configured \\`mono\\` font-feature-settings by default.\n3. Use the user's configured \\`mono\\` font-variation-settings by default.\n4. Correct the odd \\`em\\` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent \\`sub\\` and \\`sup\\` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional \\`:invalid\\` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to \\`inherit\\` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements \\`display: block\\` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add \\`vertical-align: middle\\` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden=\"until-found\"])) {\n  display: none;\n}\n.collapse {\n  visibility: collapse;\n}\n.fixed {\n  position: fixed;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.inset-0 {\n  inset: 0px;\n}\n.right-2 {\n  right: 0.5rem;\n}\n.top-2 {\n  top: 0.5rem;\n}\n.z-50 {\n  z-index: 50;\n}\n.-mx-4 {\n  margin-left: -1rem;\n  margin-right: -1rem;\n}\n.mx-1 {\n  margin-left: 0.25rem;\n  margin-right: 0.25rem;\n}\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n.-mb-px {\n  margin-bottom: -1px;\n}\n.-mt-4 {\n  margin-top: -1rem;\n}\n.mb-1 {\n  margin-bottom: 0.25rem;\n}\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n.mb-3 {\n  margin-bottom: 0.75rem;\n}\n.mb-4 {\n  margin-bottom: 1rem;\n}\n.mb-6 {\n  margin-bottom: 1.5rem;\n}\n.mb-8 {\n  margin-bottom: 2rem;\n}\n.mr-2 {\n  margin-right: 0.5rem;\n}\n.mt-1 {\n  margin-top: 0.25rem;\n}\n.mt-2 {\n  margin-top: 0.5rem;\n}\n.mt-3 {\n  margin-top: 0.75rem;\n}\n.mt-4 {\n  margin-top: 1rem;\n}\n.mt-8 {\n  margin-top: 2rem;\n}\n.block {\n  display: block;\n}\n.flex {\n  display: flex;\n}\n.table {\n  display: table;\n}\n.grid {\n  display: grid;\n}\n.hidden {\n  display: none;\n}\n.aspect-\\\\[8\\\\.5\\\\/11\\\\] {\n  aspect-ratio: 8.5/11;\n}\n.h-1 {\n  height: 0.25rem;\n}\n.h-1\\\\.5 {\n  height: 0.375rem;\n}\n.h-10 {\n  height: 2.5rem;\n}\n.h-2 {\n  height: 0.5rem;\n}\n.h-20 {\n  height: 5rem;\n}\n.h-3 {\n  height: 0.75rem;\n}\n.h-4 {\n  height: 1rem;\n}\n.h-6 {\n  height: 1.5rem;\n}\n.h-64 {\n  height: 16rem;\n}\n.h-8 {\n  height: 2rem;\n}\n.h-\\\\[200\\\\%\\\\] {\n  height: 200%;\n}\n.h-full {\n  height: 100%;\n}\n.h-screen {\n  height: 100vh;\n}\n.max-h-5xl {\n  max-height: 64rem;\n}\n.max-h-96 {\n  max-height: 24rem;\n}\n.max-h-\\\\[80vh\\\\] {\n  max-height: 80vh;\n}\n.max-h-\\\\[calc\\\\(80vh-140px\\\\)\\\\] {\n  max-height: calc(80vh - 140px);\n}\n.min-h-\\\\[200px\\\\] {\n  min-height: 200px;\n}\n.w-1\\\\/2 {\n  width: 50%;\n}\n.w-1\\\\/3 {\n  width: 33.333333%;\n}\n.w-12 {\n  width: 3rem;\n}\n.w-16 {\n  width: 4rem;\n}\n.w-2 {\n  width: 0.5rem;\n}\n.w-2\\\\/3 {\n  width: 66.666667%;\n}\n.w-20 {\n  width: 5rem;\n}\n.w-24 {\n  width: 6rem;\n}\n.w-3\\\\/4 {\n  width: 75%;\n}\n.w-3\\\\/5 {\n  width: 60%;\n}\n.w-32 {\n  width: 8rem;\n}\n.w-4 {\n  width: 1rem;\n}\n.w-4\\\\/5 {\n  width: 80%;\n}\n.w-6 {\n  width: 1.5rem;\n}\n.w-64 {\n  width: 16rem;\n}\n.w-8 {\n  width: 2rem;\n}\n.w-96 {\n  width: 24rem;\n}\n.w-\\\\[200\\\\%\\\\] {\n  width: 200%;\n}\n.w-full {\n  width: 100%;\n}\n.w-px {\n  width: 1px;\n}\n.min-w-\\\\[2\\\\.5rem\\\\] {\n  min-width: 2.5rem;\n}\n.min-w-\\\\[400px\\\\] {\n  min-width: 400px;\n}\n.max-w-4xl {\n  max-width: 56rem;\n}\n.max-w-6xl {\n  max-width: 72rem;\n}\n.max-w-\\\\[600px\\\\] {\n  max-width: 600px;\n}\n.max-w-md {\n  max-width: 28rem;\n}\n.flex-1 {\n  flex: 1 1 0%;\n}\n.border-collapse {\n  border-collapse: collapse;\n}\n.origin-top-left {\n  transform-origin: top left;\n}\n.scale-50 {\n  --tw-scale-x: .5;\n  --tw-scale-y: .5;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.grid-cols-1 {\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n}\n.grid-cols-2 {\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n.grid-cols-3 {\n  grid-template-columns: repeat(3, minmax(0, 1fr));\n}\n.grid-cols-4 {\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n}\n.flex-col {\n  flex-direction: column;\n}\n.flex-wrap {\n  flex-wrap: wrap;\n}\n.items-start {\n  align-items: flex-start;\n}\n.items-center {\n  align-items: center;\n}\n.justify-end {\n  justify-content: flex-end;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.gap-1 {\n  gap: 0.25rem;\n}\n.gap-2 {\n  gap: 0.5rem;\n}\n.gap-3 {\n  gap: 0.75rem;\n}\n.gap-4 {\n  gap: 1rem;\n}\n.gap-6 {\n  gap: 1.5rem;\n}\n.gap-8 {\n  gap: 2rem;\n}\n.space-x-0\\\\.5 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.125rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.125rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.25rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.25rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.5rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.75rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.75rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(1rem * var(--tw-space-x-reverse));\n  margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-y-0\\\\.5 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.125rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.125rem * var(--tw-space-y-reverse));\n}\n.space-y-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.25rem * var(--tw-space-y-reverse));\n}\n.space-y-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));\n}\n.space-y-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));\n}\n.space-y-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1rem * var(--tw-space-y-reverse));\n}\n.space-y-6 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1.5rem * var(--tw-space-y-reverse));\n}\n.overflow-auto {\n  overflow: auto;\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.overflow-y-auto {\n  overflow-y: auto;\n}\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.rounded {\n  border-radius: 0.25rem;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.rounded-lg {\n  border-radius: 0.5rem;\n}\n.border {\n  border-width: 1px;\n}\n.border-2 {\n  border-width: 2px;\n}\n.border-b {\n  border-bottom-width: 1px;\n}\n.border-b-2 {\n  border-bottom-width: 2px;\n}\n.border-r {\n  border-right-width: 1px;\n}\n.border-t {\n  border-top-width: 1px;\n}\n.border-blue-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(191 219 254 / var(--tw-border-opacity, 1));\n}\n.border-blue-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n}\n.border-blue-600 {\n  --tw-border-opacity: 1;\n  border-color: rgb(37 99 235 / var(--tw-border-opacity, 1));\n}\n.border-gray-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(229 231 235 / var(--tw-border-opacity, 1));\n}\n.border-gray-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n}\n.border-red-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(252 165 165 / var(--tw-border-opacity, 1));\n}\n.border-transparent {\n  border-color: transparent;\n}\n.bg-black {\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(219 234 254 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-300 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-400 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(156 163 175 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(75 85 99 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));\n}\n.bg-green-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(34 197 94 / var(--tw-bg-opacity, 1));\n}\n.bg-green-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(22 163 74 / var(--tw-bg-opacity, 1));\n}\n.bg-orange-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 115 22 / var(--tw-bg-opacity, 1));\n}\n.bg-red-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 226 226 / var(--tw-bg-opacity, 1));\n}\n.bg-red-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));\n}\n.bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n}\n.bg-opacity-50 {\n  --tw-bg-opacity: 0.5;\n}\n.bg-gradient-to-r {\n  background-image: linear-gradient(to right, var(--tw-gradient-stops));\n}\n.from-blue-600 {\n  --tw-gradient-from: #2563eb var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(37 99 235 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.to-purple-600 {\n  --tw-gradient-to: #9333ea var(--tw-gradient-to-position);\n}\n.object-contain {\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n.p-1 {\n  padding: 0.25rem;\n}\n.p-2 {\n  padding: 0.5rem;\n}\n.p-3 {\n  padding: 0.75rem;\n}\n.p-4 {\n  padding: 1rem;\n}\n.p-6 {\n  padding: 1.5rem;\n}\n.p-8 {\n  padding: 2rem;\n}\n.px-1 {\n  padding-left: 0.25rem;\n  padding-right: 0.25rem;\n}\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.px-3 {\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.px-4 {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n.px-6 {\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n}\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-12 {\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n}\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.py-4 {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n}\n.py-8 {\n  padding-top: 2rem;\n  padding-bottom: 2rem;\n}\n.pb-4 {\n  padding-bottom: 1rem;\n}\n.pt-2 {\n  padding-top: 0.5rem;\n}\n.pt-3 {\n  padding-top: 0.75rem;\n}\n.pt-4 {\n  padding-top: 1rem;\n}\n.pt-6 {\n  padding-top: 1.5rem;\n}\n.text-center {\n  text-align: center;\n}\n.text-right {\n  text-align: right;\n}\n.font-mono {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n}\n.text-2xl {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.text-6xl {\n  font-size: 3.75rem;\n  line-height: 1;\n}\n.text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.text-xl {\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.font-bold {\n  font-weight: 700;\n}\n.font-light {\n  font-weight: 300;\n}\n.font-medium {\n  font-weight: 500;\n}\n.font-semibold {\n  font-weight: 600;\n}\n.uppercase {\n  text-transform: uppercase;\n}\n.italic {\n  font-style: italic;\n}\n.text-blue-600 {\n  --tw-text-opacity: 1;\n  color: rgb(37 99 235 / var(--tw-text-opacity, 1));\n}\n.text-blue-700 {\n  --tw-text-opacity: 1;\n  color: rgb(29 78 216 / var(--tw-text-opacity, 1));\n}\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n.text-gray-500 {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity, 1));\n}\n.text-gray-600 {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity, 1));\n}\n.text-gray-700 {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n.text-gray-800 {\n  --tw-text-opacity: 1;\n  color: rgb(31 41 55 / var(--tw-text-opacity, 1));\n}\n.text-gray-900 {\n  --tw-text-opacity: 1;\n  color: rgb(17 24 39 / var(--tw-text-opacity, 1));\n}\n.text-green-600 {\n  --tw-text-opacity: 1;\n  color: rgb(22 163 74 / var(--tw-text-opacity, 1));\n}\n.text-red-500 {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1));\n}\n.text-red-600 {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n.text-red-700 {\n  --tw-text-opacity: 1;\n  color: rgb(185 28 28 / var(--tw-text-opacity, 1));\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.underline {\n  text-decoration-line: underline;\n}\n.antialiased {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.opacity-0 {\n  opacity: 0;\n}\n.shadow {\n  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-sm {\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-xl {\n  --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.outline-none {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.blur {\n  --tw-blur: blur(8px);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.grayscale {\n  --tw-grayscale: grayscale(100%);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.backdrop-filter {\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n}\n.transition-all {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-colors {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-opacity {\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.duration-200 {\n  transition-duration: 200ms;\n}\n.form-input {\n  display: block;\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.form-input:focus {\n  outline: none;\n  ring: 2px;\n  ring-color: #3b82f6;\n  border-color: #3b82f6;\n}\n.form-textarea {\n  display: block;\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  resize: none;\n}\n.form-textarea:focus {\n  outline: none;\n  ring: 2px;\n  ring-color: #3b82f6;\n  border-color: #3b82f6;\n}\n.form-select {\n  display: block;\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  background-color: white;\n}\n.form-select:focus {\n  outline: none;\n  ring: 2px;\n  ring-color: #3b82f6;\n  border-color: #3b82f6;\n}\n\n/* Custom scrollbar styles */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f1f5f9;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n\n/* Form input styles */\n.form-input {\n  display: block;\n  width: 100%;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.form-input:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.form-textarea {\n  display: block;\n  width: 100%;\n  resize: none;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.form-textarea:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.form-select {\n  display: block;\n  width: 100%;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.form-select:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.btn-primary {\n  display: inline-flex;\n  align-items: center;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  border-color: transparent;\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.btn-primary:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1));\n}\n\n.btn-primary:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n  --tw-ring-offset-width: 2px;\n}\n\n.btn-primary:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.btn-secondary {\n  display: inline-flex;\n  align-items: center;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.btn-secondary:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n\n.btn-secondary:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n  --tw-ring-offset-width: 2px;\n}\n\n.btn-secondary:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.btn-danger {\n  display: inline-flex;\n  align-items: center;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  border-color: transparent;\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.btn-danger:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(185 28 28 / var(--tw-bg-opacity, 1));\n}\n\n.btn-danger:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity, 1));\n  --tw-ring-offset-width: 2px;\n}\n\n.btn-danger:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n/* Animation classes */\n.fade-in {\n  animation: fadeIn 0.2s ease-in-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-4px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Invoice preview styles */\n.invoice-preview {\n  background: white;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\n.invoice-preview table {\n  border-collapse: collapse;\n  width: 100%;\n}\n\n.invoice-preview th,\n.invoice-preview td {\n  border: 1px solid #e5e7eb;\n  padding: 8px 12px;\n  text-align: left;\n}\n\n.invoice-preview th {\n  background-color: #f9fafb;\n  font-weight: 600;\n}\n\n.invoice-preview .text-right {\n  text-align: right;\n}\n\n/* Loading spinner */\n.spinner {\n  border: 2px solid #f3f3f3;\n  border-top: 2px solid #3498db;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Responsive adjustments */\n@media (max-width: 1024px) {\n  .three-pane-layout {\n    flex-direction: column;\n  }\n  \n  .left-panel,\n  .right-panel {\n    width: 100% !important;\n    max-height: 300px;\n    overflow-y: auto;\n  }\n  \n  .center-panel {\n    flex: 1;\n    min-height: 400px;\n  }\n}\n\n/* Rich text editor styles for invoice preview */\n.work-details-content h1 {\n  font-size: 1.5em;\n  font-weight: bold;\n  margin: 0.5em 0;\n  color: inherit;\n}\n\n.work-details-content h2 {\n  font-size: 1.3em;\n  font-weight: bold;\n  margin: 0.4em 0;\n  color: inherit;\n}\n\n.work-details-content h3 {\n  font-size: 1.1em;\n  font-weight: bold;\n  margin: 0.3em 0;\n  color: inherit;\n}\n\n.work-details-content ul {\n  list-style-type: disc;\n  margin: 0.5em 0 0.5em 1.5em;\n}\n\n.work-details-content ol {\n  list-style-type: decimal;\n  margin: 0.5em 0 0.5em 1.5em;\n}\n\n.work-details-content li {\n  margin: 0.2em 0;\n  line-height: 1.6;\n}\n\n.work-details-content p {\n  margin: 0.5em 0;\n}\n\n.work-details-content div {\n  margin: 0.2em 0;\n}\n\n.work-details-content blockquote {\n  border-left: 4px solid #e5e7eb;\n  margin: 1em 0;\n  padding-left: 1em;\n  color: #6b7280;\n  font-style: italic;\n}\n\n.work-details-content strong, \n.work-details-content b {\n  font-weight: bold;\n}\n\n.work-details-content em, \n.work-details-content i {\n  font-style: italic;\n}\n\n.work-details-content u {\n  text-decoration: underline;\n}\n\n.hover\\\\:border-gray-300:hover {\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n}\n\n.hover\\\\:bg-blue-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\\\:bg-gray-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\\\:bg-gray-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\\\:bg-gray-50:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\\\:bg-gray-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(55 65 81 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\\\:bg-green-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(21 128 61 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\\\:bg-red-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 202 202 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\\\:bg-red-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(185 28 28 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\\\:text-blue-800:hover {\n  --tw-text-opacity: 1;\n  color: rgb(30 64 175 / var(--tw-text-opacity, 1));\n}\n\n.hover\\\\:text-gray-600:hover {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity, 1));\n}\n\n.hover\\\\:text-gray-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n\n.hover\\\\:text-gray-800:hover {\n  --tw-text-opacity: 1;\n  color: rgb(31 41 55 / var(--tw-text-opacity, 1));\n}\n\n.hover\\\\:text-red-600:hover {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n\n.hover\\\\:text-red-800:hover {\n  --tw-text-opacity: 1;\n  color: rgb(153 27 27 / var(--tw-text-opacity, 1));\n}\n\n.hover\\\\:shadow-md:hover {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.focus\\\\:border-transparent:focus {\n  border-color: transparent;\n}\n\n.focus\\\\:ring-0:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.focus\\\\:ring-2:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.focus\\\\:ring-blue-500:focus {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.group:hover .group-hover\\\\:opacity-100 {\n  opacity: 1;\n}\n\n@media (min-width: 768px) {\n\n  .md\\\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n}\n\n@media (min-width: 1024px) {\n\n  .lg\\\\:grid-cols-3 {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/index.css\"],\"names\":[],\"mappings\":\"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nB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,gBAAmB;EAAnB,gBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAn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\",\"sourcesContent\":[\"@tailwind base;\\n@tailwind components;\\n@tailwind utilities;\\n\\n/* Custom scrollbar styles */\\n::-webkit-scrollbar {\\n  width: 8px;\\n  height: 8px;\\n}\\n\\n::-webkit-scrollbar-track {\\n  background: #f1f5f9;\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  background: #cbd5e1;\\n  border-radius: 4px;\\n}\\n\\n::-webkit-scrollbar-thumb:hover {\\n  background: #94a3b8;\\n}\\n\\n/* Form input styles */\\n.form-input {\\n  @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm;\\n}\\n\\n.form-textarea {\\n  @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm resize-none;\\n}\\n\\n.form-select {\\n  @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm;\\n}\\n\\n.btn-primary {\\n  @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed;\\n}\\n\\n.btn-secondary {\\n  @apply inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed;\\n}\\n\\n.btn-danger {\\n  @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed;\\n}\\n\\n/* Animation classes */\\n.fade-in {\\n  animation: fadeIn 0.2s ease-in-out;\\n}\\n\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-4px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n/* Invoice preview styles */\\n.invoice-preview {\\n  background: white;\\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\\n}\\n\\n.invoice-preview table {\\n  border-collapse: collapse;\\n  width: 100%;\\n}\\n\\n.invoice-preview th,\\n.invoice-preview td {\\n  border: 1px solid #e5e7eb;\\n  padding: 8px 12px;\\n  text-align: left;\\n}\\n\\n.invoice-preview th {\\n  background-color: #f9fafb;\\n  font-weight: 600;\\n}\\n\\n.invoice-preview .text-right {\\n  text-align: right;\\n}\\n\\n/* Loading spinner */\\n.spinner {\\n  border: 2px solid #f3f3f3;\\n  border-top: 2px solid #3498db;\\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  animation: spin 1s linear infinite;\\n}\\n\\n@keyframes spin {\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n}\\n\\n/* Responsive adjustments */\\n@media (max-width: 1024px) {\\n  .three-pane-layout {\\n    flex-direction: column;\\n  }\\n  \\n  .left-panel,\\n  .right-panel {\\n    width: 100% !important;\\n    max-height: 300px;\\n    overflow-y: auto;\\n  }\\n  \\n  .center-panel {\\n    flex: 1;\\n    min-height: 400px;\\n  }\\n}\\n\\n/* Rich text editor styles for invoice preview */\\n.work-details-content h1 {\\n  font-size: 1.5em;\\n  font-weight: bold;\\n  margin: 0.5em 0;\\n  color: inherit;\\n}\\n\\n.work-details-content h2 {\\n  font-size: 1.3em;\\n  font-weight: bold;\\n  margin: 0.4em 0;\\n  color: inherit;\\n}\\n\\n.work-details-content h3 {\\n  font-size: 1.1em;\\n  font-weight: bold;\\n  margin: 0.3em 0;\\n  color: inherit;\\n}\\n\\n.work-details-content ul {\\n  list-style-type: disc;\\n  margin: 0.5em 0 0.5em 1.5em;\\n}\\n\\n.work-details-content ol {\\n  list-style-type: decimal;\\n  margin: 0.5em 0 0.5em 1.5em;\\n}\\n\\n.work-details-content li {\\n  margin: 0.2em 0;\\n  line-height: 1.6;\\n}\\n\\n.work-details-content p {\\n  margin: 0.5em 0;\\n}\\n\\n.work-details-content div {\\n  margin: 0.2em 0;\\n}\\n\\n.work-details-content blockquote {\\n  border-left: 4px solid #e5e7eb;\\n  margin: 1em 0;\\n  padding-left: 1em;\\n  color: #6b7280;\\n  font-style: italic;\\n}\\n\\n.work-details-content strong, \\n.work-details-content b {\\n  font-weight: bold;\\n}\\n\\n.work-details-content em, \\n.work-details-content i {\\n  font-style: italic;\\n}\\n\\n.work-details-content u {\\n  text-decoration: underline;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n/**\n * Rounds a number to specified decimal places using banker's rounding\n */\nexport var roundToCurrency = function (amount, decimals) {\n    if (decimals === void 0) { decimals = 2; }\n    var factor = Math.pow(10, decimals);\n    var rounded = Math.round(amount * factor) / factor;\n    return parseFloat(rounded.toFixed(decimals));\n};\n/**\n * Calculate line total for an individual item\n */\nexport var calculateItemTotal = function (item) {\n    var baseTotal = item.quantity * item.unitPrice;\n    if (!item.discount) {\n        return roundToCurrency(baseTotal);\n    }\n    var discountAmount = 0;\n    if (item.discount.type === 'percent') {\n        discountAmount = baseTotal * (item.discount.value / 100);\n    }\n    else {\n        discountAmount = Math.min(item.discount.value, baseTotal); // Don't allow negative totals\n    }\n    return roundToCurrency(Math.max(0, baseTotal - discountAmount));\n};\n/**\n * Calculate total discount amount for an item\n */\nexport var calculateItemDiscount = function (item) {\n    if (!item.discount)\n        return 0;\n    var baseTotal = item.quantity * item.unitPrice;\n    if (item.discount.type === 'percent') {\n        return roundToCurrency(baseTotal * (item.discount.value / 100));\n    }\n    else {\n        return roundToCurrency(Math.min(item.discount.value, baseTotal));\n    }\n};\n/**\n * Calculate subtotal before any discounts\n */\nexport var calculateSubtotal = function (items) {\n    var subtotal = items.reduce(function (sum, item) {\n        return sum + (item.quantity * item.unitPrice);\n    }, 0);\n    return roundToCurrency(subtotal);\n};\n/**\n * Calculate total item-level discounts\n */\nexport var calculateTotalItemDiscounts = function (items) {\n    var totalDiscounts = items.reduce(function (sum, item) {\n        return sum + calculateItemDiscount(item);\n    }, 0);\n    return roundToCurrency(totalDiscounts);\n};\n/**\n * Calculate subtotal after item-level discounts\n */\nexport var calculateSubtotalAfterItemDiscounts = function (items) {\n    var subtotalAfterDiscounts = items.reduce(function (sum, item) {\n        return sum + calculateItemTotal(item);\n    }, 0);\n    return roundToCurrency(subtotalAfterDiscounts);\n};\n/**\n * Calculate invoice-level discounts\n */\nexport var calculateInvoiceDiscounts = function (invoice, baseAmount) {\n    var totalDiscounts = invoice.discounts.reduce(function (sum, discount) {\n        var discountAmount = 0;\n        if (discount.type === 'percent') {\n            discountAmount = baseAmount * (discount.value / 100);\n        }\n        else {\n            discountAmount = Math.min(discount.value, baseAmount);\n        }\n        return sum + discountAmount;\n    }, 0);\n    return roundToCurrency(totalDiscounts);\n};\n/**\n * Calculate fees based on the specified base amount\n */\nexport var calculateFees = function (invoice, amounts) {\n    var totalFees = invoice.fees.reduce(function (sum, fee) {\n        var baseAmount = 0;\n        switch (fee.applyBase) {\n            case 'subtotal':\n                baseAmount = amounts.subtotal;\n                break;\n            case 'subtotal_after_item_discounts':\n                baseAmount = amounts.subtotalAfterItemDiscounts;\n                break;\n            case 'subtotal_after_invoice_discounts':\n                baseAmount = amounts.subtotalAfterInvoiceDiscounts;\n                break;\n            case 'grand_total_pre_tax':\n                baseAmount = amounts.grandTotalPreTax;\n                break;\n            default:\n                baseAmount = amounts.subtotalAfterItemDiscounts;\n        }\n        var feeAmount = 0;\n        if (fee.type === 'percent') {\n            feeAmount = baseAmount * (fee.value / 100);\n        }\n        else {\n            feeAmount = fee.value;\n        }\n        return sum + feeAmount;\n    }, 0);\n    return roundToCurrency(totalFees);\n};\n/**\n * Calculate taxes based on taxable amount and tax rules\n */\nexport var calculateTaxes = function (invoice, taxableAmount) {\n    // Sort taxes by priority (ascending)\n    var sortedTaxes = __spreadArray([], invoice.taxes, true).sort(function (a, b) { return a.priority - b.priority; });\n    var totalTax = sortedTaxes.reduce(function (sum, tax) {\n        // Filter items by tax category if needed\n        var applicableItems = invoice.items.filter(function (item) {\n            return !tax.category || tax.category === 'all' || item.taxCategory === tax.category;\n        });\n        if (applicableItems.length === 0)\n            return sum;\n        // Calculate tax on the applicable portion of taxable amount\n        var applicableRatio = applicableItems.length / invoice.items.length;\n        var applicableTaxableAmount = taxableAmount * applicableRatio;\n        var taxAmount = applicableTaxableAmount * (tax.rate / 100);\n        return sum + taxAmount;\n    }, 0);\n    return roundToCurrency(totalTax);\n};\n/**\n * Calculate total payments made\n */\nexport var calculateTotalPaid = function (invoice) {\n    var totalPaid = invoice.payments.reduce(function (sum, payment) {\n        return sum + payment.amount;\n    }, 0);\n    return roundToCurrency(totalPaid);\n};\n/**\n * Calculate complete invoice totals\n */\nexport var calculateInvoiceTotals = function (invoice) {\n    // Step 1: Calculate base amounts\n    var subtotal = calculateSubtotal(invoice.items);\n    var itemDiscounts = calculateTotalItemDiscounts(invoice.items);\n    var subtotalAfterItemDiscounts = calculateSubtotalAfterItemDiscounts(invoice.items);\n    // Step 2: Apply invoice-level discounts\n    var invoiceDiscounts = calculateInvoiceDiscounts(invoice, subtotalAfterItemDiscounts);\n    var subtotalAfterInvoiceDiscounts = roundToCurrency(Math.max(0, subtotalAfterItemDiscounts - invoiceDiscounts));\n    // Step 3: Calculate fees (before taxes)\n    var grandTotalPreTax = subtotalAfterInvoiceDiscounts; // Will be updated after fees\n    var fees = calculateFees(invoice, {\n        subtotal: subtotal,\n        subtotalAfterItemDiscounts: subtotalAfterItemDiscounts,\n        subtotalAfterInvoiceDiscounts: subtotalAfterInvoiceDiscounts,\n        grandTotalPreTax: grandTotalPreTax\n    });\n    // Step 4: Calculate taxable amount (after discounts and fees)\n    var taxableAmount = roundToCurrency(subtotalAfterInvoiceDiscounts + fees);\n    // Step 5: Calculate taxes\n    var tax = calculateTaxes(invoice, taxableAmount);\n    // Step 6: Calculate grand total\n    var grandTotal = roundToCurrency(taxableAmount + tax);\n    // Step 7: Calculate payments and balance\n    var paid = calculateTotalPaid(invoice);\n    var balanceDue = roundToCurrency(Math.max(0, grandTotal - paid));\n    return {\n        subtotal: subtotal,\n        itemDiscounts: itemDiscounts,\n        invoiceDiscounts: invoiceDiscounts,\n        fees: fees,\n        tax: tax,\n        grandTotal: grandTotal,\n        paid: paid,\n        balanceDue: balanceDue\n    };\n};\n/**\n * Format currency amount based on locale and currency\n */\nexport var formatCurrency = function (amount, currency, locale) {\n    if (currency === void 0) { currency = 'USD'; }\n    if (locale === void 0) { locale = 'en-US'; }\n    try {\n        return new Intl.NumberFormat(locale, {\n            style: 'currency',\n            currency: currency,\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n        }).format(amount);\n    }\n    catch (error) {\n        // Fallback formatting\n        return \"\".concat(currency, \" \").concat(amount.toFixed(2));\n    }\n};\n/**\n * Format percentage\n */\nexport var formatPercentage = function (value, decimals) {\n    if (decimals === void 0) { decimals = 1; }\n    return \"\".concat(value.toFixed(decimals), \"%\");\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/**\n * Check if running in Electron\n */\nvar isElectron = function () {\n    return typeof window !== 'undefined' && window.process && window.process.type === 'renderer';\n};\n/**\n * Save data to browser localStorage\n */\nexport var saveFile = function (filePath, data) { return __awaiter(void 0, void 0, Promise, function () {\n    var key;\n    return __generator(this, function (_a) {\n        try {\n            key = \"invoice-studio-\".concat(filePath.replace(/[^a-zA-Z0-9]/g, '-'));\n            localStorage.setItem(key, JSON.stringify(data));\n            return [2 /*return*/, { success: true }];\n        }\n        catch (error) {\n            console.error('Error saving to localStorage:', error);\n            return [2 /*return*/, { success: false, error: error instanceof Error ? error.message : 'Unknown error' }];\n        }\n        return [2 /*return*/];\n    });\n}); };\n/**\n * Load data from browser localStorage\n */\nexport var loadFile = function (filePath) { return __awaiter(void 0, void 0, Promise, function () {\n    var key, data;\n    return __generator(this, function (_a) {\n        try {\n            key = \"invoice-studio-\".concat(filePath.replace(/[^a-zA-Z0-9]/g, '-'));\n            data = localStorage.getItem(key);\n            if (data === null) {\n                return [2 /*return*/, { success: false, error: 'File not found' }];\n            }\n            return [2 /*return*/, { success: true, data: JSON.parse(data) }];\n        }\n        catch (error) {\n            console.error('Error loading from localStorage:', error);\n            return [2 /*return*/, { success: false, error: error instanceof Error ? error.message : 'Unknown error' }];\n        }\n        return [2 /*return*/];\n    });\n}); };\n/**\n * List files in a directory (browser localStorage simulation)\n */\nexport var listFiles = function (directory) { return __awaiter(void 0, void 0, Promise, function () {\n    var prefix, files, i, key, fileName;\n    return __generator(this, function (_a) {\n        try {\n            prefix = \"invoice-studio-\".concat(directory.replace(/[^a-zA-Z0-9]/g, '-'));\n            files = [];\n            for (i = 0; i < localStorage.length; i++) {\n                key = localStorage.key(i);\n                if (key && key.startsWith(prefix)) {\n                    fileName = key.replace(prefix + '-', '').replace(/-/g, '/');\n                    files.push(fileName);\n                }\n            }\n            return [2 /*return*/, { success: true, files: files }];\n        }\n        catch (error) {\n            console.error('Error listing files from localStorage:', error);\n            return [2 /*return*/, { success: false, error: error instanceof Error ? error.message : 'Unknown error' }];\n        }\n        return [2 /*return*/];\n    });\n}); };\n/**\n * Delete a file from browser localStorage\n */\nexport var deleteFile = function (filePath) { return __awaiter(void 0, void 0, Promise, function () {\n    var key;\n    return __generator(this, function (_a) {\n        try {\n            key = \"invoice-studio-\".concat(filePath.replace(/[^a-zA-Z0-9]/g, '-'));\n            localStorage.removeItem(key);\n            return [2 /*return*/, { success: true }];\n        }\n        catch (error) {\n            console.error('Error deleting from localStorage:', error);\n            return [2 /*return*/, { success: false, error: error instanceof Error ? error.message : 'Unknown error' }];\n        }\n        return [2 /*return*/];\n    });\n}); };\n/**\n * Export invoice as PDF using browser print functionality\n */\nexport var exportToPDF = function (htmlContent, filename) { return __awaiter(void 0, void 0, Promise, function () {\n    var printWindow_1;\n    return __generator(this, function (_a) {\n        try {\n            printWindow_1 = window.open('', '_blank');\n            if (!printWindow_1) {\n                throw new Error('Unable to open print window. Please allow popups.');\n            }\n            // Write the HTML content with print styles\n            printWindow_1.document.write(\"\\n      <!DOCTYPE html>\\n      <html>\\n        <head>\\n          <title>\".concat(filename, \"</title>\\n          <link href=\\\"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap\\\" rel=\\\"stylesheet\\\">\\n          <style>\\n            @media print {\\n              body { margin: 0; padding: 0; }\\n              @page { \\n                size: A4; \\n                margin: 0.5in; \\n              }\\n            }\\n            body {\\n              font-family: 'Inter', sans-serif;\\n              margin: 0;\\n              padding: 20px;\\n            }\\n          </style>\\n        </head>\\n        <body>\\n          \").concat(htmlContent, \"\\n        </body>\\n      </html>\\n    \"));\n            printWindow_1.document.close();\n            // Wait for content to load then trigger print\n            printWindow_1.onload = function () {\n                setTimeout(function () {\n                    printWindow_1.print();\n                    printWindow_1.close();\n                }, 500);\n            };\n            return [2 /*return*/, { success: true, path: filename }];\n        }\n        catch (error) {\n            console.error('Error exporting PDF:', error);\n            return [2 /*return*/, { success: false, error: error instanceof Error ? error.message : 'Unknown error' }];\n        }\n        return [2 /*return*/];\n    });\n}); };\n/**\n * Show save dialog\n */\nexport var showSaveDialog = function (options) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { canceled: true, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('show-save-dialog', options)];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_1 = _a.sent();\n                console.error('Error showing save dialog:', error_1);\n                return [2 /*return*/, { canceled: true, error: error_1 instanceof Error ? error_1.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Show open dialog\n */\nexport var showOpenDialog = function (options) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_2;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { canceled: true, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('show-open-dialog', options)];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_2 = _a.sent();\n                console.error('Error showing open dialog:', error_2);\n                return [2 /*return*/, { canceled: true, error: error_2 instanceof Error ? error_2.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Get user data path\n */\nexport var getUserDataPath = function () { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, path, error_3;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, ''];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('get-user-data-path')];\n            case 2:\n                path = _a.sent();\n                return [2 /*return*/, path];\n            case 3:\n                error_3 = _a.sent();\n                console.error('Error getting user data path:', error_3);\n                return [2 /*return*/, ''];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n","import { simpleTemplate } from '../templates/simpleTemplate';\nimport { fixedCleanProfessionalTemplate } from '../templates/fixedCleanProfessional';\n// import { modernStripeTemplate } from '../templates/modernStripe';\n// import { compactLedgerTemplate } from '../templates/compactLedger';\nexport var defaultTemplates = [\n    simpleTemplate,\n    fixedCleanProfessionalTemplate,\n    // modernStripeTemplate,\n    // compactLedgerTemplate\n];\n","export var simpleTemplate = {\n    id: 'simple-test',\n    name: 'Simple Test',\n    brand: {\n        primaryColor: '#1F2937',\n        accentColor: '#3B82F6',\n        fontFamilyHeader: 'Inter',\n        fontFamilyBody: 'Inter',\n        logoPath: ''\n    },\n    layout: {\n        headerStyle: 'simple',\n        footerText: 'Thank you for your business!',\n        showSignature: false,\n        margins: { top: 20, right: 20, bottom: 20, left: 20 }\n    },\n    defaults: {\n        taxRules: [],\n        terms: 'Payment due within 30 days.'\n    },\n    html: \"\\n<div style=\\\"padding: 20px; font-family: 'Inter', sans-serif;\\\">\\n  <div style=\\\"display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 30px;\\\">\\n    <div style=\\\"flex: 1;\\\">\\n      {{#business.logoPath}}\\n      <div style=\\\"margin-bottom: 15px;\\\">\\n        <img src=\\\"{{business.logoPath}}\\\" alt=\\\"Company Logo\\\" style=\\\"max-height: 80px; max-width: 200px; object-fit: contain;\\\">\\n      </div>\\n      {{/business.logoPath}}\\n      <div style=\\\"color: #374151; font-size: 14px; line-height: 1.5;\\\">\\n        <div style=\\\"font-weight: 600; font-size: 18px; margin-bottom: 8px; color: {{business.color}};\\\">{{business.name}}</div>\\n        <div style=\\\"white-space: pre-line;\\\">{{business.address}}</div>\\n        <div>{{business.email}}</div>\\n        <div>{{business.phone}}</div>\\n      </div>\\n    </div>\\n    <div style=\\\"text-align: right;\\\">\\n      <h1 style=\\\"color: {{business.color}}; margin: 0; font-size: 36px; font-weight: 700;\\\">INVOICE</h1>\\n      <div style=\\\"margin-top: 20px; color: #6B7280; font-size: 14px;\\\">\\n        <div><strong>Invoice #:</strong> {{invoice.invoiceNumber}}</div>\\n        <div><strong>Date:</strong> {{invoice.issueDate}}</div>\\n        <div><strong>Due:</strong> {{invoice.dueDate}}</div>\\n      </div>\\n    </div>\\n  </div>\\n  \\n  <div style=\\\"margin-bottom: 30px; padding: 20px; background: #F9FAFB; border-radius: 8px;\\\">\\n    <div style=\\\"font-weight: 600; margin-bottom: 10px; color: #374151;\\\">Bill To:</div>\\n    <div style=\\\"color: #6B7280; line-height: 1.5;\\\">\\n      <div style=\\\"font-weight: 600;\\\">{{client.name}}</div>\\n      {{#client.company}}<div>{{client.company}}</div>{{/client.company}}\\n      {{#client.billingAddress}}<div style=\\\"white-space: pre-line;\\\">{{client.billingAddress}}</div>{{/client.billingAddress}}\\n      {{#client.email}}<div>{{client.email}}</div>{{/client.email}}\\n      {{#client.phone}}<div>{{client.phone}}</div>{{/client.phone}}\\n    </div>\\n  </div>\\n  \\n  <div style=\\\"margin-bottom: 30px;\\\">\\n    <table style=\\\"width: 100%; border-collapse: collapse;\\\">\\n      <thead>\\n        <tr style=\\\"background: {{business.color}}; color: white;\\\">\\n          <th style=\\\"padding: 12px; text-align: left; border: none;\\\">Description</th>\\n          <th style=\\\"padding: 12px; text-align: right; border: none; width: 80px;\\\">Qty</th>\\n          <th style=\\\"padding: 12px; text-align: right; border: none; width: 100px;\\\">Rate</th>\\n          <th style=\\\"padding: 12px; text-align: right; border: none; width: 100px;\\\">Amount</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        {{#items}}\\n        <tr style=\\\"border-bottom: 1px solid #E5E7EB;\\\">\\n          <td style=\\\"padding: 12px; color: #374151;\\\">\\n            <div style=\\\"font-weight: 600;\\\">{{name}}</div>\\n            {{#description}}<div style=\\\"color: #6B7280; font-size: 14px; margin-top: 4px;\\\">{{description}}</div>{{/description}}\\n          </td>\\n          <td style=\\\"padding: 12px; text-align: right; color: #6B7280;\\\">{{quantity}}</td>\\n          <td style=\\\"padding: 12px; text-align: right; color: #6B7280;\\\">{{formattedUnitPrice}}</td>\\n          <td style=\\\"padding: 12px; text-align: right; font-weight: 600; color: #374151;\\\">{{calculatedLineTotal}}</td>\\n        </tr>\\n        {{/items}}\\n      </tbody>\\n    </table>\\n  </div>\\n  \\n  <div style=\\\"display: flex; justify-content: flex-end;\\\">\\n    <div style=\\\"min-width: 300px;\\\">\\n      <div style=\\\"border-top: 2px solid {{business.color}}; padding-top: 20px;\\\">\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px;\\\">\\n          <span>Subtotal:</span>\\n          <span>{{totals.subtotal}}</span>\\n        </div>\\n        {{#totals.totalTax}}\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px; color: #6B7280;\\\">\\n          <span>Tax:</span>\\n          <span>{{totals.totalTax}}</span>\\n        </div>\\n        {{/totals.totalTax}}\\n        <div style=\\\"display: flex; justify-content: space-between; font-size: 18px; font-weight: 700; color: {{business.color}}; border-top: 1px solid #E5E7EB; padding-top: 12px; margin-top: 12px;\\\">\\n          <span>Total:</span>\\n          <span>{{totals.grandTotal}}</span>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \\n  {{#invoice.notes}}\\n  <div style=\\\"margin-top: 40px; padding: 20px; background: #F9FAFB; border-radius: 8px;\\\">\\n    <div style=\\\"font-weight: 600; margin-bottom: 10px; color: #374151;\\\">Notes:</div>\\n    <div style=\\\"color: #6B7280; white-space: pre-line;\\\">{{invoice.notes}}</div>\\n  </div>\\n  {{/invoice.notes}}\\n</div>\\n  \",\n    css: \"\\n    .invoice {\\n      font-family: 'Inter', sans-serif;\\n      color: #1F2937;\\n    }\\n  \"\n};\n","export var fixedCleanProfessionalTemplate = {\n    id: 'clean-professional-fixed',\n    name: 'Clean Professional',\n    brand: {\n        primaryColor: '#0F172A',\n        accentColor: '#2563EB',\n        fontFamilyHeader: 'Inter',\n        fontFamilyBody: 'Inter',\n        logoPath: ''\n    },\n    layout: {\n        headerStyle: 'left-logo-right-details',\n        footerText: 'Thank you for your business!',\n        showSignature: false,\n        margins: { top: 48, right: 48, bottom: 64, left: 48 }\n    },\n    defaults: {\n        taxRules: ['standard'],\n        terms: 'Payment due within 14 days.'\n    },\n    html: \"\\n<div class=\\\"invoice p-8\\\" style=\\\"padding: 2rem; font-family: 'Inter', sans-serif;\\\">\\n  <header class=\\\"flex items-start justify-between mb-8\\\" style=\\\"display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 2rem;\\\">\\n    <div class=\\\"flex items-center gap-4\\\" style=\\\"display: flex; align-items: center; gap: 1rem;\\\">\\n      {{#business.logoPath}}\\n      <img src=\\\"{{business.logoPath}}\\\" alt=\\\"{{business.name}} Logo\\\" style=\\\"height:64px; max-width: 120px; object-fit: contain;\\\" />\\n      {{/business.logoPath}}\\n      <div>\\n        <h1 style=\\\"font-family: {{brand.fontFamilyHeader}}; font-size: 24px; color: {{brand.primaryColor}}; margin: 0; font-weight: 700;\\\">{{business.name}}</h1>\\n        <div style=\\\"font-family: {{brand.fontFamilyBody}}; font-size: 12px; color:#6B7280; margin-top: 4px;\\\">\\n          {{business.address}}<br>\\n          {{business.email}} \\u2022 {{business.phone}}\\n        </div>\\n      </div>\\n    </div>\\n    <div style=\\\"text-align: right;\\\">\\n      <div style=\\\"font-size:28px; color: {{brand.accentColor}}; font-weight:700; margin-bottom: 8px;\\\">INVOICE</div>\\n      <div style=\\\"font-size: 14px; margin-bottom: 4px;\\\"><strong># {{invoice.invoiceNumber}}</strong></div>\\n      <div style=\\\"font-size: 12px; color: #6B7280;\\\">Issue: {{invoice.formattedIssueDate}}</div>\\n      <div style=\\\"font-size: 12px; color: #6B7280;\\\">Due: {{invoice.formattedDueDate}}</div>\\n    </div>\\n  </header>\\n\\n  <section style=\\\"display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;\\\">\\n    <div>\\n      <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Bill To</h3>\\n      <div style=\\\"line-height: 1.5;\\\">\\n        <div style=\\\"font-weight: 500;\\\">{{client.name}}</div>\\n        <div>{{client.company}}</div>\\n        <div style=\\\"margin-top: 4px;\\\">{{client.billingAddress}}</div>\\n        <div style=\\\"margin-top: 4px; color: #6B7280;\\\">{{client.email}} \\u2022 {{client.phone}}</div>\\n      </div>\\n    </div>\\n    <div>\\n      <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Invoice Details</h3>\\n      <div style=\\\"line-height: 1.5;\\\">\\n        <div><strong>Ship To:</strong><br>{{client.shippingAddress}}</div>\\n        <div style=\\\"margin-top: 4px;\\\"><strong>PO:</strong> {{invoice.poNumber}}</div>\\n        <div style=\\\"margin-top: 4px;\\\"><strong>Terms:</strong> {{invoice.paymentTermsDisplay}}</div>\\n        <div style=\\\"margin-top: 4px;\\\"><strong>Currency:</strong> {{invoice.currency}}</div>\\n      </div>\\n    </div>\\n  </section>\\n\\n  <table style=\\\"width: 100%; border-collapse: collapse; margin-bottom: 2rem;\\\">\\n    <thead>\\n      <tr style=\\\"background:#F9FAFB;\\\">\\n        <th style=\\\"text-align: left; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Item</th>\\n        <th style=\\\"text-align: left; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Description</th>\\n        <th style=\\\"text-align: right; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Qty</th>\\n        <th style=\\\"text-align: right; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Rate</th>\\n        <th style=\\\"text-align: right; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Amount</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      {{#items}}\\n      <tr style=\\\"border-bottom: 1px solid #E5E7EB;\\\">\\n        <td style=\\\"padding: 12px; vertical-align: top;\\\">\\n          <div style=\\\"font-weight: 500;\\\">{{name}}</div>\\n          <div style=\\\"font-size: 11px; color: #9CA3AF; margin-top: 2px;\\\">SKU: {{sku}}</div>\\n        </td>\\n        <td style=\\\"padding: 12px; vertical-align: top;\\\">\\n          <div style=\\\"font-size: 13px; color: #6B7280;\\\">{{description}}</div>\\n          <div style=\\\"font-size: 11px; color: #9CA3AF; margin-top: 4px; font-style: italic;\\\">{{notes}}</div>\\n        </td>\\n        <td style=\\\"padding: 12px; text-align: right; vertical-align: top;\\\">{{formattedQuantity}}</td>\\n        <td style=\\\"padding: 12px; text-align: right; vertical-align: top;\\\">{{formattedUnitPrice}}</td>\\n        <td style=\\\"padding: 12px; text-align: right; vertical-align: top; font-weight: 500;\\\">{{calculatedLineTotal}}</td>\\n      </tr>\\n      {{/items}}\\n    </tbody>\\n  </table>\\n\\n  <section style=\\\"display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;\\\">\\n    <div>\\n      <div style=\\\"margin-bottom: 1.5rem;\\\">\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Notes</h3>\\n        <div style=\\\"font-size: 14px; line-height: 1.5; color: #6B7280;\\\">{{notes}}</div>\\n      </div>\\n      \\n      <div>\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Terms & Conditions</h3>\\n        <div style=\\\"font-size: 13px; line-height: 1.5; color: #6B7280;\\\">{{terms}}</div>\\n      </div>\\n    </div>\\n    \\n    <div>\\n      <div style=\\\"background: #F9FAFB; padding: 1.5rem; border-radius: 8px;\\\">\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px;\\\">\\n          <span style=\\\"color: #6B7280;\\\">Subtotal:</span>\\n          <span>{{totals.subtotal}}</span>\\n        </div>\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px;\\\">\\n          <span style=\\\"color: #6B7280;\\\">Tax:</span>\\n          <span>{{totals.taxTotal}}</span>\\n        </div>\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px;\\\">\\n          <span style=\\\"color: #6B7280;\\\">Discount:</span>\\n          <span style=\\\"color: #059669;\\\">{{totals.discountTotal}}</span>\\n        </div>\\n        <hr style=\\\"border: none; border-top: 1px solid #E5E7EB; margin: 12px 0;\\\">\\n        <div style=\\\"display: flex; justify-content: space-between; font-size: 18px; font-weight: 700; color: {{brand.primaryColor}};\\\">\\n          <span>Total:</span>\\n          <span>{{totals.grandTotal}}</span>\\n        </div>\\n      </div>\\n      \\n      <div style=\\\"text-align: center; margin-top: 2rem; color: #9CA3AF; font-size: 13px;\\\">\\n        {{footerText}}\\n      </div>\\n    </div>\\n  </section>\\n</div>\\n  \",\n    css: \"\\n    .invoice {\\n      font-family: 'Inter', sans-serif;\\n      color: #0F172A;\\n      max-width: 210mm;\\n      margin: 0 auto;\\n    }\\n    \\n    @media print {\\n      .invoice {\\n        width: 100%;\\n        max-width: none;\\n        margin: 0;\\n        padding: 0;\\n      }\\n    }\\n  \"\n};\n","export var defaultBusinessProfile = {\n    id: 'default',\n    name: 'StoneActive LLC',\n    address: '100 Main St\\nCity, ST 00000\\nUnited States',\n    email: 'billing@stoneactive.com',\n    phone: '555-555-5555',\n    taxId: 'XX-XXXXXXX',\n    bankDetails: 'Routing 000000000 | Account 00000000',\n    logoPath: '',\n    color: '#111827'\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { create } from 'zustand';\nimport { v4 as uuidv4 } from 'uuid';\nimport { format } from 'date-fns';\nimport { calculateInvoiceTotals } from '../utils/calculations';\nimport { saveFile, loadFile, listFiles, deleteFile } from '../utils/storage';\nimport { defaultTemplates } from '../data/defaultTemplates';\nimport { defaultBusinessProfile } from '../data/defaultBusinessProfile';\nvar createEmptyInvoice = function (templateId) {\n    if (templateId === void 0) { templateId = 'simple-test'; }\n    return ({\n        version: '1.0',\n        id: uuidv4(),\n        templateId: templateId,\n        businessProfileId: 'default',\n        invoiceNumber: \"INV-\".concat(format(new Date(), 'yyyy'), \"-\").concat(String(Date.now()).slice(-5)),\n        poNumber: '',\n        issueDate: format(new Date(), 'yyyy-MM-dd'),\n        dueDate: format(new Date(Date.now() + 14 * 24 * 60 * 60 * 1000), 'yyyy-MM-dd'),\n        paymentTerms: 'NET_14',\n        currency: 'USD',\n        locale: 'en-US',\n        client: {\n            name: '',\n            company: '',\n            contact: '',\n            email: '',\n            phone: '',\n            billingAddress: '',\n            shippingAddress: ''\n        },\n        items: [],\n        discounts: [],\n        fees: [],\n        taxes: [],\n        payments: [],\n        workDetails: '',\n        notes: '',\n        terms: 'Payment due within 14 days.',\n        totals: {\n            subtotal: 0,\n            itemDiscounts: 0,\n            invoiceDiscounts: 0,\n            fees: 0,\n            tax: 0,\n            grandTotal: 0,\n            paid: 0,\n            balanceDue: 0\n        },\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n    });\n};\nvar defaultSettings = {\n    currency: 'USD',\n    locale: 'en-US',\n    dateFormat: 'yyyy-MM-dd',\n    invoiceNumberPattern: 'INV-{YYYY}-{#####}',\n    defaultTaxes: [],\n    defaultFees: [],\n    defaultTemplateId: 'clean-professional',\n    defaultBusinessProfileId: 'default',\n    autosaveInterval: 10000\n};\nexport var useInvoiceStore = create(function (set, get) { return ({\n    currentInvoice: null,\n    templates: [],\n    businessProfiles: [],\n    settings: defaultSettings,\n    invoiceList: [],\n    isLoading: false,\n    error: null,\n    lastSaved: null,\n    hasUnsavedChanges: false,\n    initializeApp: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var loadError_1, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    _a.label = 2;\n                case 2:\n                    _a.trys.push([2, 4, , 5]);\n                    return [4 /*yield*/, Promise.all([\n                            get().loadSettings(),\n                            get().loadTemplates(),\n                            get().loadBusinessProfiles(),\n                            get().loadInvoiceList()\n                        ])];\n                case 3:\n                    _a.sent();\n                    return [3 /*break*/, 5];\n                case 4:\n                    loadError_1 = _a.sent();\n                    console.warn('Failed to load saved data, using defaults:', loadError_1);\n                    // Initialize with defaults\n                    set({\n                        templates: defaultTemplates,\n                        businessProfiles: [defaultBusinessProfile],\n                        settings: defaultSettings,\n                        invoiceList: []\n                    });\n                    return [3 /*break*/, 5];\n                case 5:\n                    // Create a new invoice\n                    get().createNewInvoice();\n                    set({ isLoading: false });\n                    return [3 /*break*/, 7];\n                case 6:\n                    error_1 = _a.sent();\n                    console.error('Failed to initialize app:', error_1);\n                    // Even if initialization fails, provide basic functionality\n                    set({\n                        templates: defaultTemplates,\n                        businessProfiles: [defaultBusinessProfile],\n                        settings: defaultSettings,\n                        invoiceList: [],\n                        isLoading: false,\n                        error: null\n                    });\n                    get().createNewInvoice();\n                    return [3 /*break*/, 7];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    createNewInvoice: function (templateId) {\n        var settings = get().settings;\n        var newInvoice = createEmptyInvoice(templateId || settings.defaultTemplateId);\n        set({\n            currentInvoice: newInvoice,\n            hasUnsavedChanges: false,\n            lastSaved: null,\n            error: null\n        });\n    },\n    updateInvoice: function (updates) {\n        var currentInvoice = get().currentInvoice;\n        if (!currentInvoice)\n            return;\n        var updatedInvoice = __assign(__assign(__assign({}, currentInvoice), updates), { updatedAt: new Date().toISOString() });\n        // Recalculate totals\n        updatedInvoice.totals = calculateInvoiceTotals(updatedInvoice);\n        set({\n            currentInvoice: updatedInvoice,\n            hasUnsavedChanges: true,\n            error: null\n        });\n    },\n    saveInvoice: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var currentInvoice, filename, result, error_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    currentInvoice = get().currentInvoice;\n                    if (!currentInvoice)\n                        return [2 /*return*/, false];\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    filename = \"\".concat(currentInvoice.invoiceNumber, \".json\");\n                    return [4 /*yield*/, saveFile(\"invoices/\".concat(filename), currentInvoice)];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    set({\n                        hasUnsavedChanges: false,\n                        lastSaved: new Date().toISOString(),\n                        isLoading: false\n                    });\n                    // Refresh invoice list\n                    return [4 /*yield*/, get().loadInvoiceList()];\n                case 3:\n                    // Refresh invoice list\n                    _a.sent();\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to save invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_2 = _a.sent();\n                    console.error('Error saving invoice:', error_2);\n                    set({ error: 'Failed to save invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadInvoice: function (invoiceId) { return __awaiter(void 0, void 0, void 0, function () {\n        var result, invoice, error_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, loadFile(\"invoices/\".concat(invoiceId))];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        invoice = result.data;\n                        // Recalculate totals to ensure consistency\n                        invoice.totals = calculateInvoiceTotals(invoice);\n                        set({\n                            currentInvoice: invoice,\n                            hasUnsavedChanges: false,\n                            lastSaved: invoice.updatedAt,\n                            isLoading: false\n                        });\n                        return [2 /*return*/, true];\n                    }\n                    else {\n                        set({ error: result.error || 'Failed to load invoice', isLoading: false });\n                        return [2 /*return*/, false];\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_3 = _a.sent();\n                    console.error('Error loading invoice:', error_3);\n                    set({ error: 'Failed to load invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); },\n    deleteInvoice: function (invoiceId) { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_4;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    return [4 /*yield*/, deleteFile(\"invoices/\".concat(invoiceId))];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    return [4 /*yield*/, get().loadInvoiceList()];\n                case 3:\n                    _a.sent();\n                    set({ isLoading: false });\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to delete invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_4 = _a.sent();\n                    console.error('Error deleting invoice:', error_4);\n                    set({ error: 'Failed to delete invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    duplicateInvoice: function () {\n        var currentInvoice = get().currentInvoice;\n        if (!currentInvoice)\n            return;\n        var duplicatedInvoice = __assign(__assign({}, currentInvoice), { id: uuidv4(), invoiceNumber: \"\".concat(currentInvoice.invoiceNumber, \"-COPY\"), createdAt: new Date().toISOString(), updatedAt: new Date().toISOString() });\n        set({\n            currentInvoice: duplicatedInvoice,\n            hasUnsavedChanges: true,\n            lastSaved: null\n        });\n    },\n    loadInvoiceList: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, fileList, invoiceList, _i, fileList_1, filename, invoiceResult, error_5;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 8, , 9]);\n                    return [4 /*yield*/, listFiles('invoices')];\n                case 1:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 6];\n                    fileList = result.files || [];\n                    invoiceList = [];\n                    _i = 0, fileList_1 = fileList;\n                    _a.label = 2;\n                case 2:\n                    if (!(_i < fileList_1.length)) return [3 /*break*/, 5];\n                    filename = fileList_1[_i];\n                    return [4 /*yield*/, loadFile(\"invoices/\".concat(filename))];\n                case 3:\n                    invoiceResult = _a.sent();\n                    if (invoiceResult.success && invoiceResult.data) {\n                        invoiceList.push({\n                            filename: filename,\n                            path: \"invoices/\".concat(filename),\n                            data: invoiceResult.data,\n                            modifiedAt: new Date()\n                        });\n                    }\n                    _a.label = 4;\n                case 4:\n                    _i++;\n                    return [3 /*break*/, 2];\n                case 5:\n                    set({ invoiceList: invoiceList });\n                    return [3 /*break*/, 7];\n                case 6:\n                    console.error('Failed to load invoice list:', result.error);\n                    _a.label = 7;\n                case 7: return [3 /*break*/, 9];\n                case 8:\n                    error_5 = _a.sent();\n                    console.error('Error loading invoice list:', error_5);\n                    return [3 /*break*/, 9];\n                case 9: return [2 /*return*/];\n            }\n        });\n    }); },\n    saveAsTemplate: function (name) { return __awaiter(void 0, void 0, void 0, function () {\n        var currentInvoice, template, filename, result, error_6;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    currentInvoice = get().currentInvoice;\n                    if (!currentInvoice)\n                        return [2 /*return*/, false];\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    template = {\n                        id: uuidv4(),\n                        name: name,\n                        brand: {\n                            primaryColor: '#0F172A',\n                            accentColor: '#2563EB',\n                            fontFamilyHeader: 'Inter',\n                            fontFamilyBody: 'Inter',\n                            logoPath: ''\n                        },\n                        layout: {\n                            headerStyle: 'left-logo-right-details',\n                            footerText: 'Thank you for your business!',\n                            showSignature: false,\n                            margins: { top: 48, right: 48, bottom: 64, left: 48 }\n                        },\n                        defaults: {\n                            taxRules: ['standard'],\n                            terms: currentInvoice.terms\n                        },\n                        html: '', // Will be populated by template system\n                        css: '' // Will be populated by template system\n                    };\n                    filename = \"\".concat(template.id, \".json\");\n                    return [4 /*yield*/, saveFile(\"templates/\".concat(filename), template)];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    return [4 /*yield*/, get().loadTemplates()];\n                case 3:\n                    _a.sent();\n                    set({ isLoading: false });\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to save template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_6 = _a.sent();\n                    console.error('Error saving template:', error_6);\n                    set({ error: 'Failed to save template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadTemplates: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, userTemplates, _i, _a, filename, templateResult, error_7;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 8, , 9]);\n                    return [4 /*yield*/, listFiles('templates')];\n                case 1:\n                    result = _b.sent();\n                    if (!result.success) return [3 /*break*/, 6];\n                    userTemplates = [];\n                    if (!result.files) return [3 /*break*/, 5];\n                    _i = 0, _a = result.files;\n                    _b.label = 2;\n                case 2:\n                    if (!(_i < _a.length)) return [3 /*break*/, 5];\n                    filename = _a[_i];\n                    return [4 /*yield*/, loadFile(\"templates/\".concat(filename))];\n                case 3:\n                    templateResult = _b.sent();\n                    if (templateResult.success && templateResult.data) {\n                        userTemplates.push(templateResult.data);\n                    }\n                    _b.label = 4;\n                case 4:\n                    _i++;\n                    return [3 /*break*/, 2];\n                case 5:\n                    set({ templates: __spreadArray(__spreadArray([], defaultTemplates, true), userTemplates, true) });\n                    return [3 /*break*/, 7];\n                case 6:\n                    // If templates directory doesn't exist or is empty, use defaults\n                    set({ templates: defaultTemplates });\n                    _b.label = 7;\n                case 7: return [3 /*break*/, 9];\n                case 8:\n                    error_7 = _b.sent();\n                    console.error('Error loading templates:', error_7);\n                    set({ templates: defaultTemplates });\n                    return [3 /*break*/, 9];\n                case 9: return [2 /*return*/];\n            }\n        });\n    }); },\n    deleteTemplate: function (templateId) { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_8;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    return [4 /*yield*/, deleteFile(\"templates/\".concat(templateId, \".json\"))];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    return [4 /*yield*/, get().loadTemplates()];\n                case 3:\n                    _a.sent();\n                    set({ isLoading: false });\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to delete template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_8 = _a.sent();\n                    console.error('Error deleting template:', error_8);\n                    set({ error: 'Failed to delete template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    updateBusinessProfile: function (profileUpdates) {\n        var businessProfiles = get().businessProfiles;\n        var updatedProfiles = businessProfiles.map(function (profile) {\n            return profile.id === profileUpdates.id ? __assign(__assign({}, profile), profileUpdates) : profile;\n        });\n        set({ businessProfiles: updatedProfiles, hasUnsavedChanges: true });\n    },\n    saveBusinessProfile: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var businessProfiles, defaultProfile, result, error_9;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    businessProfiles = get().businessProfiles;\n                    defaultProfile = businessProfiles.find(function (p) { return p.id === 'default'; });\n                    if (!defaultProfile)\n                        return [2 /*return*/, false];\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, saveFile('profiles/default.json', defaultProfile)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ isLoading: false });\n                        return [2 /*return*/, true];\n                    }\n                    else {\n                        set({ error: result.error || 'Failed to save business profile', isLoading: false });\n                        return [2 /*return*/, false];\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_9 = _a.sent();\n                    console.error('Error saving business profile:', error_9);\n                    set({ error: 'Failed to save business profile', isLoading: false });\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadBusinessProfiles: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_10;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, loadFile('profiles/default.json')];\n                case 1:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ businessProfiles: [result.data] });\n                    }\n                    else {\n                        // Use default profile if none exists\n                        set({ businessProfiles: [defaultBusinessProfile] });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_10 = _a.sent();\n                    console.error('Error loading business profiles:', error_10);\n                    set({ businessProfiles: [defaultBusinessProfile] });\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); },\n    updateSettings: function (settingsUpdates) {\n        var settings = get().settings;\n        set({ settings: __assign(__assign({}, settings), settingsUpdates), hasUnsavedChanges: true });\n    },\n    saveSettings: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var settings, result, error_11;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    settings = get().settings;\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, saveFile('settings.json', settings)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ isLoading: false });\n                        return [2 /*return*/, true];\n                    }\n                    else {\n                        set({ error: result.error || 'Failed to save settings', isLoading: false });\n                        return [2 /*return*/, false];\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_11 = _a.sent();\n                    console.error('Error saving settings:', error_11);\n                    set({ error: 'Failed to save settings', isLoading: false });\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadSettings: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_12;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, loadFile('settings.json')];\n                case 1:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ settings: __assign(__assign({}, defaultSettings), result.data) });\n                    }\n                    else {\n                        // Use default settings if none exist\n                        set({ settings: defaultSettings });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_12 = _a.sent();\n                    console.error('Error loading settings:', error_12);\n                    set({ settings: defaultSettings });\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); },\n    recalculateInvoice: function () {\n        var currentInvoice = get().currentInvoice;\n        if (!currentInvoice)\n            return;\n        var updatedInvoice = __assign(__assign({}, currentInvoice), { totals: calculateInvoiceTotals(currentInvoice), updatedAt: new Date().toISOString() });\n        set({ currentInvoice: updatedInvoice });\n    },\n    setError: function (error) { return set({ error: error }); },\n    clearError: function () { return set({ error: null }); }\n}); });\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useRef, useCallback, useEffect, useState } from 'react';\nvar RichTextEditor = function (_a) {\n    var value = _a.value, onChange = _a.onChange, _b = _a.placeholder, placeholder = _b === void 0 ? \"Enter your content...\" : _b, _c = _a.readOnly, readOnly = _c === void 0 ? false : _c, _d = _a.className, className = _d === void 0 ? \"\" : _d;\n    var editorRef = useRef(null);\n    var _e = useState(false), isInitialized = _e[0], setIsInitialized = _e[1];\n    // Initialize editor content\n    useEffect(function () {\n        if (editorRef.current && !isInitialized) {\n            editorRef.current.innerHTML = value || '';\n            setIsInitialized(true);\n        }\n    }, [value, isInitialized]);\n    // Define handleContentChange first\n    var handleContentChange = useCallback(function () {\n        if (editorRef.current) {\n            var content = editorRef.current.innerHTML;\n            onChange(content);\n        }\n    }, [onChange]);\n    var execCommand = useCallback(function (command, value) {\n        var _a;\n        document.execCommand(command, false, value);\n        (_a = editorRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n        handleContentChange();\n    }, [handleContentChange]);\n    var insertList = useCallback(function (ordered) {\n        var listType = ordered ? 'insertOrderedList' : 'insertUnorderedList';\n        execCommand(listType);\n    }, [execCommand]);\n    var toggleFormat = useCallback(function (format) {\n        execCommand(format);\n    }, [execCommand]);\n    var insertHeading = useCallback(function (level) {\n        execCommand('formatBlock', \"h\".concat(level));\n    }, [execCommand]);\n    return (_jsxs(\"div\", { className: \"rich-text-editor border border-gray-300 rounded-lg overflow-hidden \".concat(className), children: [_jsxs(\"div\", { className: \"flex items-center gap-1 p-2 bg-gray-50 border-b border-gray-200 flex-wrap\", children: [_jsxs(\"select\", { onChange: function (e) {\n                            if (e.target.value === 'p') {\n                                execCommand('formatBlock', 'div');\n                            }\n                            else {\n                                insertHeading(parseInt(e.target.value));\n                            }\n                            e.target.value = 'p';\n                        }, className: \"px-2 py-1 text-xs border border-gray-300 rounded bg-white\", defaultValue: \"p\", children: [_jsx(\"option\", { value: \"p\", children: \"Normal\" }), _jsx(\"option\", { value: \"1\", children: \"Heading 1\" }), _jsx(\"option\", { value: \"2\", children: \"Heading 2\" }), _jsx(\"option\", { value: \"3\", children: \"Heading 3\" })] }), _jsx(\"div\", { className: \"w-px h-6 bg-gray-300 mx-1\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return toggleFormat('bold'); }, className: \"px-2 py-1 text-xs font-bold border border-gray-300 rounded bg-white hover:bg-gray-100\", title: \"Bold\", children: \"B\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return toggleFormat('italic'); }, className: \"px-2 py-1 text-xs italic border border-gray-300 rounded bg-white hover:bg-gray-100\", title: \"Italic\", children: \"I\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return toggleFormat('underline'); }, className: \"px-2 py-1 text-xs underline border border-gray-300 rounded bg-white hover:bg-gray-100\", title: \"Underline\", children: \"U\" }), _jsx(\"div\", { className: \"w-px h-6 bg-gray-300 mx-1\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return insertList(false); }, className: \"px-2 py-1 text-xs border border-gray-300 rounded bg-white hover:bg-gray-100\", title: \"Bullet List\", children: \"\\u2022 List\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return insertList(true); }, className: \"px-2 py-1 text-xs border border-gray-300 rounded bg-white hover:bg-gray-100\", title: \"Numbered List\", children: \"1. List\" }), _jsx(\"div\", { className: \"w-px h-6 bg-gray-300 mx-1\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return execCommand('justifyLeft'); }, className: \"px-2 py-1 text-xs border border-gray-300 rounded bg-white hover:bg-gray-100\", title: \"Align Left\", children: \"\\u2190\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return execCommand('justifyCenter'); }, className: \"px-2 py-1 text-xs border border-gray-300 rounded bg-white hover:bg-gray-100\", title: \"Center\", children: \"\\u2194\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return execCommand('justifyRight'); }, className: \"px-2 py-1 text-xs border border-gray-300 rounded bg-white hover:bg-gray-100\", title: \"Align Right\", children: \"\\u2192\" }), _jsx(\"div\", { className: \"w-px h-6 bg-gray-300 mx-1\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return execCommand('formatBlock', 'blockquote'); }, className: \"px-2 py-1 text-xs border border-gray-300 rounded bg-white hover:bg-gray-100\", title: \"Quote\", children: \"\\\" \\\"\" })] }), _jsx(\"div\", { ref: editorRef, contentEditable: !readOnly, onInput: handleContentChange, onBlur: handleContentChange, className: \"p-4 min-h-[200px] outline-none focus:ring-0\", style: {\n                    fontSize: '14px',\n                    lineHeight: '1.6',\n                }, \"data-placeholder\": placeholder, suppressContentEditableWarning: true }), _jsx(\"style\", { children: \"\\n        .rich-text-editor [contenteditable]:empty::before {\\n          content: attr(data-placeholder);\\n          color: #9ca3af;\\n          font-style: normal;\\n          pointer-events: none;\\n        }\\n        .rich-text-editor [contenteditable] h1 {\\n          font-size: 1.5em;\\n          font-weight: bold;\\n          margin: 0.5em 0;\\n        }\\n        .rich-text-editor [contenteditable] h2 {\\n          font-size: 1.3em;\\n          font-weight: bold;\\n          margin: 0.4em 0;\\n        }\\n        .rich-text-editor [contenteditable] h3 {\\n          font-size: 1.1em;\\n          font-weight: bold;\\n          margin: 0.3em 0;\\n        }\\n        .rich-text-editor [contenteditable] ul {\\n          list-style-type: disc;\\n          margin-left: 1.5em;\\n          margin: 0.5em 0 0.5em 1.5em;\\n        }\\n        .rich-text-editor [contenteditable] ol {\\n          list-style-type: decimal;\\n          margin-left: 1.5em;\\n          margin: 0.5em 0 0.5em 1.5em;\\n        }\\n        .rich-text-editor [contenteditable] li {\\n          margin: 0.2em 0;\\n        }\\n        .rich-text-editor [contenteditable] blockquote {\\n          border-left: 4px solid #e5e7eb;\\n          margin: 1em 0;\\n          padding-left: 1em;\\n          color: #6b7280;\\n          font-style: italic;\\n        }\\n        .rich-text-editor [contenteditable] p {\\n          margin: 0.5em 0;\\n        }\\n      \" })] }));\n};\nexport default RichTextEditor;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { v4 as uuidv4 } from 'uuid';\nimport { format } from 'date-fns';\nimport RichTextEditor from './RichTextEditor';\nvar InvoiceForm = function () {\n    var _a = useInvoiceStore(), currentInvoice = _a.currentInvoice, updateInvoice = _a.updateInvoice, businessProfiles = _a.businessProfiles, updateBusinessProfile = _a.updateBusinessProfile, saveBusinessProfile = _a.saveBusinessProfile;\n    var _b = useState('business'), activeSection = _b[0], setActiveSection = _b[1];\n    if (!currentInvoice)\n        return null;\n    var businessProfile = businessProfiles[0] || null;\n    // Helper function to update invoice fields\n    var updateField = function (field, value) {\n        var _a;\n        updateInvoice((_a = {}, _a[field] = value, _a));\n    };\n    // Helper function to update nested fields\n    var updateNestedField = function (parentField, field, value) {\n        var _a, _b;\n        var currentValue = currentInvoice[parentField];\n        if (typeof currentValue === 'object' && currentValue !== null) {\n            updateInvoice((_a = {},\n                _a[parentField] = __assign(__assign({}, currentValue), (_b = {}, _b[field] = value, _b)),\n                _a));\n        }\n    };\n    // Item management functions\n    var addItem = function () {\n        var newItem = {\n            id: uuidv4(),\n            sku: '',\n            name: '',\n            description: '',\n            quantity: 1,\n            unitPrice: 0,\n            discount: null,\n            taxCategory: 'standard',\n            notes: ''\n        };\n        updateField('items', __spreadArray(__spreadArray([], currentInvoice.items, true), [newItem], false));\n    };\n    var updateItem = function (itemId, field, value) {\n        var updatedItems = currentInvoice.items.map(function (item) {\n            var _a;\n            return item.id === itemId ? __assign(__assign({}, item), (_a = {}, _a[field] = value, _a)) : item;\n        });\n        updateField('items', updatedItems);\n    };\n    var removeItem = function (itemId) {\n        var updatedItems = currentInvoice.items.filter(function (item) { return item.id !== itemId; });\n        updateField('items', updatedItems);\n    };\n    var duplicateItem = function (itemId) {\n        var itemToDuplicate = currentInvoice.items.find(function (item) { return item.id === itemId; });\n        if (itemToDuplicate) {\n            var duplicatedItem = __assign(__assign({}, itemToDuplicate), { id: uuidv4() });\n            updateField('items', __spreadArray(__spreadArray([], currentInvoice.items, true), [duplicatedItem], false));\n        }\n    };\n    // Discount management\n    var addDiscount = function () {\n        var newDiscount = {\n            id: uuidv4(),\n            label: 'Discount',\n            type: 'percent',\n            value: 0\n        };\n        updateField('discounts', __spreadArray(__spreadArray([], currentInvoice.discounts, true), [newDiscount], false));\n    };\n    var updateDiscount = function (discountId, field, value) {\n        var updatedDiscounts = currentInvoice.discounts.map(function (discount) {\n            var _a;\n            return discount.id === discountId ? __assign(__assign({}, discount), (_a = {}, _a[field] = value, _a)) : discount;\n        });\n        updateField('discounts', updatedDiscounts);\n    };\n    var removeDiscount = function (discountId) {\n        var updatedDiscounts = currentInvoice.discounts.filter(function (discount) { return discount.id !== discountId; });\n        updateField('discounts', updatedDiscounts);\n    };\n    // Fee management\n    var addFee = function () {\n        var newFee = {\n            id: uuidv4(),\n            label: 'Fee',\n            type: 'percent',\n            value: 0,\n            applyBase: 'subtotal_after_item_discounts'\n        };\n        updateField('fees', __spreadArray(__spreadArray([], currentInvoice.fees, true), [newFee], false));\n    };\n    var updateFee = function (feeId, field, value) {\n        var updatedFees = currentInvoice.fees.map(function (fee) {\n            var _a;\n            return fee.id === feeId ? __assign(__assign({}, fee), (_a = {}, _a[field] = value, _a)) : fee;\n        });\n        updateField('fees', updatedFees);\n    };\n    var removeFee = function (feeId) {\n        var updatedFees = currentInvoice.fees.filter(function (fee) { return fee.id !== feeId; });\n        updateField('fees', updatedFees);\n    };\n    // Tax management\n    var addTax = function () {\n        var newTax = {\n            id: uuidv4(),\n            label: 'Tax',\n            rate: 0,\n            category: 'standard',\n            priority: currentInvoice.taxes.length + 1,\n            applyAfterDiscounts: true\n        };\n        updateField('taxes', __spreadArray(__spreadArray([], currentInvoice.taxes, true), [newTax], false));\n    };\n    var updateTax = function (taxId, field, value) {\n        var updatedTaxes = currentInvoice.taxes.map(function (tax) {\n            var _a;\n            return tax.id === taxId ? __assign(__assign({}, tax), (_a = {}, _a[field] = value, _a)) : tax;\n        });\n        updateField('taxes', updatedTaxes);\n    };\n    var removeTax = function (taxId) {\n        var updatedTaxes = currentInvoice.taxes.filter(function (tax) { return tax.id !== taxId; });\n        updateField('taxes', updatedTaxes);\n    };\n    // Payment management\n    var addPayment = function () {\n        var newPayment = {\n            id: uuidv4(),\n            date: format(new Date(), 'yyyy-MM-dd'),\n            method: 'Cash',\n            amount: 0\n        };\n        updateField('payments', __spreadArray(__spreadArray([], currentInvoice.payments, true), [newPayment], false));\n    };\n    var updatePayment = function (paymentId, field, value) {\n        var updatedPayments = currentInvoice.payments.map(function (payment) {\n            var _a;\n            return payment.id === paymentId ? __assign(__assign({}, payment), (_a = {}, _a[field] = value, _a)) : payment;\n        });\n        updateField('payments', updatedPayments);\n    };\n    var removePayment = function (paymentId) {\n        var updatedPayments = currentInvoice.payments.filter(function (payment) { return payment.id !== paymentId; });\n        updateField('payments', updatedPayments);\n    };\n    return (_jsxs(\"div\", { className: \"p-6 space-y-6\", children: [_jsx(\"div\", { className: \"border-b border-gray-200\", children: _jsx(\"nav\", { className: \"-mb-px flex space-x-4\", children: [\n                        { id: 'business', label: 'Business' },\n                        { id: 'client', label: 'Client' },\n                        { id: 'meta', label: 'Invoice' },\n                        { id: 'items', label: 'Items' },\n                        { id: 'work', label: 'Work Details' },\n                        { id: 'taxes', label: 'Taxes & Fees' },\n                        { id: 'payments', label: 'Payments' },\n                        { id: 'notes', label: 'Notes' }\n                    ].map(function (section) { return (_jsx(\"button\", { onClick: function () { return setActiveSection(section.id); }, className: \"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeSection === section.id\n                            ? 'border-blue-500 text-blue-600'\n                            : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'), children: section.label }, section.id)); }) }) }), activeSection === 'business' && businessProfile && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Business Profile\" }), _jsxs(\"div\", { className: \"grid grid-cols-1 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Business Name\" }), _jsx(\"input\", { type: \"text\", value: businessProfile.name, onChange: function (e) { return updateBusinessProfile({ id: 'default', name: e.target.value }); }, className: \"form-input\", placeholder: \"Your Company LLC\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Address\" }), _jsx(\"textarea\", { value: businessProfile.address, onChange: function (e) { return updateBusinessProfile({ id: 'default', address: e.target.value }); }, className: \"form-textarea\", rows: 3, placeholder: \"100 Main St, City, ST 00000\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Email\" }), _jsx(\"input\", { type: \"email\", value: businessProfile.email, onChange: function (e) { return updateBusinessProfile({ id: 'default', email: e.target.value }); }, className: \"form-input\", placeholder: \"billing@yourco.com\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Phone\" }), _jsx(\"input\", { type: \"tel\", value: businessProfile.phone, onChange: function (e) { return updateBusinessProfile({ id: 'default', phone: e.target.value }); }, className: \"form-input\", placeholder: \"555-555-5555\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Brand Color\" }), _jsx(\"input\", { type: \"color\", value: businessProfile.color, onChange: function (e) { return updateBusinessProfile({ id: 'default', color: e.target.value }); }, className: \"form-input h-10\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Company Logo\" }), _jsxs(\"div\", { className: \"space-y-3\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsx(\"input\", { type: \"file\", accept: \"image/*\", onChange: function (e) {\n                                                            var _a;\n                                                            var file = (_a = e.target.files) === null || _a === void 0 ? void 0 : _a[0];\n                                                            if (file) {\n                                                                var reader = new FileReader();\n                                                                reader.onload = function (event) {\n                                                                    var _a;\n                                                                    var logoUrl = (_a = event.target) === null || _a === void 0 ? void 0 : _a.result;\n                                                                    updateBusinessProfile({ id: 'default', logoPath: logoUrl });\n                                                                };\n                                                                reader.readAsDataURL(file);\n                                                            }\n                                                        }, className: \"hidden\", id: \"logo-upload\" }), _jsx(\"label\", { htmlFor: \"logo-upload\", className: \"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded cursor-pointer border border-gray-300\", children: \"Choose Logo File\" }), businessProfile.logoPath && (_jsx(\"button\", { onClick: function () { return updateBusinessProfile({ id: 'default', logoPath: '' }); }, className: \"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 text-sm rounded border border-red-300\", children: \"Remove Logo\" }))] }), businessProfile.logoPath && (_jsxs(\"div\", { className: \"mt-3\", children: [_jsx(\"div\", { className: \"w-32 h-20 border border-gray-200 rounded overflow-hidden bg-white\", children: _jsx(\"img\", { src: businessProfile.logoPath, alt: \"Company Logo\", className: \"w-full h-full object-contain\" }) }), _jsx(\"p\", { className: \"text-xs text-gray-500 mt-1\", children: \"Logo preview (will appear on top-left of invoice)\" })] }))] })] }), _jsx(\"button\", { onClick: saveBusinessProfile, className: \"btn-primary\", children: \"Save Business Profile\" })] })] })), activeSection === 'client' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Client Information\" }), _jsxs(\"div\", { className: \"grid grid-cols-1 gap-4\", children: [_jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Client Name\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.client.name, onChange: function (e) { return updateNestedField('client', 'name', e.target.value); }, className: \"form-input\", placeholder: \"John Doe\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Company\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.client.company, onChange: function (e) { return updateNestedField('client', 'company', e.target.value); }, className: \"form-input\", placeholder: \"Acme Inc.\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Email\" }), _jsx(\"input\", { type: \"email\", value: currentInvoice.client.email, onChange: function (e) { return updateNestedField('client', 'email', e.target.value); }, className: \"form-input\", placeholder: \"billing@acme.com\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Phone\" }), _jsx(\"input\", { type: \"tel\", value: currentInvoice.client.phone, onChange: function (e) { return updateNestedField('client', 'phone', e.target.value); }, className: \"form-input\", placeholder: \"555-555-5555\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Billing Address\" }), _jsx(\"textarea\", { value: currentInvoice.client.billingAddress, onChange: function (e) { return updateNestedField('client', 'billingAddress', e.target.value); }, className: \"form-textarea\", rows: 3, placeholder: \"123 Main St, City, ST 00000\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Shipping Address\" }), _jsx(\"textarea\", { value: currentInvoice.client.shippingAddress, onChange: function (e) { return updateNestedField('client', 'shippingAddress', e.target.value); }, className: \"form-textarea\", rows: 3, placeholder: \"Same as billing address\" })] })] })] })), activeSection === 'meta' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Invoice Details\" }), _jsxs(\"div\", { className: \"grid grid-cols-1 gap-4\", children: [_jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Invoice Number\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.invoiceNumber, onChange: function (e) { return updateField('invoiceNumber', e.target.value); }, className: \"form-input\", placeholder: \"INV-2025-00001\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"PO Number\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.poNumber, onChange: function (e) { return updateField('poNumber', e.target.value); }, className: \"form-input\", placeholder: \"PO-7788\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Issue Date\" }), _jsx(\"input\", { type: \"date\", value: currentInvoice.issueDate, onChange: function (e) { return updateField('issueDate', e.target.value); }, className: \"form-input\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Due Date\" }), _jsx(\"input\", { type: \"date\", value: currentInvoice.dueDate, onChange: function (e) { return updateField('dueDate', e.target.value); }, className: \"form-input\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Payment Terms\" }), _jsxs(\"select\", { value: currentInvoice.paymentTerms, onChange: function (e) { return updateField('paymentTerms', e.target.value); }, className: \"form-select\", children: [_jsx(\"option\", { value: \"NET_0\", children: \"Due on Receipt\" }), _jsx(\"option\", { value: \"NET_7\", children: \"Net 7 Days\" }), _jsx(\"option\", { value: \"NET_14\", children: \"Net 14 Days\" }), _jsx(\"option\", { value: \"NET_15\", children: \"Net 15 Days\" }), _jsx(\"option\", { value: \"NET_30\", children: \"Net 30 Days\" }), _jsx(\"option\", { value: \"NET_45\", children: \"Net 45 Days\" }), _jsx(\"option\", { value: \"NET_60\", children: \"Net 60 Days\" }), _jsx(\"option\", { value: \"NET_90\", children: \"Net 90 Days\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Currency\" }), _jsxs(\"select\", { value: currentInvoice.currency, onChange: function (e) { return updateField('currency', e.target.value); }, className: \"form-select\", children: [_jsx(\"option\", { value: \"USD\", children: \"USD ($)\" }), _jsx(\"option\", { value: \"EUR\", children: \"EUR (\\u20AC)\" }), _jsx(\"option\", { value: \"GBP\", children: \"GBP (\\u00A3)\" }), _jsx(\"option\", { value: \"CAD\", children: \"CAD ($)\" }), _jsx(\"option\", { value: \"AUD\", children: \"AUD ($)\" })] })] })] })] })] })), activeSection === 'items' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Line Items\" }), _jsx(\"button\", { onClick: addItem, className: \"btn-primary text-sm\", children: \"+ Add Item\" })] }), _jsxs(\"div\", { className: \"space-y-4\", children: [currentInvoice.items.map(function (item, index) {\n                                var _a;\n                                return (_jsxs(\"div\", { className: \"border border-gray-200 rounded-lg p-4 space-y-3\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"span\", { className: \"text-sm font-medium text-gray-500\", children: [\"Item #\", index + 1] }), _jsxs(\"div\", { className: \"flex space-x-2\", children: [_jsx(\"button\", { onClick: function () { return duplicateItem(item.id); }, className: \"text-sm text-blue-600 hover:text-blue-800\", children: \"Duplicate\" }), _jsx(\"button\", { onClick: function () { return removeItem(item.id); }, className: \"text-sm text-red-600 hover:text-red-800\", children: \"Remove\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Item Name\" }), _jsx(\"input\", { type: \"text\", value: item.name, onChange: function (e) { return updateItem(item.id, 'name', e.target.value); }, className: \"form-input text-sm\", placeholder: \"Design Service\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"SKU\" }), _jsx(\"input\", { type: \"text\", value: item.sku, onChange: function (e) { return updateItem(item.id, 'sku', e.target.value); }, className: \"form-input text-sm\", placeholder: \"SERV-001\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Description\" }), _jsx(\"textarea\", { value: item.description, onChange: function (e) { return updateItem(item.id, 'description', e.target.value); }, className: \"form-textarea text-sm\", rows: 2, placeholder: \"Homepage + 3 inner pages\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-3 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Quantity\" }), _jsx(\"input\", { type: \"number\", value: item.quantity, onChange: function (e) { return updateItem(item.id, 'quantity', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm\", min: \"0\", step: \"0.01\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Unit Price\" }), _jsx(\"input\", { type: \"number\", value: item.unitPrice, onChange: function (e) { return updateItem(item.id, 'unitPrice', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm\", min: \"0\", step: \"0.01\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Tax Category\" }), _jsxs(\"select\", { value: item.taxCategory, onChange: function (e) { return updateItem(item.id, 'taxCategory', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"standard\", children: \"Standard\" }), _jsx(\"option\", { value: \"reduced\", children: \"Reduced\" }), _jsx(\"option\", { value: \"exempt\", children: \"Exempt\" })] })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Discount Type\" }), _jsxs(\"select\", { value: ((_a = item.discount) === null || _a === void 0 ? void 0 : _a.type) || '', onChange: function (e) {\n                                                                var _a;\n                                                                if (e.target.value === '') {\n                                                                    updateItem(item.id, 'discount', null);\n                                                                }\n                                                                else {\n                                                                    updateItem(item.id, 'discount', {\n                                                                        type: e.target.value,\n                                                                        value: ((_a = item.discount) === null || _a === void 0 ? void 0 : _a.value) || 0\n                                                                    });\n                                                                }\n                                                            }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"\", children: \"No Discount\" }), _jsx(\"option\", { value: \"percent\", children: \"Percentage\" }), _jsx(\"option\", { value: \"fixed\", children: \"Fixed Amount\" })] })] }), item.discount && (_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Discount Value\" }), _jsx(\"input\", { type: \"number\", value: item.discount.value, onChange: function (e) { return updateItem(item.id, 'discount', __assign(__assign({}, item.discount), { value: parseFloat(e.target.value) || 0 })); }, className: \"form-input text-sm\", min: \"0\", step: \"0.01\" })] }))] })] }, item.id));\n                            }), currentInvoice.items.length === 0 && (_jsxs(\"div\", { className: \"text-center py-8 text-gray-500\", children: [_jsx(\"p\", { children: \"No items added yet.\" }), _jsx(\"button\", { onClick: addItem, className: \"btn-primary mt-2\", children: \"Add Your First Item\" })] }))] })] })), activeSection === 'work' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Details of Work\" }), _jsx(\"p\", { className: \"text-sm text-gray-600\", children: \"Specify project requirements, scope, and technical specifications.\" }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Project Specifications & Requirements\" }), _jsx(RichTextEditor, { value: currentInvoice.workDetails, onChange: function (content) { return updateField('workDetails', content); }, placeholder: \"Describe the work specifications, requirements, deliverables, scope, technical details, timeline, and any other project details here...\\n\\nExamples:\\n\\u2022 Website design and development\\n\\u2022 5-page responsive website with custom design\\n\\u2022 Contact form integration with email notifications\\n\\u2022 Mobile-optimized layout\\n\\u2022 SEO-friendly structure\\n\\u2022 2 rounds of revisions included\\n\\u2022 Delivery within 14 business days\\n\\nTechnical specifications:\\n\\u2022 HTML5, CSS3, JavaScript\\n\\u2022 Responsive design (mobile, tablet, desktop)\\n\\u2022 Cross-browser compatibility (Chrome, Firefox, Safari, Edge)\\n\\u2022 Performance optimization\\n\\u2022 Clean, semantic code structure\" })] })] })), activeSection === 'taxes' && (_jsxs(\"div\", { className: \"space-y-6\", children: [_jsxs(\"div\", { children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"h4\", { className: \"text-md font-semibold text-gray-800\", children: \"Invoice Discounts\" }), _jsx(\"button\", { onClick: addDiscount, className: \"btn-secondary text-sm\", children: \"+ Add Discount\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.discounts.map(function (discount) { return (_jsxs(\"div\", { className: \"flex items-center space-x-3 p-3 border border-gray-200 rounded\", children: [_jsx(\"input\", { type: \"text\", value: discount.label, onChange: function (e) { return updateDiscount(discount.id, 'label', e.target.value); }, className: \"form-input text-sm flex-1\", placeholder: \"Discount name\" }), _jsxs(\"select\", { value: discount.type, onChange: function (e) { return updateDiscount(discount.id, 'type', e.target.value); }, className: \"form-select text-sm w-24\", children: [_jsx(\"option\", { value: \"percent\", children: \"%\" }), _jsx(\"option\", { value: \"fixed\", children: \"$\" })] }), _jsx(\"input\", { type: \"number\", value: discount.value, onChange: function (e) { return updateDiscount(discount.id, 'value', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm w-20\", min: \"0\", step: \"0.01\" }), _jsx(\"button\", { onClick: function () { return removeDiscount(discount.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }, discount.id)); }) })] }), _jsxs(\"div\", { children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"h4\", { className: \"text-md font-semibold text-gray-800\", children: \"Fees\" }), _jsx(\"button\", { onClick: addFee, className: \"btn-secondary text-sm\", children: \"+ Add Fee\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.fees.map(function (fee) { return (_jsxs(\"div\", { className: \"space-y-3 p-3 border border-gray-200 rounded\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-3\", children: [_jsx(\"input\", { type: \"text\", value: fee.label, onChange: function (e) { return updateFee(fee.id, 'label', e.target.value); }, className: \"form-input text-sm flex-1\", placeholder: \"Fee name\" }), _jsxs(\"select\", { value: fee.type, onChange: function (e) { return updateFee(fee.id, 'type', e.target.value); }, className: \"form-select text-sm w-24\", children: [_jsx(\"option\", { value: \"percent\", children: \"%\" }), _jsx(\"option\", { value: \"fixed\", children: \"$\" })] }), _jsx(\"input\", { type: \"number\", value: fee.value, onChange: function (e) { return updateFee(fee.id, 'value', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm w-20\", min: \"0\", step: \"0.01\" }), _jsx(\"button\", { onClick: function () { return removeFee(fee.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Apply To\" }), _jsxs(\"select\", { value: fee.applyBase, onChange: function (e) { return updateFee(fee.id, 'applyBase', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"subtotal\", children: \"Subtotal\" }), _jsx(\"option\", { value: \"subtotal_after_item_discounts\", children: \"Subtotal After Item Discounts\" }), _jsx(\"option\", { value: \"subtotal_after_invoice_discounts\", children: \"Subtotal After All Discounts\" }), _jsx(\"option\", { value: \"grand_total_pre_tax\", children: \"Grand Total (Pre-Tax)\" })] })] })] }, fee.id)); }) })] }), _jsxs(\"div\", { children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"h4\", { className: \"text-md font-semibold text-gray-800\", children: \"Taxes\" }), _jsx(\"button\", { onClick: addTax, className: \"btn-secondary text-sm\", children: \"+ Add Tax\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.taxes.map(function (tax) { return (_jsxs(\"div\", { className: \"space-y-3 p-3 border border-gray-200 rounded\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-3\", children: [_jsx(\"input\", { type: \"text\", value: tax.label, onChange: function (e) { return updateTax(tax.id, 'label', e.target.value); }, className: \"form-input text-sm flex-1\", placeholder: \"Tax name\" }), _jsxs(\"div\", { className: \"flex items-center space-x-1\", children: [_jsx(\"input\", { type: \"number\", value: tax.rate, onChange: function (e) { return updateTax(tax.id, 'rate', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm w-20\", min: \"0\", step: \"0.01\" }), _jsx(\"span\", { className: \"text-sm text-gray-500\", children: \"%\" })] }), _jsx(\"button\", { onClick: function () { return removeTax(tax.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-3 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Category\" }), _jsxs(\"select\", { value: tax.category, onChange: function (e) { return updateTax(tax.id, 'category', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"standard\", children: \"Standard\" }), _jsx(\"option\", { value: \"reduced\", children: \"Reduced\" }), _jsx(\"option\", { value: \"all\", children: \"All Items\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Priority\" }), _jsx(\"input\", { type: \"number\", value: tax.priority, onChange: function (e) { return updateTax(tax.id, 'priority', parseInt(e.target.value) || 1); }, className: \"form-input text-sm\", min: \"1\" })] }), _jsx(\"div\", { className: \"flex items-center pt-6\", children: _jsxs(\"label\", { className: \"flex items-center text-sm\", children: [_jsx(\"input\", { type: \"checkbox\", checked: tax.applyAfterDiscounts, onChange: function (e) { return updateTax(tax.id, 'applyAfterDiscounts', e.target.checked); }, className: \"mr-2\" }), \"After Discounts\"] }) })] })] }, tax.id)); }) })] })] })), activeSection === 'payments' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Payments\" }), _jsx(\"button\", { onClick: addPayment, className: \"btn-secondary text-sm\", children: \"+ Add Payment\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.payments.map(function (payment) { return (_jsxs(\"div\", { className: \"flex items-center space-x-3 p-3 border border-gray-200 rounded\", children: [_jsx(\"input\", { type: \"date\", value: payment.date, onChange: function (e) { return updatePayment(payment.id, 'date', e.target.value); }, className: \"form-input text-sm\" }), _jsxs(\"select\", { value: payment.method, onChange: function (e) { return updatePayment(payment.id, 'method', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"Cash\", children: \"Cash\" }), _jsx(\"option\", { value: \"Check\", children: \"Check\" }), _jsx(\"option\", { value: \"Card\", children: \"Credit Card\" }), _jsx(\"option\", { value: \"Bank Transfer\", children: \"Bank Transfer\" }), _jsx(\"option\", { value: \"PayPal\", children: \"PayPal\" }), _jsx(\"option\", { value: \"Other\", children: \"Other\" })] }), _jsx(\"input\", { type: \"text\", inputMode: \"decimal\", value: payment.amount.toString(), onChange: function (e) {\n                                        var value = e.target.value.replace(/[^0-9.]/g, '');\n                                        if (value === '' || /^\\d*\\.?\\d*$/.test(value)) {\n                                            updatePayment(payment.id, 'amount', parseFloat(value) || 0);\n                                        }\n                                    }, className: \"form-input text-sm w-32\", placeholder: \"0.00\" }), _jsx(\"button\", { onClick: function () { return removePayment(payment.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }, payment.id)); }) })] })), activeSection === 'notes' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Notes & Terms\" }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Notes to Client\" }), _jsx(\"textarea\", { value: currentInvoice.notes, onChange: function (e) { return updateField('notes', e.target.value); }, className: \"form-textarea\", rows: 4, placeholder: \"Thank you for your business!\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Terms & Conditions\" }), _jsx(\"textarea\", { value: currentInvoice.terms, onChange: function (e) { return updateField('terms', e.target.value); }, className: \"form-textarea\", rows: 4, placeholder: \"Payment due within 14 days. Late payments may incur additional charges.\" })] })] }))] }));\n};\nexport default InvoiceForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Mustache from 'mustache';\nimport { formatCurrency, calculateItemTotal, calculateItemDiscount } from './calculations';\n/**\n * Prepare data for template rendering\n */\nexport var prepareTemplateData = function (invoice, template, businessProfile) {\n    // Prepare items with calculated values\n    var itemsWithCalculations = invoice.items.map(function (item) { return (__assign(__assign({}, item), { calculatedLineTotal: formatCurrency(calculateItemTotal(item), invoice.currency, invoice.locale), calculatedDiscount: item.discount ? formatCurrency(calculateItemDiscount(item), invoice.currency, invoice.locale) : '', formattedUnitPrice: formatCurrency(item.unitPrice, invoice.currency, invoice.locale), formattedQuantity: item.quantity.toString(), discountDisplay: item.discount\n            ? \"\".concat(item.discount.type === 'percent' ? item.discount.value + '%' : formatCurrency(item.discount.value, invoice.currency, invoice.locale))\n            : '' })); });\n    // Prepare totals with currency formatting\n    var formattedTotals = {\n        subtotal: formatCurrency(invoice.totals.subtotal, invoice.currency, invoice.locale),\n        itemDiscounts: formatCurrency(invoice.totals.itemDiscounts, invoice.currency, invoice.locale),\n        invoiceDiscounts: formatCurrency(invoice.totals.invoiceDiscounts, invoice.currency, invoice.locale),\n        fees: formatCurrency(invoice.totals.fees, invoice.currency, invoice.locale),\n        tax: formatCurrency(invoice.totals.tax, invoice.currency, invoice.locale),\n        grandTotal: formatCurrency(invoice.totals.grandTotal, invoice.currency, invoice.locale),\n        paid: formatCurrency(invoice.totals.paid, invoice.currency, invoice.locale),\n        balanceDue: formatCurrency(invoice.totals.balanceDue, invoice.currency, invoice.locale)\n    };\n    // Prepare fees with formatting\n    var formattedFees = invoice.fees.map(function (fee) { return (__assign(__assign({}, fee), { formattedValue: fee.type === 'percent'\n            ? \"\".concat(fee.value, \"%\")\n            : formatCurrency(fee.value, invoice.currency, invoice.locale) })); });\n    // Prepare taxes with formatting\n    var formattedTaxes = invoice.taxes.map(function (tax) { return (__assign(__assign({}, tax), { formattedRate: \"\".concat(tax.rate, \"%\") })); });\n    // Prepare payments with formatting\n    var formattedPayments = invoice.payments.map(function (payment) { return (__assign(__assign({}, payment), { formattedAmount: formatCurrency(payment.amount, invoice.currency, invoice.locale), formattedDate: new Date(payment.date).toLocaleDateString(invoice.locale) })); });\n    // Prepare discounts with formatting\n    var formattedDiscounts = invoice.discounts.map(function (discount) { return (__assign(__assign({}, discount), { formattedValue: discount.type === 'percent'\n            ? \"\".concat(discount.value, \"%\")\n            : formatCurrency(discount.value, invoice.currency, invoice.locale) })); });\n    // Format dates\n    var formattedIssueDate = new Date(invoice.issueDate).toLocaleDateString(invoice.locale);\n    var formattedDueDate = new Date(invoice.dueDate).toLocaleDateString(invoice.locale);\n    return {\n        invoice: __assign(__assign({}, invoice), { formattedIssueDate: formattedIssueDate, formattedDueDate: formattedDueDate, paymentTermsDisplay: getPaymentTermsDisplay(invoice.paymentTerms) }),\n        business: businessProfile,\n        client: invoice.client,\n        brand: template.brand,\n        layout: template.layout,\n        items: itemsWithCalculations,\n        fees: formattedFees,\n        taxes: formattedTaxes,\n        payments: formattedPayments,\n        discounts: formattedDiscounts,\n        totals: formattedTotals,\n        // Helper functions for templates\n        helpers: {\n            formatCurrency: function (amount) { return formatCurrency(amount, invoice.currency, invoice.locale); },\n            formatDate: function (date) { return new Date(date).toLocaleDateString(invoice.locale); },\n            formatPercentage: function (value) { return \"\".concat(value, \"%\"); }\n        }\n    };\n};\n/**\n * Render template with data\n */\nexport var renderTemplate = function (template, data) {\n    try {\n        // Parse template to validate syntax before rendering\n        Mustache.parse(template.html);\n        // Disable HTML escaping for currency symbols and HTML content\n        var rendered = Mustache.render(template.html, data, {}, {\n            escape: function (text) { return text; } // Disable escaping\n        });\n        return rendered;\n    }\n    catch (error) {\n        console.error('Error rendering template:', error);\n        console.error('Template HTML length:', template.html.length);\n        console.error('Error position:', error.message);\n        return \"<div class=\\\"error\\\">Error rendering template: \".concat(error.message, \"</div>\");\n    }\n};\n/**\n * Generate complete HTML for PDF export\n */\nexport var generateInvoiceHTML = function (invoice, template, businessProfile) {\n    var data = prepareTemplateData(invoice, template, businessProfile);\n    var renderedContent = renderTemplate(template, data);\n    // Wrap in complete HTML document with styles\n    return \"<!DOCTYPE html>\\n<html lang=\\\"\".concat(invoice.locale, \"\\\">\\n<head>\\n  <meta charset=\\\"UTF-8\\\">\\n  <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n  <title>Invoice \").concat(invoice.invoiceNumber, \"</title>\\n  <style>\\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Slab:wght@300;400;500;600;700&display=swap');\\n    \\n    * {\\n      box-sizing: border-box;\\n      margin: 0;\\n      padding: 0;\\n    }\\n    \\n    body {\\n      font-family: '\").concat(template.brand.fontFamilyBody, \"', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\\n      font-size: 14px;\\n      line-height: 1.5;\\n      color: #1f2937;\\n      background: white;\\n      -webkit-print-color-adjust: exact;\\n    }\\n    \\n    .invoice {\\n      max-width: 8.5in;\\n      margin: 0 auto;\\n      padding: \").concat(template.layout.margins.top, \"px \").concat(template.layout.margins.right, \"px \").concat(template.layout.margins.bottom, \"px \").concat(template.layout.margins.left, \"px;\\n      background: white;\\n    }\\n    \\n    h1, h2, h3, h4, h5, h6 {\\n      font-family: '\").concat(template.brand.fontFamilyHeader, \"', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\\n    }\\n    \\n    table {\\n      width: 100%;\\n      border-collapse: collapse;\\n      margin: 1rem 0;\\n    }\\n    \\n    th, td {\\n      padding: 8px 12px;\\n      text-align: left;\\n      border-bottom: 1px solid #e5e7eb;\\n    }\\n    \\n    th {\\n      background-color: #f9fafb;\\n      font-weight: 600;\\n      border-bottom: 2px solid #d1d5db;\\n    }\\n    \\n    .text-right {\\n      text-align: right;\\n    }\\n    \\n    .text-center {\\n      text-align: center;\\n    }\\n    \\n    .font-bold {\\n      font-weight: 700;\\n    }\\n    \\n    .font-semibold {\\n      font-weight: 600;\\n    }\\n    \\n    .text-lg {\\n      font-size: 1.125rem;\\n    }\\n    \\n    .text-xl {\\n      font-size: 1.25rem;\\n    }\\n    \\n    .text-2xl {\\n      font-size: 1.5rem;\\n    }\\n    \\n    .mb-2 {\\n      margin-bottom: 0.5rem;\\n    }\\n    \\n    .mb-4 {\\n      margin-bottom: 1rem;\\n    }\\n    \\n    .mb-6 {\\n      margin-bottom: 1.5rem;\\n    }\\n    \\n    .mb-8 {\\n      margin-bottom: 2rem;\\n    }\\n    \\n    .mt-4 {\\n      margin-top: 1rem;\\n    }\\n    \\n    .mt-8 {\\n      margin-top: 2rem;\\n    }\\n    \\n    .flex {\\n      display: flex;\\n    }\\n    \\n    .items-start {\\n      align-items: flex-start;\\n    }\\n    \\n    .items-center {\\n      align-items: center;\\n    }\\n    \\n    .justify-between {\\n      justify-content: space-between;\\n    }\\n    \\n    .gap-4 {\\n      gap: 1rem;\\n    }\\n    \\n    .gap-6 {\\n      gap: 1.5rem;\\n    }\\n    \\n    .grid {\\n      display: grid;\\n    }\\n    \\n    .grid-cols-2 {\\n      grid-template-columns: repeat(2, minmax(0, 1fr));\\n    }\\n    \\n    .border-t {\\n      border-top: 1px solid #e5e7eb;\\n    }\\n    \\n    .border-b {\\n      border-bottom: 1px solid #e5e7eb;\\n    }\\n    \\n    .pt-4 {\\n      padding-top: 1rem;\\n    }\\n    \\n    .pb-4 {\\n      padding-bottom: 1rem;\\n    }\\n    \\n    @media print {\\n      .invoice {\\n        margin: 0;\\n        padding: 0.5in;\\n        box-shadow: none;\\n        border: none;\\n      }\\n      \\n      .page-break {\\n        page-break-before: always;\\n      }\\n      \\n      table {\\n        page-break-inside: avoid;\\n      }\\n      \\n      tr {\\n        page-break-inside: avoid;\\n      }\\n    }\\n    \\n    \").concat(template.css, \"\\n  </style>\\n</head>\\n<body>\\n  \").concat(renderedContent, \"\\n</body>\\n</html>\");\n};\n/**\n * Get display text for payment terms\n */\nvar getPaymentTermsDisplay = function (paymentTerms) {\n    var termsMap = {\n        'NET_0': 'Payment due upon receipt',\n        'NET_7': 'Payment due within 7 days',\n        'NET_14': 'Payment due within 14 days',\n        'NET_15': 'Payment due within 15 days',\n        'NET_30': 'Payment due within 30 days',\n        'NET_45': 'Payment due within 45 days',\n        'NET_60': 'Payment due within 60 days',\n        'NET_90': 'Payment due within 90 days'\n    };\n    return termsMap[paymentTerms] || paymentTerms;\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { prepareTemplateData, renderTemplate } from '../utils/templateRenderer';\nvar InvoicePreview = function () {\n    var _a;\n    var _b = useInvoiceStore(), currentInvoice = _b.currentInvoice, templates = _b.templates, businessProfiles = _b.businessProfiles;\n    var _c = useState(100), zoom = _c[0], setZoom = _c[1];\n    var _d = useState(''), renderedHTML = _d[0], setRenderedHTML = _d[1];\n    useEffect(function () {\n        if (currentInvoice && templates.length > 0 && businessProfiles.length > 0) {\n            var template = templates.find(function (t) { return t.id === currentInvoice.templateId; }) || templates[0];\n            var businessProfile = businessProfiles[0];\n            try {\n                var data = prepareTemplateData(currentInvoice, template, businessProfile);\n                var rendered = renderTemplate(template, data);\n                setRenderedHTML(rendered);\n            }\n            catch (error) {\n                console.error('Error rendering template:', error);\n                setRenderedHTML('<div class=\"error\">Error rendering invoice preview</div>');\n            }\n        }\n    }, [currentInvoice, templates, businessProfiles]);\n    if (!currentInvoice) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-full bg-white rounded-lg shadow\", children: _jsx(\"div\", { className: \"text-center text-gray-500\", children: _jsx(\"p\", { children: \"No invoice selected\" }) }) }));\n    }\n    var handleZoomChange = function (newZoom) {\n        setZoom(Math.max(50, Math.min(200, newZoom)));\n    };\n    return (_jsxs(\"div\", { className: \"h-full flex flex-col bg-white rounded-lg shadow\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Live Preview\" }), _jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"span\", { className: \"text-sm text-gray-600\", children: \"Zoom:\" }), _jsx(\"button\", { onClick: function () { return handleZoomChange(zoom - 10); }, className: \"p-1 text-gray-600 hover:text-gray-800\", disabled: zoom <= 50, children: \"-\" }), _jsxs(\"span\", { className: \"text-sm font-medium w-12 text-center\", children: [zoom, \"%\"] }), _jsx(\"button\", { onClick: function () { return handleZoomChange(zoom + 10); }, className: \"p-1 text-gray-600 hover:text-gray-800\", disabled: zoom >= 200, children: \"+\" }), _jsx(\"button\", { onClick: function () { return setZoom(100); }, className: \"px-2 py-1 text-xs text-gray-600 hover:text-gray-800 border border-gray-300 rounded\", children: \"Reset\" })] })] }), _jsxs(\"div\", { className: \"flex items-center space-x-2 text-sm text-gray-600\", children: [_jsxs(\"span\", { children: [\"Invoice #\", currentInvoice.invoiceNumber] }), _jsx(\"span\", { children: \"\\u2022\" }), _jsx(\"span\", { children: currentInvoice.currency }), _jsx(\"span\", { children: \"\\u2022\" }), _jsxs(\"span\", { children: [\"Updated: \", new Date(currentInvoice.updatedAt).toLocaleString()] })] })] }), _jsx(\"div\", { className: \"flex-1 overflow-auto p-4 bg-gray-100\", children: _jsx(\"div\", { className: \"invoice-preview mx-auto bg-white shadow-lg\", style: {\n                        transform: \"scale(\".concat(zoom / 100, \")\"),\n                        transformOrigin: 'top center',\n                        width: '8.5in',\n                        minHeight: '11in',\n                        padding: '0.5in'\n                    }, children: renderedHTML ? (_jsx(\"div\", { dangerouslySetInnerHTML: { __html: renderedHTML } })) : (_jsx(\"div\", { className: \"flex items-center justify-center h-64 text-gray-500\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"div\", { className: \"spinner mx-auto mb-4\" }), _jsx(\"p\", { children: \"Rendering invoice...\" })] }) })) }) }), _jsx(\"div\", { className: \"p-4 border-t border-gray-200 bg-gray-50\", children: _jsxs(\"div\", { className: \"flex items-center justify-between text-sm text-gray-600\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsxs(\"span\", { children: [\"Template: \", ((_a = templates.find(function (t) { return t.id === currentInvoice.templateId; })) === null || _a === void 0 ? void 0 : _a.name) || 'Unknown'] }), _jsx(\"span\", { children: \"\\u2022\" }), _jsx(\"span\", { children: \"Page: 1/1\" })] }), _jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"div\", { className: \"w-2 h-2 bg-green-500 rounded-full\" }), _jsx(\"span\", { children: \"Live updating\" })] })] }) })] }));\n};\nexport default InvoicePreview;\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { formatCurrency } from '../utils/calculations';\nvar CalculationSummary = function () {\n    var currentInvoice = useInvoiceStore().currentInvoice;\n    if (!currentInvoice) {\n        return (_jsxs(\"div\", { className: \"bg-gray-50 rounded-lg p-4 w-64\", children: [_jsx(\"h4\", { className: \"text-sm font-semibold text-gray-800 mb-2\", children: \"Invoice Summary\" }), _jsx(\"div\", { className: \"text-sm text-gray-500\", children: \"No invoice selected\" })] }));\n    }\n    var totals = currentInvoice.totals, currency = currentInvoice.currency, locale = currentInvoice.locale;\n    return (_jsxs(\"div\", { className: \"bg-gray-50 rounded-lg p-4 w-64\", children: [_jsx(\"h4\", { className: \"text-sm font-semibold text-gray-800 mb-3\", children: \"Invoice Summary\" }), _jsxs(\"div\", { className: \"space-y-2 text-sm\", children: [_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-gray-600\", children: \"Subtotal:\" }), _jsx(\"span\", { className: \"font-medium\", children: formatCurrency(totals.subtotal, currency, locale) })] }), totals.itemDiscounts > 0 && (_jsxs(\"div\", { className: \"flex justify-between text-green-600\", children: [_jsx(\"span\", { children: \"Item Discounts:\" }), _jsxs(\"span\", { children: [\"-\", formatCurrency(totals.itemDiscounts, currency, locale)] })] })), totals.invoiceDiscounts > 0 && (_jsxs(\"div\", { className: \"flex justify-between text-green-600\", children: [_jsx(\"span\", { children: \"Invoice Discounts:\" }), _jsxs(\"span\", { children: [\"-\", formatCurrency(totals.invoiceDiscounts, currency, locale)] })] })), totals.fees > 0 && (_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-gray-600\", children: \"Fees:\" }), _jsx(\"span\", { className: \"font-medium\", children: formatCurrency(totals.fees, currency, locale) })] })), totals.tax > 0 && (_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-gray-600\", children: \"Tax:\" }), _jsx(\"span\", { className: \"font-medium\", children: formatCurrency(totals.tax, currency, locale) })] })), _jsx(\"div\", { className: \"border-t border-gray-300 pt-2\", children: _jsxs(\"div\", { className: \"flex justify-between font-semibold\", children: [_jsx(\"span\", { children: \"Total:\" }), _jsx(\"span\", { children: formatCurrency(totals.grandTotal, currency, locale) })] }) }), totals.paid > 0 && (_jsxs(_Fragment, { children: [_jsxs(\"div\", { className: \"flex justify-between text-blue-600\", children: [_jsx(\"span\", { children: \"Paid:\" }), _jsxs(\"span\", { children: [\"-\", formatCurrency(totals.paid, currency, locale)] })] }), _jsxs(\"div\", { className: \"flex justify-between font-semibold text-lg\", children: [_jsx(\"span\", { children: \"Balance Due:\" }), _jsx(\"span\", { className: totals.balanceDue > 0 ? 'text-red-600' : 'text-green-600', children: formatCurrency(totals.balanceDue, currency, locale) })] })] })), currentInvoice.items.length > 0 && (_jsxs(\"div\", { className: \"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500\", children: [_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { children: \"Items:\" }), _jsx(\"span\", { children: currentInvoice.items.length })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { children: \"Total Qty:\" }), _jsx(\"span\", { children: currentInvoice.items.reduce(function (sum, item) { return sum + item.quantity; }, 0) })] })] }))] })] }));\n};\nexport default CalculationSummary;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nvar TemplateSelector = function (_a) {\n    var onClose = _a.onClose, onSelect = _a.onSelect;\n    var _b = useInvoiceStore(), templates = _b.templates, currentInvoice = _b.currentInvoice, updateInvoice = _b.updateInvoice, deleteTemplate = _b.deleteTemplate;\n    var _c = useState((currentInvoice === null || currentInvoice === void 0 ? void 0 : currentInvoice.templateId) || ''), selectedTemplate = _c[0], setSelectedTemplate = _c[1];\n    var handleSelect = function () {\n        if (selectedTemplate && currentInvoice) {\n            updateInvoice({ templateId: selectedTemplate });\n            onSelect(selectedTemplate);\n        }\n    };\n    var handleDelete = function (templateId, e) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    e.stopPropagation();\n                    if (!window.confirm('Are you sure you want to delete this template?')) return [3 /*break*/, 2];\n                    return [4 /*yield*/, deleteTemplate(templateId)];\n                case 1:\n                    _a.sent();\n                    _a.label = 2;\n                case 2: return [2 /*return*/];\n            }\n        });\n    }); };\n    return (_jsx(\"div\", { className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", children: _jsxs(\"div\", { className: \"bg-white rounded-lg shadow-xl w-4xl max-w-6xl max-h-5xl overflow-hidden\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between p-6 border-b border-gray-200\", children: [_jsx(\"h2\", { className: \"text-xl font-semibold text-gray-800\", children: \"Choose Invoice Template\" }), _jsx(\"button\", { onClick: onClose, className: \"text-gray-400 hover:text-gray-600 text-2xl font-light\", children: \"\\u00D7\" })] }), _jsxs(\"div\", { className: \"p-6 max-h-96 overflow-y-auto\", children: [_jsx(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\", children: templates.map(function (template) {\n                                var _a;\n                                return (_jsxs(\"div\", { className: \"relative border-2 rounded-lg p-4 cursor-pointer transition-all duration-200 \".concat(selectedTemplate === template.id\n                                        ? 'border-blue-500 bg-blue-50'\n                                        : 'border-gray-200 hover:border-gray-300 hover:shadow-md'), onClick: function () { return setSelectedTemplate(template.id); }, children: [_jsx(\"div\", { className: \"aspect-[8.5/11] bg-white border border-gray-200 rounded shadow-sm mb-3 overflow-hidden\", children: _jsxs(\"div\", { className: \"p-2 transform scale-50 origin-top-left w-[200%] h-[200%]\", children: [template.id === 'clean-professional' && (_jsxs(\"div\", { className: \"p-4 h-full\", children: [_jsxs(\"div\", { className: \"flex justify-between items-start mb-4\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"div\", { className: \"w-8 h-8 bg-gray-300 rounded\" }), _jsxs(\"div\", { children: [_jsx(\"div\", { className: \"h-3 bg-gray-800 w-20 mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-400 w-16\" })] })] }), _jsxs(\"div\", { className: \"text-right\", children: [_jsx(\"div\", { className: \"h-4 bg-blue-600 w-16 mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-400 w-12\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4 mb-4\", children: [_jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-3/4\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-1/2\" })] }), _jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-2/3\" })] })] }), _jsx(\"div\", { className: \"border-t border-gray-200 pt-2\", children: _jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-200 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200 w-4/5\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200 w-3/5\" })] }) })] })), template.id === 'modern-stripe' && (_jsxs(\"div\", { className: \"p-4 h-full\", children: [_jsx(\"div\", { className: \"h-8 bg-gradient-to-r from-blue-600 to-purple-600 mb-4 -mx-4 -mt-4\" }), _jsxs(\"div\", { className: \"flex justify-between items-start mb-4\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"div\", { className: \"w-6 h-6 bg-white border-2 border-blue-600 rounded\" }), _jsx(\"div\", { className: \"h-3 bg-gray-800 w-20\" })] }), _jsxs(\"div\", { className: \"text-right\", children: [_jsx(\"div\", { className: \"h-3 bg-white w-16 mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-12\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4 mb-4\", children: [_jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-3/4\" })] }), _jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-2/3\" })] })] }), _jsxs(\"div\", { className: \"bg-gray-50 p-2 -mx-4\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-4/5\" })] })] })), template.id === 'compact-ledger' && (_jsxs(\"div\", { className: \"p-3 h-full text-xs\", children: [_jsxs(\"div\", { className: \"flex justify-between mb-2\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-800 w-16\" }), _jsx(\"div\", { className: \"h-2 bg-gray-600 w-12\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-3 gap-2 mb-2 text-xs\", children: [_jsxs(\"div\", { className: \"space-y-0.5\", children: [_jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-3/4\" })] }), _jsxs(\"div\", { className: \"space-y-0.5\", children: [_jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-2/3\" })] }), _jsxs(\"div\", { className: \"space-y-0.5\", children: [_jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-1/2\" })] })] }), _jsxs(\"div\", { className: \"border border-gray-200 mb-2\", children: [_jsxs(\"div\", { className: \"bg-gray-100 p-1 grid grid-cols-4 gap-1\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-400\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400\" })] }), _jsxs(\"div\", { className: \"p-1 space-y-0.5\", children: [_jsxs(\"div\", { className: \"grid grid-cols-4 gap-1\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-4 gap-1\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" })] })] })] }), _jsx(\"div\", { className: \"flex justify-end\", children: _jsxs(\"div\", { className: \"space-y-0.5 w-1/3\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-400 w-full\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400 w-3/4\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-600 w-full\" })] }) })] })), !['clean-professional', 'modern-stripe', 'compact-ledger'].includes(template.id) && (_jsxs(\"div\", { className: \"p-4 h-full\", children: [_jsxs(\"div\", { className: \"flex justify-between items-center mb-4\", children: [_jsx(\"div\", { className: \"h-3 bg-gray-800 w-24\" }), _jsx(\"div\", { className: \"h-3 bg-blue-600 w-16\" })] }), _jsxs(\"div\", { className: \"space-y-2 mb-4\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-3/4\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-1/2\" })] }), _jsx(\"div\", { className: \"border-t border-gray-200 pt-2\", children: _jsxs(\"div\", { className: \"grid grid-cols-3 gap-2\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-200\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200\" })] }) })] }))] }) }), _jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"div\", { children: [_jsx(\"h3\", { className: \"font-medium text-gray-800 truncate\", children: template.name }), _jsx(\"p\", { className: \"text-sm text-gray-500\", children: ((_a = template.layout) === null || _a === void 0 ? void 0 : _a.headerStyle) || 'Custom layout' })] }), !['clean-professional', 'modern-stripe', 'compact-ledger'].includes(template.id) && (_jsx(\"button\", { onClick: function (e) { return handleDelete(template.id, e); }, className: \"p-1 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity\", title: \"Delete template\", children: _jsx(\"svg\", { className: \"w-4 h-4\", fill: \"currentColor\", viewBox: \"0 0 20 20\", children: _jsx(\"path\", { fillRule: \"evenodd\", d: \"M9 2a1 1 0 000 2h2a1 1 0 100-2H9zM4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v1H4V5zM3 8a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z\", clipRule: \"evenodd\" }) }) }))] }), selectedTemplate === template.id && (_jsx(\"div\", { className: \"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center\", children: _jsx(\"svg\", { className: \"w-4 h-4 text-white\", fill: \"currentColor\", viewBox: \"0 0 20 20\", children: _jsx(\"path\", { fillRule: \"evenodd\", d: \"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\", clipRule: \"evenodd\" }) }) }))] }, template.id));\n                            }) }), templates.length === 0 && (_jsx(\"div\", { className: \"text-center py-12 text-gray-500\", children: _jsx(\"p\", { children: \"No templates available\" }) }))] }), _jsxs(\"div\", { className: \"flex items-center justify-between p-6 border-t border-gray-200\", children: [_jsxs(\"div\", { className: \"text-sm text-gray-600\", children: [templates.length, \" template\", templates.length !== 1 ? 's' : '', \" available\"] }), _jsxs(\"div\", { className: \"flex space-x-3\", children: [_jsx(\"button\", { onClick: onClose, className: \"btn-secondary\", children: \"Cancel\" }), _jsx(\"button\", { onClick: handleSelect, disabled: !selectedTemplate, className: \"btn-primary\", children: \"Apply Template\" })] })] })] }) }));\n};\nexport default TemplateSelector;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { format } from 'date-fns';\nvar InvoiceManager = function (_a) {\n    var isOpen = _a.isOpen, onClose = _a.onClose;\n    var _b = useInvoiceStore(), invoiceList = _b.invoiceList, loadInvoiceList = _b.loadInvoiceList, loadInvoice = _b.loadInvoice, deleteInvoice = _b.deleteInvoice, currentInvoice = _b.currentInvoice, isLoading = _b.isLoading;\n    var _c = useState(''), searchTerm = _c[0], setSearchTerm = _c[1];\n    var _d = useState(null), deleteConfirm = _d[0], setDeleteConfirm = _d[1];\n    useEffect(function () {\n        if (isOpen) {\n            loadInvoiceList();\n        }\n    }, [isOpen, loadInvoiceList]);\n    if (!isOpen)\n        return null;\n    var filteredInvoices = invoiceList.filter(function (invoice) {\n        return invoice.data.invoiceNumber.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            invoice.data.client.name.toLowerCase().includes(searchTerm.toLowerCase());\n    });\n    var handleLoadInvoice = function (filename) { return __awaiter(void 0, void 0, void 0, function () {\n        var success;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, loadInvoice(filename)];\n                case 1:\n                    success = _a.sent();\n                    if (success) {\n                        onClose();\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleDeleteInvoice = function (filename) { return __awaiter(void 0, void 0, void 0, function () {\n        var success;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(deleteConfirm === filename)) return [3 /*break*/, 4];\n                    return [4 /*yield*/, deleteInvoice(filename)];\n                case 1:\n                    success = _a.sent();\n                    if (!success) return [3 /*break*/, 3];\n                    setDeleteConfirm(null);\n                    return [4 /*yield*/, loadInvoiceList()];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3: return [3 /*break*/, 5];\n                case 4:\n                    setDeleteConfirm(filename);\n                    _a.label = 5;\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    var formatDate = function (dateString) {\n        try {\n            return format(new Date(dateString), 'MMM dd, yyyy');\n        }\n        catch (_a) {\n            return 'Invalid date';\n        }\n    };\n    var calculateTotal = function (invoice) {\n        var _a;\n        return ((_a = invoice.totals) === null || _a === void 0 ? void 0 : _a.grandTotal) || 0;\n    };\n    return (_jsx(\"div\", { className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", children: _jsxs(\"div\", { className: \"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] overflow-hidden\", children: [_jsxs(\"div\", { className: \"px-6 py-4 border-b border-gray-200\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsx(\"h2\", { className: \"text-xl font-semibold text-gray-900\", children: \"Current Invoices\" }), _jsx(\"button\", { onClick: onClose, className: \"text-gray-400 hover:text-gray-600 text-2xl font-light\", children: \"\\u00D7\" })] }), _jsx(\"div\", { className: \"mt-4\", children: _jsx(\"input\", { type: \"text\", placeholder: \"Search invoices by number or client name...\", value: searchTerm, onChange: function (e) { return setSearchTerm(e.target.value); }, className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\" }) })] }), _jsx(\"div\", { className: \"px-6 py-4 overflow-y-auto max-h-[calc(80vh-140px)]\", children: isLoading ? (_jsx(\"div\", { className: \"flex items-center justify-center py-12\", children: _jsx(\"div\", { className: \"text-gray-500\", children: \"Loading invoices...\" }) })) : filteredInvoices.length === 0 ? (_jsx(\"div\", { className: \"flex items-center justify-center py-12\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"div\", { className: \"text-gray-400 text-6xl mb-4\", children: \"\\uD83D\\uDCC4\" }), _jsx(\"div\", { className: \"text-gray-500 text-lg\", children: \"No invoices found\" }), _jsx(\"div\", { className: \"text-gray-400 text-sm mt-2\", children: searchTerm ? 'Try adjusting your search terms' : 'Start by saving your first invoice' })] }) })) : (_jsx(\"div\", { className: \"space-y-2\", children: filteredInvoices.map(function (invoice) { return (_jsx(\"div\", { className: \"border rounded-lg p-4 hover:bg-gray-50 transition-colors \".concat((currentInvoice === null || currentInvoice === void 0 ? void 0 : currentInvoice.id) === invoice.data.id ? 'bg-blue-50 border-blue-200' : 'border-gray-200'), children: _jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"div\", { className: \"flex-1\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsxs(\"div\", { className: \"font-medium text-gray-900\", children: [\"Invoice #\", invoice.data.invoiceNumber] }), _jsx(\"div\", { className: \"text-sm text-gray-500\", children: invoice.data.client.name }), _jsx(\"div\", { className: \"text-sm text-gray-500\", children: formatDate(invoice.data.createdAt) })] }), _jsxs(\"div\", { className: \"mt-1 text-sm text-gray-600\", children: [\"Total: $\", calculateTotal(invoice.data).toLocaleString('en-US', { minimumFractionDigits: 2 })] })] }), _jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [(currentInvoice === null || currentInvoice === void 0 ? void 0 : currentInvoice.id) === invoice.data.id && (_jsx(\"span\", { className: \"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded\", children: \"Current\" })), _jsx(\"button\", { onClick: function () { return handleLoadInvoice(invoice.filename); }, className: \"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700\", disabled: isLoading, children: \"Load\" }), _jsx(\"button\", { onClick: function () { return handleDeleteInvoice(invoice.filename); }, className: \"px-3 py-1 text-sm rounded \".concat(deleteConfirm === invoice.filename\n                                                    ? 'bg-red-600 text-white hover:bg-red-700'\n                                                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'), disabled: isLoading, children: deleteConfirm === invoice.filename ? 'Confirm Delete' : 'Delete' })] })] }) }, invoice.filename)); }) })) }), _jsx(\"div\", { className: \"px-6 py-4 border-t border-gray-200 bg-gray-50\", children: _jsxs(\"div\", { className: \"flex items-center justify-between text-sm text-gray-600\", children: [_jsxs(\"div\", { children: [filteredInvoices.length, \" invoice\", filteredInvoices.length !== 1 ? 's' : '', \" found\"] }), _jsx(\"button\", { onClick: onClose, className: \"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\", children: \"Close\" })] }) })] }) }));\n};\nexport default InvoiceManager;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { exportToPDF } from '../utils/storage';\nimport { generateInvoiceHTML } from '../utils/templateRenderer';\nimport CalculationSummary from './CalculationSummary';\nimport TemplateSelector from './TemplateSelector';\nimport InvoiceManager from './InvoiceManager';\nvar ActionBar = function () {\n    var _a = useInvoiceStore(), currentInvoice = _a.currentInvoice, templates = _a.templates, businessProfiles = _a.businessProfiles, saveInvoice = _a.saveInvoice, createNewInvoice = _a.createNewInvoice, duplicateInvoice = _a.duplicateInvoice, saveAsTemplate = _a.saveAsTemplate, hasUnsavedChanges = _a.hasUnsavedChanges, lastSaved = _a.lastSaved, isLoading = _a.isLoading, error = _a.error;\n    var _b = useState(false), isExporting = _b[0], setIsExporting = _b[1];\n    var _c = useState(false), showTemplateSelector = _c[0], setShowTemplateSelector = _c[1];\n    var _d = useState(false), showSaveTemplateDialog = _d[0], setShowSaveTemplateDialog = _d[1];\n    var _e = useState(''), templateName = _e[0], setTemplateName = _e[1];\n    var _f = useState(false), showSaveSuccess = _f[0], setShowSaveSuccess = _f[1];\n    var _g = useState(false), showDuplicateSuccess = _g[0], setShowDuplicateSuccess = _g[1];\n    var _h = useState(false), showInvoiceManager = _h[0], setShowInvoiceManager = _h[1];\n    var _j = useState(100), zoomLevel = _j[0], setZoomLevel = _j[1];\n    var handleSave = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var success;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, saveInvoice()];\n                case 1:\n                    success = _a.sent();\n                    if (success) {\n                        setShowSaveSuccess(true);\n                        setTimeout(function () { return setShowSaveSuccess(false); }, 2000);\n                    }\n                    else {\n                        console.error('Failed to save invoice');\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleDuplicate = function () {\n        duplicateInvoice();\n        setShowDuplicateSuccess(true);\n        setTimeout(function () { return setShowDuplicateSuccess(false); }, 2000);\n    };\n    var handleExportPDF = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var template, businessProfile, htmlContent, filename, result, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!currentInvoice)\n                        return [2 /*return*/];\n                    setIsExporting(true);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, 4, 5]);\n                    template = templates.find(function (t) { return t.id === currentInvoice.templateId; }) || templates[0];\n                    businessProfile = businessProfiles[0];\n                    if (!template || !businessProfile) {\n                        throw new Error('Missing template or business profile');\n                    }\n                    htmlContent = generateInvoiceHTML(currentInvoice, template, businessProfile);\n                    filename = \"\".concat(currentInvoice.invoiceNumber, \".pdf\");\n                    return [4 /*yield*/, exportToPDF(htmlContent, filename)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        console.log('PDF exported successfully:', result.path);\n                    }\n                    else {\n                        console.error('Failed to export PDF:', result.error);\n                    }\n                    return [3 /*break*/, 5];\n                case 3:\n                    error_1 = _a.sent();\n                    console.error('Error exporting PDF:', error_1);\n                    return [3 /*break*/, 5];\n                case 4:\n                    setIsExporting(false);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleSaveAsTemplate = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var success;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!templateName.trim())\n                        return [2 /*return*/];\n                    return [4 /*yield*/, saveAsTemplate(templateName)];\n                case 1:\n                    success = _a.sent();\n                    if (success) {\n                        setShowSaveTemplateDialog(false);\n                        setTemplateName('');\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleZoomIn = function () {\n        var newZoom = Math.min(zoomLevel + 10, 200);\n        setZoomLevel(newZoom);\n        document.documentElement.style.fontSize = \"\".concat(newZoom, \"%\");\n    };\n    var handleZoomOut = function () {\n        var newZoom = Math.max(zoomLevel - 10, 50);\n        setZoomLevel(newZoom);\n        document.documentElement.style.fontSize = \"\".concat(newZoom, \"%\");\n    };\n    var resetZoom = function () {\n        setZoomLevel(100);\n        document.documentElement.style.fontSize = '100%';\n    };\n    var formatLastSaved = function (timestamp) {\n        if (!timestamp)\n            return 'Never';\n        var date = new Date(timestamp);\n        var now = new Date();\n        var diffMs = now.getTime() - date.getTime();\n        var diffMinutes = Math.floor(diffMs / 60000);\n        if (diffMinutes < 1)\n            return 'Just now';\n        if (diffMinutes < 60)\n            return \"\".concat(diffMinutes, \"m ago\");\n        var diffHours = Math.floor(diffMinutes / 60);\n        if (diffHours < 24)\n            return \"\".concat(diffHours, \"h ago\");\n        return date.toLocaleDateString();\n    };\n    return (_jsxs(\"div\", { className: \"bg-white border-b border-gray-200 px-4 py-2\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-3\", children: [_jsx(\"h1\", { className: \"text-lg font-semibold text-gray-900\", children: \"StoneActive LLC Invoice Studio\" }), _jsx(\"div\", { className: \"h-4 w-px bg-gray-300\" }), _jsxs(\"div\", { className: \"flex items-center space-x-1\", children: [_jsx(\"button\", { onClick: function () { return createNewInvoice(); }, className: \"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700\", children: \"New\" }), _jsx(\"button\", { onClick: handleSave, disabled: isLoading || !hasUnsavedChanges, className: \"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\", children: isLoading ? 'Saving...' : showSaveSuccess ? ' Saved!' : 'Save' }), _jsx(\"button\", { onClick: handleDuplicate, disabled: !currentInvoice, className: \"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\", children: showDuplicateSuccess ? ' Duplicated!' : 'Duplicate' }), _jsx(\"button\", { onClick: function () { return setShowTemplateSelector(true); }, className: \"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\", children: \"Templates\" }), _jsx(\"button\", { onClick: function () { return setShowInvoiceManager(true); }, className: \"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\", children: \"Current Invoices\" }), _jsx(\"button\", { onClick: handleExportPDF, disabled: isExporting || !currentInvoice, className: \"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700\", children: isExporting ? 'Exporting...' : 'PDF' })] }), _jsx(\"div\", { className: \"h-4 w-px bg-gray-300\" }), _jsxs(\"div\", { className: \"flex items-center space-x-0.5\", children: [_jsx(\"button\", { onClick: handleZoomOut, disabled: zoomLevel <= 50, className: \"p-1 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded text-sm\", title: \"Zoom Out\", children: \"\\u2212\" }), _jsxs(\"button\", { onClick: resetZoom, className: \"px-2 py-1 text-xs font-mono text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded min-w-[2.5rem]\", title: \"Reset Zoom\", children: [zoomLevel, \"%\"] }), _jsx(\"button\", { onClick: handleZoomIn, disabled: zoomLevel >= 200, className: \"p-1 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded text-sm\", title: \"Zoom In\", children: \"+\" })] })] }), _jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [error && (_jsxs(\"div\", { className: \"flex items-center text-red-600 text-sm\", children: [_jsx(\"span\", { className: \"mr-2\", children: \"\\u26A0\\uFE0F\" }), _jsx(\"span\", { children: error })] })), !error && (_jsxs(\"div\", { className: \"flex items-center text-sm text-gray-600\", children: [_jsx(\"div\", { className: \"w-2 h-2 rounded-full mr-2 \".concat(hasUnsavedChanges ? 'bg-orange-500' : 'bg-green-500') }), _jsxs(\"span\", { children: [hasUnsavedChanges ? 'Unsaved changes' : 'Saved', \" \\u2022 Last: \", formatLastSaved(lastSaved)] })] }))] }), _jsx(\"div\", { className: \"flex items-center\", children: _jsx(CalculationSummary, {}) })] }), showTemplateSelector && (_jsx(TemplateSelector, { onClose: function () { return setShowTemplateSelector(false); }, onSelect: function (templateId) {\n                    if (currentInvoice) {\n                        // Update current invoice template\n                        // updateInvoice({ templateId });\n                    }\n                    setShowTemplateSelector(false);\n                } })), showSaveTemplateDialog && (_jsx(\"div\", { className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", children: _jsxs(\"div\", { className: \"bg-white rounded-lg p-6 w-96\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold mb-4\", children: \"Save as Template\" }), _jsxs(\"div\", { className: \"mb-4\", children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Template Name\" }), _jsx(\"input\", { type: \"text\", value: templateName, onChange: function (e) { return setTemplateName(e.target.value); }, className: \"form-input\", placeholder: \"My Custom Template\", autoFocus: true })] }), _jsxs(\"div\", { className: \"flex justify-end space-x-3\", children: [_jsx(\"button\", { onClick: function () {\n                                        setShowSaveTemplateDialog(false);\n                                        setTemplateName('');\n                                    }, className: \"btn-secondary\", children: \"Cancel\" }), _jsx(\"button\", { onClick: handleSaveAsTemplate, disabled: !templateName.trim() || isLoading, className: \"btn-primary\", children: isLoading ? 'Saving...' : 'Save Template' })] })] }) })), showInvoiceManager && (_jsx(InvoiceManager, { isOpen: showInvoiceManager, onClose: function () { return setShowInvoiceManager(false); } }))] }));\n};\nexport default ActionBar;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nvar root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(_jsx(React.StrictMode, { children: _jsx(App, {}) }));\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport { useInvoiceStore } from './store/useInvoiceStore';\nimport InvoiceForm from './components/InvoiceForm';\nimport InvoicePreview from './components/InvoicePreview';\nimport ActionBar from './components/ActionBar';\nvar App = function () {\n    var _a = useInvoiceStore(), initializeApp = _a.initializeApp, isLoading = _a.isLoading, error = _a.error;\n    useEffect(function () {\n        initializeApp();\n    }, [initializeApp]);\n    if (isLoading) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-screen bg-gray-50\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"div\", { className: \"spinner mx-auto mb-4\" }), _jsx(\"p\", { className: \"text-gray-600\", children: \"Loading Invoice Studio Pro...\" })] }) }));\n    }\n    if (error) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-screen bg-gray-50\", children: _jsxs(\"div\", { className: \"text-center max-w-md\", children: [_jsx(\"div\", { className: \"text-red-500 text-xl mb-4\", children: \"\\u26A0\\uFE0F\" }), _jsx(\"h2\", { className: \"text-xl font-semibold text-gray-800 mb-2\", children: \"Error\" }), _jsx(\"p\", { className: \"text-gray-600 mb-4\", children: error }), _jsx(\"button\", { onClick: function () { return window.location.reload(); }, className: \"btn-primary\", children: \"Reload Application\" })] }) }));\n    }\n    return (_jsxs(\"div\", { className: \"h-screen flex flex-col bg-gray-50\", children: [_jsx(ActionBar, {}), _jsxs(\"div\", { className: \"flex-1 flex overflow-hidden\", children: [_jsx(\"div\", { className: \"w-1/3 min-w-[400px] max-w-[600px] bg-white border-r border-gray-200 overflow-y-auto shadow-lg\", children: _jsx(InvoiceForm, {}) }), _jsx(\"div\", { className: \"flex-1 bg-gray-100 p-6 overflow-y-auto\", children: _jsx(InvoicePreview, {}) })] })] }));\n};\nexport default App;\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","roundToCurrency","amount","decimals","factor","Math","pow","rounded","round","parseFloat","toFixed","calculateItemTotal","item","baseTotal","quantity","unitPrice","discount","discountAmount","type","value","min","max","calculateItemDiscount","calculateInvoiceTotals","invoice","totalDiscounts","subtotal","items","reduce","sum","calculateSubtotal","itemDiscounts","subtotalAfterItemDiscounts","subtotalAfterDiscounts","calculateSubtotalAfterItemDiscounts","invoiceDiscounts","baseAmount","discounts","calculateInvoiceDiscounts","subtotalAfterInvoiceDiscounts","fees","amounts","totalFees","fee","applyBase","grandTotalPreTax","calculateFees","taxableAmount","tax","totalTax","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","__spreadArray","taxes","sort","a","b","priority","applicableItems","filter","category","taxCategory","applicableRatio","rate","calculateTaxes","grandTotal","paid","totalPaid","payments","payment","calculateTotalPaid","balanceDue","formatCurrency","currency","locale","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","format","error","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","_","label","sent","trys","ops","g","Object","create","Iterator","verb","Symbol","iterator","this","n","v","op","TypeError","pop","saveFile","filePath","data","key","_a","replace","localStorage","setItem","JSON","stringify","success","console","Error","message","loadFile","getItem","parse","listFiles","directory","prefix","files","fileName","startsWith","deleteFile","removeItem","exportToPDF","htmlContent","filename","printWindow_1","window","open","document","write","close","onload","setTimeout","print","path","defaultTemplates","name","brand","primaryColor","accentColor","fontFamilyHeader","fontFamilyBody","logoPath","layout","headerStyle","footerText","showSignature","margins","top","right","bottom","left","defaults","taxRules","terms","html","css","defaultBusinessProfile","address","email","phone","taxId","bankDetails","color","__assign","assign","s","p","hasOwnProperty","defaultSettings","dateFormat","invoiceNumberPattern","defaultTaxes","defaultFees","defaultTemplateId","defaultBusinessProfileId","autosaveInterval","useInvoiceStore","set","get","currentInvoice","templates","businessProfiles","settings","invoiceList","isLoading","lastSaved","hasUnsavedChanges","initializeApp","loadError_1","error_1","all","loadSettings","loadTemplates","loadBusinessProfiles","loadInvoiceList","warn","createNewInvoice","templateId","newInvoice","version","businessProfileId","invoiceNumber","Date","String","now","poNumber","issueDate","dueDate","paymentTerms","client","company","contact","billingAddress","shippingAddress","workDetails","notes","totals","createdAt","toISOString","updatedAt","createEmptyInvoice","updateInvoice","updates","updatedInvoice","saveInvoice","error_2","loadInvoice","invoiceId","error_3","deleteInvoice","error_4","duplicateInvoice","duplicatedInvoice","fileList","_i","fileList_1","invoiceResult","error_5","modifiedAt","saveAsTemplate","template","error_6","userTemplates","templateResult","error_7","_b","deleteTemplate","error_8","updateBusinessProfile","profileUpdates","updatedProfiles","map","profile","saveBusinessProfile","defaultProfile","error_9","find","error_10","updateSettings","settingsUpdates","saveSettings","error_11","error_12","recalculateInvoice","setError","clearError","onChange","placeholder","_c","readOnly","_d","className","editorRef","useRef","_e","useState","isInitialized","setIsInitialized","useEffect","current","innerHTML","handleContentChange","useCallback","content","execCommand","command","focus","insertList","ordered","toggleFormat","insertHeading","level","children","target","parseInt","defaultValue","onClick","title","ref","contentEditable","onInput","onBlur","fontSize","lineHeight","suppressContentEditableWarning","activeSection","setActiveSection","businessProfile","updateField","field","updateNestedField","parentField","currentValue","addItem","newItem","sku","description","updateItem","itemId","updatedItems","updateDiscount","discountId","updatedDiscounts","updateFee","feeId","updatedFees","updateTax","updatedTaxes","updatePayment","paymentId","updatedPayments","section","rows","accept","file","reader","FileReader","event","logoUrl","readAsDataURL","htmlFor","src","alt","index","itemToDuplicate","duplicatedItem","duplicateItem","newDiscount","newFee","newTax","applyAfterDiscounts","checked","newPayment","date","method","inputMode","toString","test","prepareTemplateData","itemsWithCalculations","calculatedLineTotal","calculatedDiscount","formattedUnitPrice","formattedQuantity","discountDisplay","formattedTotals","formattedFees","formattedValue","formattedTaxes","formattedRate","formattedPayments","formattedAmount","formattedDate","toLocaleDateString","formattedDiscounts","formattedIssueDate","formattedDueDate","paymentTermsDisplay","getPaymentTermsDisplay","business","helpers","formatDate","formatPercentage","renderTemplate","render","escape","text","zoom","setZoom","renderedHTML","setRenderedHTML","rendered","handleZoomChange","newZoom","disabled","toLocaleString","transform","transformOrigin","width","minHeight","padding","dangerouslySetInnerHTML","__html","onClose","onSelect","selectedTemplate","setSelectedTemplate","includes","stopPropagation","confirm","handleDelete","fill","viewBox","fillRule","d","clipRule","isOpen","searchTerm","setSearchTerm","deleteConfirm","setDeleteConfirm","filteredInvoices","toLowerCase","dateString","calculateTotal","isExporting","setIsExporting","showTemplateSelector","setShowTemplateSelector","showSaveTemplateDialog","setShowSaveTemplateDialog","templateName","setTemplateName","_f","showSaveSuccess","setShowSaveSuccess","_g","showDuplicateSuccess","setShowDuplicateSuccess","_h","showInvoiceManager","setShowInvoiceManager","_j","zoomLevel","setZoomLevel","renderedContent","generateInvoiceHTML","log","documentElement","timestamp","diffMs","getTime","diffMinutes","floor","diffHours","formatLastSaved","autoFocus","trim","getElementById","location","reload"],"sourceRoot":""}