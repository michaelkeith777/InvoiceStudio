{"version":3,"file":"static/js/main.f1f970b6.js","mappings":"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","sources":["webpack://workspace/./src/index.css","webpack://workspace/./src/index.css?77ae","webpack://workspace/./src/utils/calculations.ts","webpack://workspace/./src/utils/storage.ts","webpack://workspace/./src/data/defaultTemplates.ts","webpack://workspace/./src/templates/cleanProfessional.ts","webpack://workspace/./src/templates/modernStripe.ts","webpack://workspace/./src/templates/compactLedger.ts","webpack://workspace/./src/data/defaultBusinessProfile.ts","webpack://workspace/./src/store/useInvoiceStore.ts","webpack://workspace/./src/components/InvoiceForm.tsx","webpack://workspace/./src/utils/templateRenderer.ts","webpack://workspace/./src/components/InvoicePreview.tsx","webpack://workspace/./src/components/CalculationSummary.tsx","webpack://workspace/./src/components/TemplateSelector.tsx","webpack://workspace/./src/components/ActionBar.tsx","webpack://workspace/./src/index.tsx","webpack://workspace/./src/App.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured \\`sans\\` font-family by default.\n5. Use the user's configured \\`sans\\` font-feature-settings by default.\n6. Use the user's configured \\`sans\\` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from \\`html\\` so users can set them as a class directly on the \\`html\\` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured \\`mono\\` font-family by default.\n2. Use the user's configured \\`mono\\` font-feature-settings by default.\n3. Use the user's configured \\`mono\\` font-variation-settings by default.\n4. Correct the odd \\`em\\` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent \\`sub\\` and \\`sup\\` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional \\`:invalid\\` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to \\`inherit\\` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements \\`display: block\\` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add \\`vertical-align: middle\\` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden=\"until-found\"])) {\n  display: none;\n}\n.collapse {\n  visibility: collapse;\n}\n.fixed {\n  position: fixed;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.inset-0 {\n  inset: 0px;\n}\n.right-2 {\n  right: 0.5rem;\n}\n.top-2 {\n  top: 0.5rem;\n}\n.z-50 {\n  z-index: 50;\n}\n.-mx-4 {\n  margin-left: -1rem;\n  margin-right: -1rem;\n}\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n.-mb-px {\n  margin-bottom: -1px;\n}\n.-mt-4 {\n  margin-top: -1rem;\n}\n.mb-1 {\n  margin-bottom: 0.25rem;\n}\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n.mb-3 {\n  margin-bottom: 0.75rem;\n}\n.mb-4 {\n  margin-bottom: 1rem;\n}\n.mb-6 {\n  margin-bottom: 1.5rem;\n}\n.mb-8 {\n  margin-bottom: 2rem;\n}\n.mr-2 {\n  margin-right: 0.5rem;\n}\n.mt-2 {\n  margin-top: 0.5rem;\n}\n.mt-3 {\n  margin-top: 0.75rem;\n}\n.mt-4 {\n  margin-top: 1rem;\n}\n.mt-8 {\n  margin-top: 2rem;\n}\n.block {\n  display: block;\n}\n.flex {\n  display: flex;\n}\n.table {\n  display: table;\n}\n.grid {\n  display: grid;\n}\n.hidden {\n  display: none;\n}\n.aspect-\\\\[8\\\\.5\\\\/11\\\\] {\n  aspect-ratio: 8.5/11;\n}\n.h-1 {\n  height: 0.25rem;\n}\n.h-1\\\\.5 {\n  height: 0.375rem;\n}\n.h-10 {\n  height: 2.5rem;\n}\n.h-2 {\n  height: 0.5rem;\n}\n.h-3 {\n  height: 0.75rem;\n}\n.h-4 {\n  height: 1rem;\n}\n.h-6 {\n  height: 1.5rem;\n}\n.h-64 {\n  height: 16rem;\n}\n.h-8 {\n  height: 2rem;\n}\n.h-\\\\[200\\\\%\\\\] {\n  height: 200%;\n}\n.h-full {\n  height: 100%;\n}\n.h-screen {\n  height: 100vh;\n}\n.max-h-5xl {\n  max-height: 64rem;\n}\n.max-h-96 {\n  max-height: 24rem;\n}\n.w-1\\\\/2 {\n  width: 50%;\n}\n.w-1\\\\/3 {\n  width: 33.333333%;\n}\n.w-12 {\n  width: 3rem;\n}\n.w-16 {\n  width: 4rem;\n}\n.w-2 {\n  width: 0.5rem;\n}\n.w-2\\\\/3 {\n  width: 66.666667%;\n}\n.w-20 {\n  width: 5rem;\n}\n.w-24 {\n  width: 6rem;\n}\n.w-3\\\\/4 {\n  width: 75%;\n}\n.w-3\\\\/5 {\n  width: 60%;\n}\n.w-4 {\n  width: 1rem;\n}\n.w-4\\\\/5 {\n  width: 80%;\n}\n.w-6 {\n  width: 1.5rem;\n}\n.w-64 {\n  width: 16rem;\n}\n.w-8 {\n  width: 2rem;\n}\n.w-96 {\n  width: 24rem;\n}\n.w-\\\\[200\\\\%\\\\] {\n  width: 200%;\n}\n.w-full {\n  width: 100%;\n}\n.w-px {\n  width: 1px;\n}\n.max-w-6xl {\n  max-width: 72rem;\n}\n.max-w-md {\n  max-width: 28rem;\n}\n.flex-1 {\n  flex: 1 1 0%;\n}\n.border-collapse {\n  border-collapse: collapse;\n}\n.origin-top-left {\n  transform-origin: top left;\n}\n.scale-50 {\n  --tw-scale-x: .5;\n  --tw-scale-y: .5;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.grid-cols-1 {\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n}\n.grid-cols-2 {\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n.grid-cols-3 {\n  grid-template-columns: repeat(3, minmax(0, 1fr));\n}\n.grid-cols-4 {\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n}\n.flex-col {\n  flex-direction: column;\n}\n.items-start {\n  align-items: flex-start;\n}\n.items-center {\n  align-items: center;\n}\n.justify-end {\n  justify-content: flex-end;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.gap-1 {\n  gap: 0.25rem;\n}\n.gap-2 {\n  gap: 0.5rem;\n}\n.gap-3 {\n  gap: 0.75rem;\n}\n.gap-4 {\n  gap: 1rem;\n}\n.gap-6 {\n  gap: 1.5rem;\n}\n.gap-8 {\n  gap: 2rem;\n}\n.space-x-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.25rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.25rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.5rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.75rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.75rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(1rem * var(--tw-space-x-reverse));\n  margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-y-0\\\\.5 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.125rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.125rem * var(--tw-space-y-reverse));\n}\n.space-y-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.25rem * var(--tw-space-y-reverse));\n}\n.space-y-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));\n}\n.space-y-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));\n}\n.space-y-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1rem * var(--tw-space-y-reverse));\n}\n.space-y-6 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1.5rem * var(--tw-space-y-reverse));\n}\n.overflow-auto {\n  overflow: auto;\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.overflow-y-auto {\n  overflow-y: auto;\n}\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.rounded {\n  border-radius: 0.25rem;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.rounded-lg {\n  border-radius: 0.5rem;\n}\n.border {\n  border-width: 1px;\n}\n.border-2 {\n  border-width: 2px;\n}\n.border-b {\n  border-bottom-width: 1px;\n}\n.border-b-2 {\n  border-bottom-width: 2px;\n}\n.border-r {\n  border-right-width: 1px;\n}\n.border-t {\n  border-top-width: 1px;\n}\n.border-blue-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n}\n.border-blue-600 {\n  --tw-border-opacity: 1;\n  border-color: rgb(37 99 235 / var(--tw-border-opacity, 1));\n}\n.border-gray-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(229 231 235 / var(--tw-border-opacity, 1));\n}\n.border-gray-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n}\n.border-transparent {\n  border-color: transparent;\n}\n.bg-black {\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-300 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-400 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(156 163 175 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(75 85 99 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));\n}\n.bg-green-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(34 197 94 / var(--tw-bg-opacity, 1));\n}\n.bg-orange-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 115 22 / var(--tw-bg-opacity, 1));\n}\n.bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n}\n.bg-opacity-50 {\n  --tw-bg-opacity: 0.5;\n}\n.bg-gradient-to-r {\n  background-image: linear-gradient(to right, var(--tw-gradient-stops));\n}\n.from-blue-600 {\n  --tw-gradient-from: #2563eb var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(37 99 235 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.to-purple-600 {\n  --tw-gradient-to: #9333ea var(--tw-gradient-to-position);\n}\n.p-1 {\n  padding: 0.25rem;\n}\n.p-2 {\n  padding: 0.5rem;\n}\n.p-3 {\n  padding: 0.75rem;\n}\n.p-4 {\n  padding: 1rem;\n}\n.p-6 {\n  padding: 1.5rem;\n}\n.p-8 {\n  padding: 2rem;\n}\n.px-1 {\n  padding-left: 0.25rem;\n  padding-right: 0.25rem;\n}\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.px-6 {\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n}\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-12 {\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n}\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.py-4 {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n}\n.py-8 {\n  padding-top: 2rem;\n  padding-bottom: 2rem;\n}\n.pb-4 {\n  padding-bottom: 1rem;\n}\n.pt-2 {\n  padding-top: 0.5rem;\n}\n.pt-3 {\n  padding-top: 0.75rem;\n}\n.pt-4 {\n  padding-top: 1rem;\n}\n.pt-6 {\n  padding-top: 1.5rem;\n}\n.text-center {\n  text-align: center;\n}\n.text-right {\n  text-align: right;\n}\n.text-2xl {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.text-xl {\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.font-bold {\n  font-weight: 700;\n}\n.font-light {\n  font-weight: 300;\n}\n.font-medium {\n  font-weight: 500;\n}\n.font-semibold {\n  font-weight: 600;\n}\n.uppercase {\n  text-transform: uppercase;\n}\n.italic {\n  font-style: italic;\n}\n.text-blue-600 {\n  --tw-text-opacity: 1;\n  color: rgb(37 99 235 / var(--tw-text-opacity, 1));\n}\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n.text-gray-500 {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity, 1));\n}\n.text-gray-600 {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity, 1));\n}\n.text-gray-700 {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n.text-gray-800 {\n  --tw-text-opacity: 1;\n  color: rgb(31 41 55 / var(--tw-text-opacity, 1));\n}\n.text-green-600 {\n  --tw-text-opacity: 1;\n  color: rgb(22 163 74 / var(--tw-text-opacity, 1));\n}\n.text-red-500 {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1));\n}\n.text-red-600 {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.antialiased {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.opacity-0 {\n  opacity: 0;\n}\n.shadow {\n  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-sm {\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-xl {\n  --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.blur {\n  --tw-blur: blur(8px);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.grayscale {\n  --tw-grayscale: grayscale(100%);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.backdrop-filter {\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n}\n.transition-all {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-opacity {\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.duration-200 {\n  transition-duration: 200ms;\n}\n.form-input {\n  display: block;\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.form-input:focus {\n  outline: none;\n  ring: 2px;\n  ring-color: #3b82f6;\n  border-color: #3b82f6;\n}\n.form-textarea {\n  display: block;\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  resize: none;\n}\n.form-textarea:focus {\n  outline: none;\n  ring: 2px;\n  ring-color: #3b82f6;\n  border-color: #3b82f6;\n}\n.form-select {\n  display: block;\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  background-color: white;\n}\n.form-select:focus {\n  outline: none;\n  ring: 2px;\n  ring-color: #3b82f6;\n  border-color: #3b82f6;\n}\n\n/* Custom scrollbar styles */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f1f5f9;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n\n/* Form input styles */\n.form-input {\n  display: block;\n  width: 100%;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.form-input:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.form-textarea {\n  display: block;\n  width: 100%;\n  resize: none;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.form-textarea:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.form-select {\n  display: block;\n  width: 100%;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.form-select:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.btn-primary {\n  display: inline-flex;\n  align-items: center;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  border-color: transparent;\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.btn-primary:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1));\n}\n\n.btn-primary:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n  --tw-ring-offset-width: 2px;\n}\n\n.btn-primary:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.btn-secondary {\n  display: inline-flex;\n  align-items: center;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.btn-secondary:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n\n.btn-secondary:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n  --tw-ring-offset-width: 2px;\n}\n\n.btn-secondary:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.btn-danger {\n  display: inline-flex;\n  align-items: center;\n  border-radius: 0.375rem;\n  border-width: 1px;\n  border-color: transparent;\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.btn-danger:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(185 28 28 / var(--tw-bg-opacity, 1));\n}\n\n.btn-danger:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity, 1));\n  --tw-ring-offset-width: 2px;\n}\n\n.btn-danger:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n/* Animation classes */\n.fade-in {\n  animation: fadeIn 0.2s ease-in-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-4px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Invoice preview styles */\n.invoice-preview {\n  background: white;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\n.invoice-preview table {\n  border-collapse: collapse;\n  width: 100%;\n}\n\n.invoice-preview th,\n.invoice-preview td {\n  border: 1px solid #e5e7eb;\n  padding: 8px 12px;\n  text-align: left;\n}\n\n.invoice-preview th {\n  background-color: #f9fafb;\n  font-weight: 600;\n}\n\n.invoice-preview .text-right {\n  text-align: right;\n}\n\n/* Loading spinner */\n.spinner {\n  border: 2px solid #f3f3f3;\n  border-top: 2px solid #3498db;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Responsive adjustments */\n@media (max-width: 1024px) {\n  .three-pane-layout {\n    flex-direction: column;\n  }\n  \n  .left-panel,\n  .right-panel {\n    width: 100% !important;\n    max-height: 300px;\n    overflow-y: auto;\n  }\n  \n  .center-panel {\n    flex: 1;\n    min-height: 400px;\n  }\n}\n.hover\\\\:border-gray-300:hover {\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n}\n.hover\\\\:text-blue-800:hover {\n  --tw-text-opacity: 1;\n  color: rgb(30 64 175 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:text-gray-600:hover {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:text-gray-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:text-gray-800:hover {\n  --tw-text-opacity: 1;\n  color: rgb(31 41 55 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:text-red-600:hover {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:text-red-800:hover {\n  --tw-text-opacity: 1;\n  color: rgb(153 27 27 / var(--tw-text-opacity, 1));\n}\n.hover\\\\:shadow-md:hover {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.group:hover .group-hover\\\\:opacity-100 {\n  opacity: 1;\n}\n@media (min-width: 768px) {\n\n  .md\\\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n}\n@media (min-width: 1024px) {\n\n  .lg\\\\:grid-cols-3 {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/index.css\"],\"names\":[],\"mappings\":\"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;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,gBAAmB;EAAnB,gBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;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\",\"sourcesContent\":[\"@tailwind base;\\n@tailwind components;\\n@tailwind utilities;\\n\\n/* Custom scrollbar styles */\\n::-webkit-scrollbar {\\n  width: 8px;\\n  height: 8px;\\n}\\n\\n::-webkit-scrollbar-track {\\n  background: #f1f5f9;\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  background: #cbd5e1;\\n  border-radius: 4px;\\n}\\n\\n::-webkit-scrollbar-thumb:hover {\\n  background: #94a3b8;\\n}\\n\\n/* Form input styles */\\n.form-input {\\n  @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm;\\n}\\n\\n.form-textarea {\\n  @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm resize-none;\\n}\\n\\n.form-select {\\n  @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm;\\n}\\n\\n.btn-primary {\\n  @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed;\\n}\\n\\n.btn-secondary {\\n  @apply inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed;\\n}\\n\\n.btn-danger {\\n  @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed;\\n}\\n\\n/* Animation classes */\\n.fade-in {\\n  animation: fadeIn 0.2s ease-in-out;\\n}\\n\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-4px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n/* Invoice preview styles */\\n.invoice-preview {\\n  background: white;\\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\\n}\\n\\n.invoice-preview table {\\n  border-collapse: collapse;\\n  width: 100%;\\n}\\n\\n.invoice-preview th,\\n.invoice-preview td {\\n  border: 1px solid #e5e7eb;\\n  padding: 8px 12px;\\n  text-align: left;\\n}\\n\\n.invoice-preview th {\\n  background-color: #f9fafb;\\n  font-weight: 600;\\n}\\n\\n.invoice-preview .text-right {\\n  text-align: right;\\n}\\n\\n/* Loading spinner */\\n.spinner {\\n  border: 2px solid #f3f3f3;\\n  border-top: 2px solid #3498db;\\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  animation: spin 1s linear infinite;\\n}\\n\\n@keyframes spin {\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n}\\n\\n/* Responsive adjustments */\\n@media (max-width: 1024px) {\\n  .three-pane-layout {\\n    flex-direction: column;\\n  }\\n  \\n  .left-panel,\\n  .right-panel {\\n    width: 100% !important;\\n    max-height: 300px;\\n    overflow-y: auto;\\n  }\\n  \\n  .center-panel {\\n    flex: 1;\\n    min-height: 400px;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n/**\n * Rounds a number to specified decimal places using banker's rounding\n */\nexport var roundToCurrency = function (amount, decimals) {\n    if (decimals === void 0) { decimals = 2; }\n    var factor = Math.pow(10, decimals);\n    var rounded = Math.round(amount * factor) / factor;\n    return parseFloat(rounded.toFixed(decimals));\n};\n/**\n * Calculate line total for an individual item\n */\nexport var calculateItemTotal = function (item) {\n    var baseTotal = item.quantity * item.unitPrice;\n    if (!item.discount) {\n        return roundToCurrency(baseTotal);\n    }\n    var discountAmount = 0;\n    if (item.discount.type === 'percent') {\n        discountAmount = baseTotal * (item.discount.value / 100);\n    }\n    else {\n        discountAmount = Math.min(item.discount.value, baseTotal); // Don't allow negative totals\n    }\n    return roundToCurrency(Math.max(0, baseTotal - discountAmount));\n};\n/**\n * Calculate total discount amount for an item\n */\nexport var calculateItemDiscount = function (item) {\n    if (!item.discount)\n        return 0;\n    var baseTotal = item.quantity * item.unitPrice;\n    if (item.discount.type === 'percent') {\n        return roundToCurrency(baseTotal * (item.discount.value / 100));\n    }\n    else {\n        return roundToCurrency(Math.min(item.discount.value, baseTotal));\n    }\n};\n/**\n * Calculate subtotal before any discounts\n */\nexport var calculateSubtotal = function (items) {\n    var subtotal = items.reduce(function (sum, item) {\n        return sum + (item.quantity * item.unitPrice);\n    }, 0);\n    return roundToCurrency(subtotal);\n};\n/**\n * Calculate total item-level discounts\n */\nexport var calculateTotalItemDiscounts = function (items) {\n    var totalDiscounts = items.reduce(function (sum, item) {\n        return sum + calculateItemDiscount(item);\n    }, 0);\n    return roundToCurrency(totalDiscounts);\n};\n/**\n * Calculate subtotal after item-level discounts\n */\nexport var calculateSubtotalAfterItemDiscounts = function (items) {\n    var subtotalAfterDiscounts = items.reduce(function (sum, item) {\n        return sum + calculateItemTotal(item);\n    }, 0);\n    return roundToCurrency(subtotalAfterDiscounts);\n};\n/**\n * Calculate invoice-level discounts\n */\nexport var calculateInvoiceDiscounts = function (invoice, baseAmount) {\n    var totalDiscounts = invoice.discounts.reduce(function (sum, discount) {\n        var discountAmount = 0;\n        if (discount.type === 'percent') {\n            discountAmount = baseAmount * (discount.value / 100);\n        }\n        else {\n            discountAmount = Math.min(discount.value, baseAmount);\n        }\n        return sum + discountAmount;\n    }, 0);\n    return roundToCurrency(totalDiscounts);\n};\n/**\n * Calculate fees based on the specified base amount\n */\nexport var calculateFees = function (invoice, amounts) {\n    var totalFees = invoice.fees.reduce(function (sum, fee) {\n        var baseAmount = 0;\n        switch (fee.applyBase) {\n            case 'subtotal':\n                baseAmount = amounts.subtotal;\n                break;\n            case 'subtotal_after_item_discounts':\n                baseAmount = amounts.subtotalAfterItemDiscounts;\n                break;\n            case 'subtotal_after_invoice_discounts':\n                baseAmount = amounts.subtotalAfterInvoiceDiscounts;\n                break;\n            case 'grand_total_pre_tax':\n                baseAmount = amounts.grandTotalPreTax;\n                break;\n            default:\n                baseAmount = amounts.subtotalAfterItemDiscounts;\n        }\n        var feeAmount = 0;\n        if (fee.type === 'percent') {\n            feeAmount = baseAmount * (fee.value / 100);\n        }\n        else {\n            feeAmount = fee.value;\n        }\n        return sum + feeAmount;\n    }, 0);\n    return roundToCurrency(totalFees);\n};\n/**\n * Calculate taxes based on taxable amount and tax rules\n */\nexport var calculateTaxes = function (invoice, taxableAmount) {\n    // Sort taxes by priority (ascending)\n    var sortedTaxes = __spreadArray([], invoice.taxes, true).sort(function (a, b) { return a.priority - b.priority; });\n    var totalTax = sortedTaxes.reduce(function (sum, tax) {\n        // Filter items by tax category if needed\n        var applicableItems = invoice.items.filter(function (item) {\n            return !tax.category || tax.category === 'all' || item.taxCategory === tax.category;\n        });\n        if (applicableItems.length === 0)\n            return sum;\n        // Calculate tax on the applicable portion of taxable amount\n        var applicableRatio = applicableItems.length / invoice.items.length;\n        var applicableTaxableAmount = taxableAmount * applicableRatio;\n        var taxAmount = applicableTaxableAmount * (tax.rate / 100);\n        return sum + taxAmount;\n    }, 0);\n    return roundToCurrency(totalTax);\n};\n/**\n * Calculate total payments made\n */\nexport var calculateTotalPaid = function (invoice) {\n    var totalPaid = invoice.payments.reduce(function (sum, payment) {\n        return sum + payment.amount;\n    }, 0);\n    return roundToCurrency(totalPaid);\n};\n/**\n * Calculate complete invoice totals\n */\nexport var calculateInvoiceTotals = function (invoice) {\n    // Step 1: Calculate base amounts\n    var subtotal = calculateSubtotal(invoice.items);\n    var itemDiscounts = calculateTotalItemDiscounts(invoice.items);\n    var subtotalAfterItemDiscounts = calculateSubtotalAfterItemDiscounts(invoice.items);\n    // Step 2: Apply invoice-level discounts\n    var invoiceDiscounts = calculateInvoiceDiscounts(invoice, subtotalAfterItemDiscounts);\n    var subtotalAfterInvoiceDiscounts = roundToCurrency(Math.max(0, subtotalAfterItemDiscounts - invoiceDiscounts));\n    // Step 3: Calculate fees (before taxes)\n    var grandTotalPreTax = subtotalAfterInvoiceDiscounts; // Will be updated after fees\n    var fees = calculateFees(invoice, {\n        subtotal: subtotal,\n        subtotalAfterItemDiscounts: subtotalAfterItemDiscounts,\n        subtotalAfterInvoiceDiscounts: subtotalAfterInvoiceDiscounts,\n        grandTotalPreTax: grandTotalPreTax\n    });\n    // Step 4: Calculate taxable amount (after discounts and fees)\n    var taxableAmount = roundToCurrency(subtotalAfterInvoiceDiscounts + fees);\n    // Step 5: Calculate taxes\n    var tax = calculateTaxes(invoice, taxableAmount);\n    // Step 6: Calculate grand total\n    var grandTotal = roundToCurrency(taxableAmount + tax);\n    // Step 7: Calculate payments and balance\n    var paid = calculateTotalPaid(invoice);\n    var balanceDue = roundToCurrency(Math.max(0, grandTotal - paid));\n    return {\n        subtotal: subtotal,\n        itemDiscounts: itemDiscounts,\n        invoiceDiscounts: invoiceDiscounts,\n        fees: fees,\n        tax: tax,\n        grandTotal: grandTotal,\n        paid: paid,\n        balanceDue: balanceDue\n    };\n};\n/**\n * Format currency amount based on locale and currency\n */\nexport var formatCurrency = function (amount, currency, locale) {\n    if (currency === void 0) { currency = 'USD'; }\n    if (locale === void 0) { locale = 'en-US'; }\n    try {\n        return new Intl.NumberFormat(locale, {\n            style: 'currency',\n            currency: currency,\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n        }).format(amount);\n    }\n    catch (error) {\n        // Fallback formatting\n        return \"\".concat(currency, \" \").concat(amount.toFixed(2));\n    }\n};\n/**\n * Format percentage\n */\nexport var formatPercentage = function (value, decimals) {\n    if (decimals === void 0) { decimals = 1; }\n    return \"\".concat(value.toFixed(decimals), \"%\");\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n// Check if we're in Electron environment\nvar isElectron = function () {\n    return typeof window !== 'undefined' && window.require;\n};\n/**\n * Save data to a file\n */\nexport var saveFile = function (filePath, data) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { success: false, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('save-file', { filePath: filePath, data: data })];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_1 = _a.sent();\n                console.error('Error saving file:', error_1);\n                return [2 /*return*/, { success: false, error: error_1 instanceof Error ? error_1.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Load data from a file\n */\nexport var loadFile = function (filePath) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_2;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { success: false, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('load-file', filePath)];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_2 = _a.sent();\n                console.error('Error loading file:', error_2);\n                return [2 /*return*/, { success: false, error: error_2 instanceof Error ? error_2.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * List files in a directory\n */\nexport var listFiles = function (directory) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_3;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { success: false, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('list-files', directory)];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, __assign(__assign({}, result), { files: result.files || [] })];\n            case 3:\n                error_3 = _a.sent();\n                console.error('Error listing files:', error_3);\n                return [2 /*return*/, { success: false, error: error_3 instanceof Error ? error_3.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Delete a file\n */\nexport var deleteFile = function (filePath) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_4;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { success: false, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('delete-file', filePath)];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_4 = _a.sent();\n                console.error('Error deleting file:', error_4);\n                return [2 /*return*/, { success: false, error: error_4 instanceof Error ? error_4.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Export invoice as PDF\n */\nexport var exportToPDF = function (htmlContent, filename) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_5;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { success: false, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('export-pdf', { htmlContent: htmlContent, filename: filename })];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_5 = _a.sent();\n                console.error('Error exporting PDF:', error_5);\n                return [2 /*return*/, { success: false, error: error_5 instanceof Error ? error_5.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Show save dialog\n */\nexport var showSaveDialog = function (options) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_6;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { canceled: true, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('show-save-dialog', options)];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_6 = _a.sent();\n                console.error('Error showing save dialog:', error_6);\n                return [2 /*return*/, { canceled: true, error: error_6 instanceof Error ? error_6.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Show open dialog\n */\nexport var showOpenDialog = function (options) { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, result, error_7;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, { canceled: true, error: 'Not running in Electron environment' }];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('show-open-dialog', options)];\n            case 2:\n                result = _a.sent();\n                return [2 /*return*/, result];\n            case 3:\n                error_7 = _a.sent();\n                console.error('Error showing open dialog:', error_7);\n                return [2 /*return*/, { canceled: true, error: error_7 instanceof Error ? error_7.message : 'Unknown error' }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Get user data path\n */\nexport var getUserDataPath = function () { return __awaiter(void 0, void 0, Promise, function () {\n    var ipcRenderer, path, error_8;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!isElectron()) {\n                    return [2 /*return*/, ''];\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                ipcRenderer = window.require('electron').ipcRenderer;\n                return [4 /*yield*/, ipcRenderer.invoke('get-user-data-path')];\n            case 2:\n                path = _a.sent();\n                return [2 /*return*/, path];\n            case 3:\n                error_8 = _a.sent();\n                console.error('Error getting user data path:', error_8);\n                return [2 /*return*/, ''];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n","import { cleanProfessionalTemplate } from '../templates/cleanProfessional';\nimport { modernStripeTemplate } from '../templates/modernStripe';\nimport { compactLedgerTemplate } from '../templates/compactLedger';\nexport var defaultTemplates = [\n    cleanProfessionalTemplate,\n    modernStripeTemplate,\n    compactLedgerTemplate\n];\n","export var cleanProfessionalTemplate = {\n    id: 'clean-professional',\n    name: 'Clean Professional',\n    brand: {\n        primaryColor: '#0F172A',\n        accentColor: '#2563EB',\n        fontFamilyHeader: 'Inter',\n        fontFamilyBody: 'Inter',\n        logoPath: ''\n    },\n    layout: {\n        headerStyle: 'left-logo-right-details',\n        footerText: 'Thank you for your business!',\n        showSignature: false,\n        margins: { top: 48, right: 48, bottom: 64, left: 48 }\n    },\n    defaults: {\n        taxRules: ['standard'],\n        terms: 'Payment due within 14 days.'\n    },\n    html: \"\\n<div class=\\\"invoice p-8\\\">\\n  <header class=\\\"flex items-start justify-between mb-8\\\">\\n    <div class=\\\"flex items-center gap-4\\\">\\n      {{#if business.logoPath}}\\n      <img src=\\\"{{business.logoPath}}\\\" alt=\\\"{{business.name}} Logo\\\" style=\\\"height:64px; max-width: 120px; object-fit: contain;\\\" />\\n      {{/if}}\\n      <div>\\n        <h1 style=\\\"font-family: {{brand.fontFamilyHeader}}; font-size: 24px; color: {{brand.primaryColor}}; margin: 0; font-weight: 700;\\\">{{business.name}}</h1>\\n        <div style=\\\"font-family: {{brand.fontFamilyBody}}; font-size: 12px; color:#6B7280; margin-top: 4px;\\\">\\n          {{business.address}}<br>\\n          {{business.email}} \\u2022 {{business.phone}}\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"text-right\\\">\\n      <div style=\\\"font-size:28px; color: {{brand.accentColor}}; font-weight:700; margin-bottom: 8px;\\\">INVOICE</div>\\n      <div style=\\\"font-size: 14px; margin-bottom: 4px;\\\"><strong># {{invoice.invoiceNumber}}</strong></div>\\n      <div style=\\\"font-size: 12px; color: #6B7280;\\\">Issue: {{invoice.formattedIssueDate}}</div>\\n      <div style=\\\"font-size: 12px; color: #6B7280;\\\">Due: {{invoice.formattedDueDate}}</div>\\n    </div>\\n  </header>\\n\\n  <section class=\\\"grid grid-cols-2 gap-6 mb-8\\\">\\n    <div>\\n      <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Bill To</h3>\\n      <div style=\\\"line-height: 1.5;\\\">\\n        {{#if client.name}}<div style=\\\"font-weight: 500;\\\">{{client.name}}</div>{{/if}}\\n        {{#if client.company}}<div>{{client.company}}</div>{{/if}}\\n        {{#if client.billingAddress}}<div style=\\\"margin-top: 4px;\\\">{{client.billingAddress}}</div>{{/if}}\\n        {{#if client.email}}<div style=\\\"margin-top: 4px; color: #6B7280;\\\">{{client.email}}{{#if client.phone}} \\u2022 {{client.phone}}{{/if}}</div>{{/if}}\\n      </div>\\n    </div>\\n    <div>\\n      <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Invoice Details</h3>\\n      <div style=\\\"line-height: 1.5;\\\">\\n        {{#if client.shippingAddress}}<div><strong>Ship To:</strong><br>{{client.shippingAddress}}</div>{{/if}}\\n        {{#if invoice.poNumber}}<div style=\\\"margin-top: 4px;\\\"><strong>PO:</strong> {{invoice.poNumber}}</div>{{/if}}\\n        <div style=\\\"margin-top: 4px;\\\"><strong>Terms:</strong> {{invoice.paymentTermsDisplay}}</div>\\n        <div style=\\\"margin-top: 4px;\\\"><strong>Currency:</strong> {{invoice.currency}}</div>\\n      </div>\\n    </div>\\n  </section>\\n\\n  <table class=\\\"w-full border-collapse mb-8\\\" style=\\\"width: 100%; border-collapse: collapse; margin-bottom: 2rem;\\\">\\n    <thead>\\n      <tr style=\\\"background:#F9FAFB;\\\">\\n        <th style=\\\"text-align: left; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Item</th>\\n        <th style=\\\"text-align: left; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Description</th>\\n        <th style=\\\"text-align: right; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Qty</th>\\n        <th style=\\\"text-align: right; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Rate</th>\\n        {{#if items.0.discount}}\\n        <th style=\\\"text-align: right; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Discount</th>\\n        {{/if}}\\n        <th style=\\\"text-align: right; padding: 12px; font-weight: 600; border-bottom: 2px solid #E5E7EB;\\\">Amount</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      {{#each items}}\\n      <tr style=\\\"border-bottom: 1px solid #E5E7EB;\\\">\\n        <td style=\\\"padding: 12px; vertical-align: top;\\\">\\n          <div style=\\\"font-weight: 500;\\\">{{name}}</div>\\n          {{#if sku}}<div style=\\\"font-size: 11px; color: #9CA3AF; margin-top: 2px;\\\">SKU: {{sku}}</div>{{/if}}\\n        </td>\\n        <td style=\\\"padding: 12px; vertical-align: top;\\\">\\n          <div style=\\\"font-size: 13px; color: #6B7280;\\\">{{description}}</div>\\n          {{#if notes}}<div style=\\\"font-size: 11px; color: #9CA3AF; margin-top: 4px; font-style: italic;\\\">{{notes}}</div>{{/if}}\\n        </td>\\n        <td style=\\\"padding: 12px; text-align: right; vertical-align: top;\\\">{{formattedQuantity}}</td>\\n        <td style=\\\"padding: 12px; text-align: right; vertical-align: top;\\\">{{formattedUnitPrice}}</td>\\n        {{#if discount}}\\n        <td style=\\\"padding: 12px; text-align: right; vertical-align: top; color: #059669;\\\">{{discountDisplay}}</td>\\n        {{else}}\\n        {{#if ../items.0.discount}}<td style=\\\"padding: 12px; text-align: right; vertical-align: top;\\\">-</td>{{/if}}\\n        {{/if}}\\n        <td style=\\\"padding: 12px; text-align: right; vertical-align: top; font-weight: 500;\\\">{{calculatedLineTotal}}</td>\\n      </tr>\\n      {{/each}}\\n    </tbody>\\n  </table>\\n\\n  <section class=\\\"grid grid-cols-2 gap-8\\\" style=\\\"display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;\\\">\\n    <div>\\n      {{#if notes}}\\n      <div style=\\\"margin-bottom: 1.5rem;\\\">\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Notes</h3>\\n        <div style=\\\"font-size: 14px; line-height: 1.5; color: #6B7280;\\\">{{notes}}</div>\\n      </div>\\n      {{/if}}\\n      \\n      {{#if terms}}\\n      <div>\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Terms & Conditions</h3>\\n        <div style=\\\"font-size: 13px; line-height: 1.4; color: #6B7280;\\\">{{terms}}</div>\\n      </div>\\n      {{/if}}\\n\\n      {{#if payments.length}}\\n      <div style=\\\"margin-top: 1.5rem;\\\">\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: #374151;\\\">Payments Received</h3>\\n        {{#each payments}}\\n        <div style=\\\"font-size: 13px; display: flex; justify-content: space-between; margin-bottom: 4px;\\\">\\n          <span>{{formattedDate}} - {{method}}</span>\\n          <span style=\\\"font-weight: 500;\\\">{{formattedAmount}}</span>\\n        </div>\\n        {{/each}}\\n      </div>\\n      {{/if}}\\n    </div>\\n\\n    <div>\\n      <div style=\\\"background: #F9FAFB; padding: 1.5rem; border-radius: 8px;\\\">\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px;\\\">\\n          <span>Subtotal</span><span>{{totals.subtotal}}</span>\\n        </div>\\n        \\n        {{#if totals.itemDiscounts}}\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; color: #059669;\\\">\\n          <span>Item Discounts</span><span>-{{totals.itemDiscounts}}</span>\\n        </div>\\n        {{/if}}\\n        \\n        {{#if totals.invoiceDiscounts}}\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; color: #059669;\\\">\\n          <span>Invoice Discounts</span><span>-{{totals.invoiceDiscounts}}</span>\\n        </div>\\n        {{/if}}\\n        \\n        {{#if totals.fees}}\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px;\\\">\\n          <span>Fees</span><span>{{totals.fees}}</span>\\n        </div>\\n        {{/if}}\\n        \\n        {{#if totals.tax}}\\n        <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 14px;\\\">\\n          <span>Tax</span><span>{{totals.tax}}</span>\\n        </div>\\n        {{/if}}\\n        \\n        <div style=\\\"display: flex; justify-content: space-between; padding-top: 12px; border-top: 2px solid #E5E7EB; font-size: 18px; font-weight: 700;\\\">\\n          <span>Total</span><span style=\\\"color: {{brand.primaryColor}};\\\">{{totals.grandTotal}}</span>\\n        </div>\\n        \\n        {{#if totals.paid}}\\n        <div style=\\\"display: flex; justify-content: space-between; margin-top: 8px; font-size: 14px; color: #2563EB;\\\">\\n          <span>Paid</span><span>-{{totals.paid}}</span>\\n        </div>\\n        \\n        <div style=\\\"display: flex; justify-content: space-between; margin-top: 8px; padding-top: 8px; border-top: 1px solid #E5E7EB; font-size: 16px; font-weight: 600; color: #DC2626;\\\">\\n          <span>Balance Due</span><span>{{totals.balanceDue}}</span>\\n        </div>\\n        {{/if}}\\n      </div>\\n      \\n      {{#if layout.showSignature}}\\n      <div style=\\\"margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #E5E7EB;\\\">\\n        <div style=\\\"font-size: 13px; color: #6B7280; margin-bottom: 1rem;\\\">Authorized Signature:</div>\\n        <div style=\\\"border-bottom: 1px solid #E5E7EB; height: 2rem;\\\"></div>\\n        <div style=\\\"font-size: 11px; color: #9CA3AF; margin-top: 4px;\\\">Date</div>\\n      </div>\\n      {{/if}}\\n    </div>\\n  </section>\\n\\n  {{#if layout.footerText}}\\n  <footer style=\\\"margin-top: 3rem; padding-top: 1rem; border-top: 1px solid #E5E7EB; text-align: center; font-size: 12px; color: #9CA3AF;\\\">\\n    {{layout.footerText}}\\n  </footer>\\n  {{/if}}\\n</div>\\n  \",\n    css: \"\\n    .invoice {\\n      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\\n      color: #1F2937;\\n      line-height: 1.5;\\n    }\\n    \\n    .grid {\\n      display: grid;\\n    }\\n    \\n    .grid-cols-2 {\\n      grid-template-columns: repeat(2, minmax(0, 1fr));\\n    }\\n    \\n    .gap-6 {\\n      gap: 1.5rem;\\n    }\\n    \\n    .gap-8 {\\n      gap: 2rem;\\n    }\\n    \\n    .flex {\\n      display: flex;\\n    }\\n    \\n    .items-start {\\n      align-items: flex-start;\\n    }\\n    \\n    .items-center {\\n      align-items: center;\\n    }\\n    \\n    .justify-between {\\n      justify-content: space-between;\\n    }\\n    \\n    .text-right {\\n      text-align: right;\\n    }\\n    \\n    .mb-8 {\\n      margin-bottom: 2rem;\\n    }\\n    \\n    @media print {\\n      .invoice {\\n        padding: 0;\\n      }\\n      \\n      table {\\n        page-break-inside: avoid;\\n      }\\n      \\n      tr {\\n        page-break-inside: avoid;\\n      }\\n    }\\n  \"\n};\n","export var modernStripeTemplate = {\n    id: 'modern-stripe',\n    name: 'Modern Stripe',\n    brand: {\n        primaryColor: '#1E293B',\n        accentColor: '#3B82F6',\n        fontFamilyHeader: 'Inter',\n        fontFamilyBody: 'Inter',\n        logoPath: ''\n    },\n    layout: {\n        headerStyle: 'stripe-header-style',\n        footerText: 'Thank you for your business!',\n        showSignature: false,\n        margins: { top: 32, right: 48, bottom: 64, left: 48 }\n    },\n    defaults: {\n        taxRules: ['standard'],\n        terms: 'Payment due within 30 days.'\n    },\n    html: \"\\n<div class=\\\"invoice\\\">\\n  <!-- Color Stripe Header -->\\n  <div class=\\\"stripe-header\\\" style=\\\"background: linear-gradient(135deg, {{brand.accentColor}} 0%, #8B5CF6 100%); height: 80px; margin: -32px -48px 2rem -48px; position: relative;\\\">\\n    <div class=\\\"stripe-overlay\\\" style=\\\"position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.1);\\\"></div>\\n    <div style=\\\"position: relative; z-index: 1; padding: 24px 48px; display: flex; align-items: center; justify-content: space-between;\\\">\\n      <div class=\\\"flex items-center gap-4\\\">\\n        {{#if business.logoPath}}\\n        <div style=\\\"width: 48px; height: 48px; background: rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px);\\\">\\n          <img src=\\\"{{business.logoPath}}\\\" alt=\\\"{{business.name}} Logo\\\" style=\\\"height: 32px; max-width: 40px; object-fit: contain;\\\" />\\n        </div>\\n        {{else}}\\n        <div style=\\\"width: 48px; height: 48px; background: rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px);\\\">\\n          <div style=\\\"font-size: 18px; font-weight: 700; color: white;\\\">{{business.name.0}}</div>\\n        </div>\\n        {{/if}}\\n        <div>\\n          <h1 style=\\\"font-family: {{brand.fontFamilyHeader}}; font-size: 20px; color: white; margin: 0; font-weight: 700; text-shadow: 0 1px 2px rgba(0,0,0,0.1);\\\">{{business.name}}</h1>\\n          <div style=\\\"font-size: 12px; color: rgba(255,255,255,0.9); margin-top: 2px;\\\">Professional Invoice</div>\\n        </div>\\n      </div>\\n      <div class=\\\"text-right\\\">\\n        <div style=\\\"font-size: 32px; color: white; font-weight: 700; text-shadow: 0 2px 4px rgba(0,0,0,0.2);\\\">INVOICE</div>\\n        <div style=\\\"font-size: 14px; color: rgba(255,255,255,0.9); font-weight: 500;\\\"># {{invoice.invoiceNumber}}</div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div style=\\\"padding: 0 48px;\\\">\\n    <!-- Business and Invoice Info -->\\n    <section class=\\\"grid grid-cols-2 gap-8 mb-8\\\">\\n      <div>\\n        <div style=\\\"background: #F8FAFC; border-radius: 12px; padding: 1.5rem; border-left: 4px solid {{brand.accentColor}};\\\">\\n          <h3 style=\\\"font-weight: 600; margin-bottom: 12px; color: {{brand.primaryColor}}; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;\\\">From</h3>\\n          <div style=\\\"line-height: 1.6; color: #475569;\\\">\\n            <div style=\\\"font-weight: 600; color: {{brand.primaryColor}}; margin-bottom: 4px;\\\">{{business.name}}</div>\\n            <div style=\\\"font-size: 13px;\\\">{{business.address}}</div>\\n            <div style=\\\"font-size: 13px; margin-top: 8px;\\\">\\n              {{business.email}}<br>\\n              {{business.phone}}\\n            </div>\\n            {{#if business.taxId}}<div style=\\\"font-size: 12px; color: #64748B; margin-top: 8px;\\\">Tax ID: {{business.taxId}}</div>{{/if}}\\n          </div>\\n        </div>\\n      </div>\\n      \\n      <div>\\n        <div style=\\\"background: #F1F5F9; border-radius: 12px; padding: 1.5rem; border-left: 4px solid #64748B;\\\">\\n          <h3 style=\\\"font-weight: 600; margin-bottom: 12px; color: {{brand.primaryColor}}; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Invoice Details</h3>\\n          <div style=\\\"line-height: 1.6; font-size: 13px;\\\">\\n            <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 6px;\\\">\\n              <span style=\\\"color: #64748B;\\\">Issue Date:</span>\\n              <span style=\\\"font-weight: 500; color: {{brand.primaryColor}};\\\">{{invoice.formattedIssueDate}}</span>\\n            </div>\\n            <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 6px;\\\">\\n              <span style=\\\"color: #64748B;\\\">Due Date:</span>\\n              <span style=\\\"font-weight: 500; color: #DC2626;\\\">{{invoice.formattedDueDate}}</span>\\n            </div>\\n            {{#if invoice.poNumber}}\\n            <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 6px;\\\">\\n              <span style=\\\"color: #64748B;\\\">PO Number:</span>\\n              <span style=\\\"font-weight: 500; color: {{brand.primaryColor}};\\\">{{invoice.poNumber}}</span>\\n            </div>\\n            {{/if}}\\n            <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 6px;\\\">\\n              <span style=\\\"color: #64748B;\\\">Terms:</span>\\n              <span style=\\\"font-weight: 500; color: {{brand.primaryColor}};\\\">{{invoice.paymentTermsDisplay}}</span>\\n            </div>\\n            <div style=\\\"display: flex; justify-content: space-between;\\\">\\n              <span style=\\\"color: #64748B;\\\">Currency:</span>\\n              <span style=\\\"font-weight: 500; color: {{brand.primaryColor}};\\\">{{invoice.currency}}</span>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </section>\\n\\n    <!-- Client Information -->\\n    <section class=\\\"mb-8\\\">\\n      <div style=\\\"background: linear-gradient(135deg, #F8FAFC 0%, #E2E8F0 100%); border-radius: 12px; padding: 1.5rem; border: 1px solid #E2E8F0;\\\">\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 12px; color: {{brand.primaryColor}}; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Bill To</h3>\\n        <div class=\\\"grid grid-cols-2 gap-8\\\">\\n          <div style=\\\"line-height: 1.6;\\\">\\n            {{#if client.name}}<div style=\\\"font-weight: 600; color: {{brand.primaryColor}}; font-size: 16px; margin-bottom: 4px;\\\">{{client.name}}</div>{{/if}}\\n            {{#if client.company}}<div style=\\\"font-weight: 500; color: #475569; margin-bottom: 8px;\\\">{{client.company}}</div>{{/if}}\\n            {{#if client.billingAddress}}<div style=\\\"font-size: 13px; color: #64748B;\\\">{{client.billingAddress}}</div>{{/if}}\\n            {{#if client.email}}<div style=\\\"font-size: 13px; color: #64748B; margin-top: 8px;\\\">{{client.email}}{{#if client.phone}} \\u2022 {{client.phone}}{{/if}}</div>{{/if}}\\n          </div>\\n          {{#if client.shippingAddress}}\\n          <div style=\\\"line-height: 1.6;\\\">\\n            <div style=\\\"font-weight: 500; color: #64748B; margin-bottom: 8px; font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Ship To</div>\\n            <div style=\\\"font-size: 13px; color: #64748B;\\\">{{client.shippingAddress}}</div>\\n          </div>\\n          {{/if}}\\n        </div>\\n      </div>\\n    </section>\\n\\n    <!-- Items Table -->\\n    <section class=\\\"mb-8\\\">\\n      <div style=\\\"background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\\\">\\n        <table style=\\\"width: 100%; border-collapse: collapse;\\\">\\n          <thead>\\n            <tr style=\\\"background: linear-gradient(135deg, {{brand.accentColor}} 0%, #8B5CF6 100%);\\\">\\n              <th style=\\\"text-align: left; padding: 16px; font-weight: 600; color: white; text-transform: uppercase; letter-spacing: 0.5px; font-size: 12px;\\\">Item</th>\\n              <th style=\\\"text-align: left; padding: 16px; font-weight: 600; color: white; text-transform: uppercase; letter-spacing: 0.5px; font-size: 12px;\\\">Description</th>\\n              <th style=\\\"text-align: center; padding: 16px; font-weight: 600; color: white; text-transform: uppercase; letter-spacing: 0.5px; font-size: 12px;\\\">Qty</th>\\n              <th style=\\\"text-align: right; padding: 16px; font-weight: 600; color: white; text-transform: uppercase; letter-spacing: 0.5px; font-size: 12px;\\\">Rate</th>\\n              {{#if items.0.discount}}\\n              <th style=\\\"text-align: right; padding: 16px; font-weight: 600; color: white; text-transform: uppercase; letter-spacing: 0.5px; font-size: 12px;\\\">Discount</th>\\n              {{/if}}\\n              <th style=\\\"text-align: right; padding: 16px; font-weight: 600; color: white; text-transform: uppercase; letter-spacing: 0.5px; font-size: 12px;\\\">Amount</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            {{#each items}}\\n            <tr style=\\\"border-bottom: 1px solid #E2E8F0; {{#unless @last}}{{else}}border-bottom: none;{{/unless}}\\\">\\n              <td style=\\\"padding: 16px; vertical-align: top;\\\">\\n                <div style=\\\"font-weight: 600; color: {{../brand.primaryColor}};\\\">{{name}}</div>\\n                {{#if sku}}<div style=\\\"font-size: 11px; color: #94A3B8; margin-top: 4px; background: #F1F5F9; padding: 2px 6px; border-radius: 4px; display: inline-block;\\\">{{sku}}</div>{{/if}}\\n              </td>\\n              <td style=\\\"padding: 16px; vertical-align: top;\\\">\\n                <div style=\\\"font-size: 13px; color: #64748B; line-height: 1.5;\\\">{{description}}</div>\\n                {{#if notes}}<div style=\\\"font-size: 11px; color: #94A3B8; margin-top: 8px; font-style: italic; background: #F8FAFC; padding: 6px; border-radius: 4px; border-left: 3px solid {{../brand.accentColor}};\\\">{{notes}}</div>{{/if}}\\n              </td>\\n              <td style=\\\"padding: 16px; text-align: center; vertical-align: top;\\\">\\n                <div style=\\\"background: #F1F5F9; border-radius: 6px; padding: 4px 8px; display: inline-block; font-weight: 500; font-size: 13px;\\\">{{formattedQuantity}}</div>\\n              </td>\\n              <td style=\\\"padding: 16px; text-align: right; vertical-align: top; font-weight: 500; font-size: 13px;\\\">{{formattedUnitPrice}}</td>\\n              {{#if discount}}\\n              <td style=\\\"padding: 16px; text-align: right; vertical-align: top;\\\">\\n                <div style=\\\"color: #059669; font-weight: 500; background: #ECFDF5; padding: 4px 8px; border-radius: 6px; display: inline-block; font-size: 12px;\\\">{{discountDisplay}}</div>\\n              </td>\\n              {{else}}\\n              {{#if ../items.0.discount}}<td style=\\\"padding: 16px; text-align: right; vertical-align: top; color: #94A3B8;\\\">-</td>{{/if}}\\n              {{/if}}\\n              <td style=\\\"padding: 16px; text-align: right; vertical-align: top; font-weight: 600; color: {{../brand.primaryColor}}; font-size: 14px;\\\">{{calculatedLineTotal}}</td>\\n            </tr>\\n            {{/each}}\\n          </tbody>\\n        </table>\\n      </div>\\n    </section>\\n\\n    <!-- Summary Section -->\\n    <section class=\\\"grid grid-cols-2 gap-8\\\">\\n      <div>\\n        {{#if notes}}\\n        <div style=\\\"background: #FEF3C7; border-radius: 12px; padding: 1.5rem; border-left: 4px solid #F59E0B; margin-bottom: 1.5rem;\\\">\\n          <h3 style=\\\"font-weight: 600; margin-bottom: 12px; color: #92400E; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Notes</h3>\\n          <div style=\\\"font-size: 14px; line-height: 1.6; color: #78350F;\\\">{{notes}}</div>\\n        </div>\\n        {{/if}}\\n        \\n        {{#if terms}}\\n        <div style=\\\"background: #DBEAFE; border-radius: 12px; padding: 1.5rem; border-left: 4px solid {{brand.accentColor}};\\\">\\n          <h3 style=\\\"font-weight: 600; margin-bottom: 12px; color: #1D4ED8; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Terms & Conditions</h3>\\n          <div style=\\\"font-size: 13px; line-height: 1.5; color: #1E40AF;\\\">{{terms}}</div>\\n        </div>\\n        {{/if}}\\n\\n        {{#if payments.length}}\\n        <div style=\\\"background: #F0FDF4; border-radius: 12px; padding: 1.5rem; border-left: 4px solid #22C55E; margin-top: 1.5rem;\\\">\\n          <h3 style=\\\"font-weight: 600; margin-bottom: 12px; color: #166534; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Payments Received</h3>\\n          {{#each payments}}\\n          <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 13px;\\\">\\n            <span style=\\\"color: #166534;\\\">{{formattedDate}} - {{method}}</span>\\n            <span style=\\\"font-weight: 600; color: #22C55E;\\\">{{formattedAmount}}</span>\\n          </div>\\n          {{/each}}\\n        </div>\\n        {{/if}}\\n      </div>\\n\\n      <div>\\n        <div style=\\\"background: linear-gradient(135deg, {{brand.primaryColor}} 0%, #475569 100%); border-radius: 16px; padding: 2rem; color: white; position: relative; overflow: hidden;\\\">\\n          <div style=\\\"position: absolute; top: -50px; right: -50px; width: 100px; height: 100px; background: rgba(255,255,255,0.1); border-radius: 50%;\\\"></div>\\n          <div style=\\\"position: absolute; bottom: -30px; left: -30px; width: 60px; height: 60px; background: rgba(255,255,255,0.1); border-radius: 50%;\\\"></div>\\n          \\n          <div style=\\\"position: relative; z-index: 1;\\\">\\n            <h3 style=\\\"font-weight: 600; margin-bottom: 1rem; color: rgba(255,255,255,0.9); font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Invoice Summary</h3>\\n            \\n            <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 14px; color: rgba(255,255,255,0.8);\\\">\\n              <span>Subtotal</span><span style=\\\"font-weight: 500;\\\">{{totals.subtotal}}</span>\\n            </div>\\n            \\n            {{#if totals.itemDiscounts}}\\n            <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 14px; color: #34D399;\\\">\\n              <span>Item Discounts</span><span style=\\\"font-weight: 500;\\\">-{{totals.itemDiscounts}}</span>\\n            </div>\\n            {{/if}}\\n            \\n            {{#if totals.invoiceDiscounts}}\\n            <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 14px; color: #34D399;\\\">\\n              <span>Invoice Discounts</span><span style=\\\"font-weight: 500;\\\">-{{totals.invoiceDiscounts}}</span>\\n            </div>\\n            {{/if}}\\n            \\n            {{#if totals.fees}}\\n            <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 14px; color: rgba(255,255,255,0.8);\\\">\\n              <span>Fees</span><span style=\\\"font-weight: 500;\\\">{{totals.fees}}</span>\\n            </div>\\n            {{/if}}\\n            \\n            {{#if totals.tax}}\\n            <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 16px; font-size: 14px; color: rgba(255,255,255,0.8);\\\">\\n              <span>Tax</span><span style=\\\"font-weight: 500;\\\">{{totals.tax}}</span>\\n            </div>\\n            {{/if}}\\n            \\n            <div style=\\\"border-top: 2px solid rgba(255,255,255,0.2); padding-top: 16px; margin-bottom: 16px;\\\">\\n              <div style=\\\"display: flex; justify-content: space-between; font-size: 20px; font-weight: 700;\\\">\\n                <span>Total</span><span style=\\\"color: #FDE047;\\\">{{totals.grandTotal}}</span>\\n              </div>\\n            </div>\\n            \\n            {{#if totals.paid}}\\n            <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; color: #34D399;\\\">\\n              <span>Paid</span><span style=\\\"font-weight: 500;\\\">-{{totals.paid}}</span>\\n            </div>\\n            \\n            <div style=\\\"display: flex; justify-content: space-between; padding-top: 12px; border-top: 1px solid rgba(255,255,255,0.2); font-size: 18px; font-weight: 700;\\\">\\n              <span>Balance Due</span><span style=\\\"color: #FCA5A5;\\\">{{totals.balanceDue}}</span>\\n            </div>\\n            {{/if}}\\n          </div>\\n        </div>\\n        \\n        {{#if layout.showSignature}}\\n        <div style=\\\"margin-top: 2rem; background: white; border-radius: 12px; padding: 1.5rem; border: 1px solid #E2E8F0;\\\">\\n          <div style=\\\"font-size: 13px; color: #64748B; margin-bottom: 1rem; text-transform: uppercase; letter-spacing: 0.5px;\\\">Authorized Signature:</div>\\n          <div style=\\\"border-bottom: 2px solid #E2E8F0; height: 3rem; margin-bottom: 0.5rem;\\\"></div>\\n          <div style=\\\"font-size: 11px; color: #94A3B8;\\\">Date</div>\\n        </div>\\n        {{/if}}\\n      </div>\\n    </section>\\n\\n    {{#if layout.footerText}}\\n    <footer style=\\\"margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #E2E8F0; text-align: center;\\\">\\n      <div style=\\\"background: linear-gradient(135deg, {{brand.accentColor}} 0%, #8B5CF6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 600; font-size: 14px;\\\">\\n        {{layout.footerText}}\\n      </div>\\n    </footer>\\n    {{/if}}\\n  </div>\\n</div>\\n  \",\n    css: \"\\n    .invoice {\\n      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\\n      color: #1E293B;\\n      line-height: 1.5;\\n    }\\n    \\n    .grid {\\n      display: grid;\\n    }\\n    \\n    .grid-cols-2 {\\n      grid-template-columns: repeat(2, minmax(0, 1fr));\\n    }\\n    \\n    .gap-8 {\\n      gap: 2rem;\\n    }\\n    \\n    .flex {\\n      display: flex;\\n    }\\n    \\n    .items-start {\\n      align-items: flex-start;\\n    }\\n    \\n    .items-center {\\n      align-items: center;\\n    }\\n    \\n    .justify-between {\\n      justify-content: space-between;\\n    }\\n    \\n    .text-right {\\n      text-align: right;\\n    }\\n    \\n    .mb-8 {\\n      margin-bottom: 2rem;\\n    }\\n    \\n    @media print {\\n      .invoice {\\n        padding: 0;\\n      }\\n      \\n      .stripe-header {\\n        margin: 0 !important;\\n        -webkit-print-color-adjust: exact;\\n      }\\n      \\n      table {\\n        page-break-inside: avoid;\\n      }\\n      \\n      tr {\\n        page-break-inside: avoid;\\n      }\\n    }\\n  \"\n};\n","export var compactLedgerTemplate = {\n    id: 'compact-ledger',\n    name: 'Compact Ledger',\n    brand: {\n        primaryColor: '#1F2937',\n        accentColor: '#374151',\n        fontFamilyHeader: 'Roboto Slab',\n        fontFamilyBody: 'Inter',\n        logoPath: ''\n    },\n    layout: {\n        headerStyle: 'compact-header',\n        footerText: 'Thank you for your business!',\n        showSignature: false,\n        margins: { top: 32, right: 32, bottom: 48, left: 32 }\n    },\n    defaults: {\n        taxRules: ['standard'],\n        terms: 'Payment due within 30 days.'\n    },\n    html: \"\\n<div class=\\\"invoice\\\" style=\\\"font-size: 12px; line-height: 1.4;\\\">\\n  <!-- Compact Header -->\\n  <header style=\\\"display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 2px solid {{brand.primaryColor}};\\\">\\n    <div style=\\\"flex: 1;\\\">\\n      <div style=\\\"display: flex; align-items: center; gap: 12px; margin-bottom: 8px;\\\">\\n        {{#if business.logoPath}}\\n        <img src=\\\"{{business.logoPath}}\\\" alt=\\\"{{business.name}} Logo\\\" style=\\\"height: 32px; max-width: 64px; object-fit: contain;\\\" />\\n        {{/if}}\\n        <div>\\n          <h1 style=\\\"font-family: {{brand.fontFamilyHeader}}; font-size: 18px; color: {{brand.primaryColor}}; margin: 0; font-weight: 700;\\\">{{business.name}}</h1>\\n          <div style=\\\"font-size: 10px; color: #6B7280; margin-top: 2px;\\\">{{business.email}} \\u2022 {{business.phone}}</div>\\n        </div>\\n      </div>\\n      <div style=\\\"font-size: 11px; color: #6B7280; line-height: 1.3;\\\">\\n        {{business.address}}\\n      </div>\\n      {{#if business.taxId}}<div style=\\\"font-size: 10px; color: #9CA3AF; margin-top: 4px;\\\">Tax ID: {{business.taxId}}</div>{{/if}}\\n    </div>\\n    \\n    <div style=\\\"text-align: right; min-width: 200px;\\\">\\n      <div style=\\\"background: {{brand.primaryColor}}; color: white; padding: 8px 16px; border-radius: 4px; margin-bottom: 8px;\\\">\\n        <div style=\\\"font-size: 16px; font-weight: 700; margin-bottom: 2px;\\\">INVOICE</div>\\n        <div style=\\\"font-size: 12px; opacity: 0.9;\\\"># {{invoice.invoiceNumber}}</div>\\n      </div>\\n      <div style=\\\"font-size: 11px; color: #374151;\\\">\\n        <div><strong>Issue:</strong> {{invoice.formattedIssueDate}}</div>\\n        <div><strong>Due:</strong> {{invoice.formattedDueDate}}</div>\\n        {{#if invoice.poNumber}}<div><strong>PO:</strong> {{invoice.poNumber}}</div>{{/if}}\\n      </div>\\n    </div>\\n  </header>\\n\\n  <!-- Client and Invoice Details in 3 columns -->\\n  <section style=\\\"display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 24px; margin-bottom: 24px; font-size: 11px;\\\">\\n    <div>\\n      <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: {{brand.primaryColor}}; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; border-bottom: 1px solid #E5E7EB; padding-bottom: 4px;\\\">Bill To</h3>\\n      <div style=\\\"line-height: 1.4;\\\">\\n        {{#if client.name}}<div style=\\\"font-weight: 600; color: {{brand.primaryColor}}; margin-bottom: 3px;\\\">{{client.name}}</div>{{/if}}\\n        {{#if client.company}}<div style=\\\"color: #4B5563; margin-bottom: 6px;\\\">{{client.company}}</div>{{/if}}\\n        {{#if client.billingAddress}}<div style=\\\"color: #6B7280;\\\">{{client.billingAddress}}</div>{{/if}}\\n        {{#if client.email}}<div style=\\\"color: #6B7280; margin-top: 4px;\\\">{{client.email}}</div>{{/if}}\\n        {{#if client.phone}}<div style=\\\"color: #6B7280;\\\">{{client.phone}}</div>{{/if}}\\n      </div>\\n    </div>\\n    \\n    {{#if client.shippingAddress}}\\n    <div>\\n      <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: {{brand.primaryColor}}; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; border-bottom: 1px solid #E5E7EB; padding-bottom: 4px;\\\">Ship To</h3>\\n      <div style=\\\"line-height: 1.4; color: #6B7280;\\\">\\n        {{client.shippingAddress}}\\n      </div>\\n    </div>\\n    {{/if}}\\n    \\n    <div>\\n      <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: {{brand.primaryColor}}; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; border-bottom: 1px solid #E5E7EB; padding-bottom: 4px;\\\">Terms</h3>\\n      <div style=\\\"line-height: 1.4; font-size: 11px;\\\">\\n        <div style=\\\"margin-bottom: 3px;\\\"><span style=\\\"color: #6B7280;\\\">Payment:</span> <span style=\\\"font-weight: 500; color: {{brand.primaryColor}};\\\">{{invoice.paymentTermsDisplay}}</span></div>\\n        <div style=\\\"margin-bottom: 3px;\\\"><span style=\\\"color: #6B7280;\\\">Currency:</span> <span style=\\\"font-weight: 500; color: {{brand.primaryColor}};\\\">{{invoice.currency}}</span></div>\\n        {{#if business.bankDetails}}<div style=\\\"margin-top: 6px; font-size: 10px; color: #9CA3AF;\\\">{{business.bankDetails}}</div>{{/if}}\\n      </div>\\n    </div>\\n  </section>\\n\\n  <!-- Compact Items Table -->\\n  <section class=\\\"mb-6\\\">\\n    <table style=\\\"width: 100%; border-collapse: collapse; font-size: 11px; border: 1px solid #D1D5DB;\\\">\\n      <thead>\\n        <tr style=\\\"background: #F9FAFB; border-bottom: 1px solid #D1D5DB;\\\">\\n          <th style=\\\"text-align: left; padding: 8px 6px; font-weight: 600; color: {{brand.primaryColor}}; width: 25%;\\\">#</th>\\n          <th style=\\\"text-align: left; padding: 8px 6px; font-weight: 600; color: {{brand.primaryColor}}; width: 35%;\\\">Item & Description</th>\\n          <th style=\\\"text-align: center; padding: 8px 6px; font-weight: 600; color: {{brand.primaryColor}}; width: 8%;\\\">Qty</th>\\n          <th style=\\\"text-align: right; padding: 8px 6px; font-weight: 600; color: {{brand.primaryColor}}; width: 12%;\\\">Rate</th>\\n          {{#if items.0.discount}}\\n          <th style=\\\"text-align: right; padding: 8px 6px; font-weight: 600; color: {{brand.primaryColor}}; width: 10%;\\\">Disc.</th>\\n          {{/if}}\\n          <th style=\\\"text-align: right; padding: 8px 6px; font-weight: 600; color: {{brand.primaryColor}}; width: 12%;\\\">Amount</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        {{#each items}}\\n        <tr style=\\\"border-bottom: 1px solid #E5E7EB; {{#if @last}}border-bottom: 2px solid #D1D5DB;{{/if}}\\\">\\n          <td style=\\\"padding: 8px 6px; vertical-align: top;\\\">\\n            <div style=\\\"font-weight: 500; color: {{../brand.primaryColor}};\\\">{{@index1}}</div>\\n            {{#if sku}}<div style=\\\"font-size: 9px; color: #9CA3AF;\\\">{{sku}}</div>{{/if}}\\n          </td>\\n          <td style=\\\"padding: 8px 6px; vertical-align: top;\\\">\\n            <div style=\\\"font-weight: 500; color: {{../brand.primaryColor}}; margin-bottom: 2px;\\\">{{name}}</div>\\n            {{#if description}}<div style=\\\"font-size: 10px; color: #6B7280; line-height: 1.3;\\\">{{description}}</div>{{/if}}\\n            {{#if notes}}<div style=\\\"font-size: 9px; color: #9CA3AF; margin-top: 3px; font-style: italic;\\\">{{notes}}</div>{{/if}}\\n          </td>\\n          <td style=\\\"padding: 8px 6px; text-align: center; vertical-align: top;\\\">\\n            <span style=\\\"background: #F3F4F6; padding: 2px 6px; border-radius: 4px; font-weight: 500;\\\">{{formattedQuantity}}</span>\\n          </td>\\n          <td style=\\\"padding: 8px 6px; text-align: right; vertical-align: top; font-weight: 500;\\\">{{formattedUnitPrice}}</td>\\n          {{#if discount}}\\n          <td style=\\\"padding: 8px 6px; text-align: right; vertical-align: top; color: #059669; font-weight: 500; font-size: 10px;\\\">{{discountDisplay}}</td>\\n          {{else}}\\n          {{#if ../items.0.discount}}<td style=\\\"padding: 8px 6px; text-align: right; vertical-align: top; color: #9CA3AF;\\\">-</td>{{/if}}\\n          {{/if}}\\n          <td style=\\\"padding: 8px 6px; text-align: right; vertical-align: top; font-weight: 600; color: {{../brand.primaryColor}};\\\">{{calculatedLineTotal}}</td>\\n        </tr>\\n        {{/each}}\\n      </tbody>\\n    </table>\\n  </section>\\n\\n  <!-- Summary and Notes Side by Side -->\\n  <section style=\\\"display: grid; grid-template-columns: 1fr 300px; gap: 32px; margin-top: 24px;\\\">\\n    <div>\\n      {{#if notes}}\\n      <div style=\\\"margin-bottom: 20px;\\\">\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: {{brand.primaryColor}}; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Notes</h3>\\n        <div style=\\\"font-size: 11px; line-height: 1.4; color: #4B5563; background: #F9FAFB; padding: 12px; border-radius: 6px; border-left: 3px solid {{brand.accentColor}};\\\">{{notes}}</div>\\n      </div>\\n      {{/if}}\\n      \\n      {{#if terms}}\\n      <div style=\\\"margin-bottom: 20px;\\\">\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: {{brand.primaryColor}}; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Terms & Conditions</h3>\\n        <div style=\\\"font-size: 10px; line-height: 1.3; color: #6B7280; background: #F9FAFB; padding: 12px; border-radius: 6px;\\\">{{terms}}</div>\\n      </div>\\n      {{/if}}\\n\\n      {{#if payments.length}}\\n      <div>\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 8px; color: {{brand.primaryColor}}; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Payment History</h3>\\n        <div style=\\\"background: #ECFDF5; border-radius: 6px; padding: 12px; border-left: 3px solid #22C55E;\\\">\\n          {{#each payments}}\\n          <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 4px; font-size: 10px; {{#if @last}}margin-bottom: 0;{{/if}}\\\">\\n            <span style=\\\"color: #166534;\\\">{{formattedDate}} - {{method}}</span>\\n            <span style=\\\"font-weight: 600; color: #22C55E;\\\">{{formattedAmount}}</span>\\n          </div>\\n          {{/each}}\\n        </div>\\n      </div>\\n      {{/if}}\\n    </div>\\n\\n    <!-- Compact Totals -->\\n    <div>\\n      <div style=\\\"background: {{brand.primaryColor}}; color: white; border-radius: 8px; padding: 16px; font-size: 11px;\\\">\\n        <h3 style=\\\"font-weight: 600; margin-bottom: 12px; color: rgba(255,255,255,0.9); font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Summary</h3>\\n        \\n        <div style=\\\"space-y: 6px;\\\">\\n          <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 6px;\\\">\\n            <span style=\\\"color: rgba(255,255,255,0.8);\\\">Subtotal</span>\\n            <span style=\\\"font-weight: 500;\\\">{{totals.subtotal}}</span>\\n          </div>\\n          \\n          {{#if totals.itemDiscounts}}\\n          <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 6px; color: #34D399;\\\">\\n            <span>Item Discounts</span>\\n            <span style=\\\"font-weight: 500;\\\">-{{totals.itemDiscounts}}</span>\\n          </div>\\n          {{/if}}\\n          \\n          {{#if totals.invoiceDiscounts}}\\n          <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 6px; color: #34D399;\\\">\\n            <span>Invoice Discounts</span>\\n            <span style=\\\"font-weight: 500;\\\">-{{totals.invoiceDiscounts}}</span>\\n          </div>\\n          {{/if}}\\n          \\n          {{#if totals.fees}}\\n          <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 6px;\\\">\\n            <span style=\\\"color: rgba(255,255,255,0.8);\\\">Fees</span>\\n            <span style=\\\"font-weight: 500;\\\">{{totals.fees}}</span>\\n          </div>\\n          {{/if}}\\n          \\n          {{#if totals.tax}}\\n          <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 10px;\\\">\\n            <span style=\\\"color: rgba(255,255,255,0.8);\\\">Tax</span>\\n            <span style=\\\"font-weight: 500;\\\">{{totals.tax}}</span>\\n          </div>\\n          {{/if}}\\n          \\n          <div style=\\\"border-top: 1px solid rgba(255,255,255,0.3); padding-top: 10px; margin-bottom: 10px;\\\">\\n            <div style=\\\"display: flex; justify-content: space-between; font-size: 14px; font-weight: 700;\\\">\\n              <span>Total</span>\\n              <span>{{totals.grandTotal}}</span>\\n            </div>\\n          </div>\\n          \\n          {{#if totals.paid}}\\n          <div style=\\\"display: flex; justify-content: space-between; margin-bottom: 6px; color: #34D399;\\\">\\n            <span>Paid</span>\\n            <span style=\\\"font-weight: 500;\\\">-{{totals.paid}}</span>\\n          </div>\\n          \\n          <div style=\\\"border-top: 1px solid rgba(255,255,255,0.3); padding-top: 6px;\\\">\\n            <div style=\\\"display: flex; justify-content: space-between; font-size: 13px; font-weight: 700; color: #FCA5A5;\\\">\\n              <span>Balance Due</span>\\n              <span>{{totals.balanceDue}}</span>\\n            </div>\\n          </div>\\n          {{/if}}\\n        </div>\\n      </div>\\n      \\n      {{#if layout.showSignature}}\\n      <div style=\\\"margin-top: 20px; border: 1px solid #D1D5DB; border-radius: 6px; padding: 12px;\\\">\\n        <div style=\\\"font-size: 10px; color: #6B7280; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;\\\">Authorized Signature:</div>\\n        <div style=\\\"border-bottom: 1px solid #D1D5DB; height: 32px; margin-bottom: 4px;\\\"></div>\\n        <div style=\\\"font-size: 9px; color: #9CA3AF;\\\">Date</div>\\n      </div>\\n      {{/if}}\\n    </div>\\n  </section>\\n\\n  {{#if layout.footerText}}\\n  <footer style=\\\"margin-top: 32px; padding-top: 16px; border-top: 1px solid #D1D5DB; text-align: center;\\\">\\n    <div style=\\\"font-size: 10px; color: #6B7280;\\\">{{layout.footerText}}</div>\\n  </footer>\\n  {{/if}}\\n</div>\\n  \",\n    css: \"\\n    .invoice {\\n      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\\n      color: #1F2937;\\n      line-height: 1.4;\\n    }\\n    \\n    h1, h2, h3, h4, h5, h6 {\\n      font-family: 'Roboto Slab', serif;\\n    }\\n    \\n    .grid {\\n      display: grid;\\n    }\\n    \\n    .grid-cols-2 {\\n      grid-template-columns: repeat(2, minmax(0, 1fr));\\n    }\\n    \\n    .grid-cols-3 {\\n      grid-template-columns: repeat(3, minmax(0, 1fr));\\n    }\\n    \\n    .gap-6 {\\n      gap: 1.5rem;\\n    }\\n    \\n    .mb-6 {\\n      margin-bottom: 1.5rem;\\n    }\\n    \\n    .flex {\\n      display: flex;\\n    }\\n    \\n    .items-start {\\n      align-items: flex-start;\\n    }\\n    \\n    .items-center {\\n      align-items: center;\\n    }\\n    \\n    .justify-between {\\n      justify-content: space-between;\\n    }\\n    \\n    .text-right {\\n      text-align: right;\\n    }\\n    \\n    @media print {\\n      .invoice {\\n        font-size: 11px;\\n      }\\n      \\n      table {\\n        page-break-inside: avoid;\\n      }\\n      \\n      tr {\\n        page-break-inside: avoid;\\n      }\\n      \\n      .grid {\\n        page-break-inside: avoid;\\n      }\\n    }\\n  \"\n};\n","export var defaultBusinessProfile = {\n    id: 'default',\n    name: 'Your Company LLC',\n    address: '100 Main St\\nCity, ST 00000\\nUnited States',\n    email: 'billing@yourcompany.com',\n    phone: '555-555-5555',\n    taxId: 'XX-XXXXXXX',\n    bankDetails: 'Routing 000000000 | Account 00000000',\n    logoPath: '',\n    color: '#111827'\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { create } from 'zustand';\nimport { v4 as uuidv4 } from 'uuid';\nimport { format } from 'date-fns';\nimport { calculateInvoiceTotals } from '../utils/calculations';\nimport { saveFile, loadFile, listFiles, deleteFile } from '../utils/storage';\nimport { defaultTemplates } from '../data/defaultTemplates';\nimport { defaultBusinessProfile } from '../data/defaultBusinessProfile';\nvar createEmptyInvoice = function (templateId) {\n    if (templateId === void 0) { templateId = 'clean-professional'; }\n    return ({\n        version: '1.0',\n        id: uuidv4(),\n        templateId: templateId,\n        businessProfileId: 'default',\n        invoiceNumber: \"INV-\".concat(format(new Date(), 'yyyy'), \"-\").concat(String(Date.now()).slice(-5)),\n        poNumber: '',\n        issueDate: format(new Date(), 'yyyy-MM-dd'),\n        dueDate: format(new Date(Date.now() + 14 * 24 * 60 * 60 * 1000), 'yyyy-MM-dd'),\n        paymentTerms: 'NET_14',\n        currency: 'USD',\n        locale: 'en-US',\n        client: {\n            name: '',\n            company: '',\n            contact: '',\n            email: '',\n            phone: '',\n            billingAddress: '',\n            shippingAddress: ''\n        },\n        items: [],\n        discounts: [],\n        fees: [],\n        taxes: [],\n        payments: [],\n        notes: '',\n        terms: 'Payment due within 14 days.',\n        totals: {\n            subtotal: 0,\n            itemDiscounts: 0,\n            invoiceDiscounts: 0,\n            fees: 0,\n            tax: 0,\n            grandTotal: 0,\n            paid: 0,\n            balanceDue: 0\n        },\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n    });\n};\nvar defaultSettings = {\n    currency: 'USD',\n    locale: 'en-US',\n    dateFormat: 'yyyy-MM-dd',\n    invoiceNumberPattern: 'INV-{YYYY}-{#####}',\n    defaultTaxes: [],\n    defaultFees: [],\n    defaultTemplateId: 'clean-professional',\n    defaultBusinessProfileId: 'default',\n    autosaveInterval: 10000\n};\nexport var useInvoiceStore = create(function (set, get) { return ({\n    currentInvoice: null,\n    templates: [],\n    businessProfiles: [],\n    settings: defaultSettings,\n    invoiceList: [],\n    isLoading: false,\n    error: null,\n    lastSaved: null,\n    hasUnsavedChanges: false,\n    initializeApp: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var isElectron, ipcRenderer, electronError_1, loadError_1, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 9, , 10]);\n                    isElectron = typeof window !== 'undefined' && window.require;\n                    if (!isElectron) return [3 /*break*/, 5];\n                    _a.label = 2;\n                case 2:\n                    _a.trys.push([2, 4, , 5]);\n                    ipcRenderer = window.require('electron').ipcRenderer;\n                    return [4 /*yield*/, ipcRenderer.invoke('ensure-directories')];\n                case 3:\n                    _a.sent();\n                    return [3 /*break*/, 5];\n                case 4:\n                    electronError_1 = _a.sent();\n                    console.warn('Electron IPC failed, continuing in web mode:', electronError_1);\n                    return [3 /*break*/, 5];\n                case 5:\n                    _a.trys.push([5, 7, , 8]);\n                    return [4 /*yield*/, Promise.all([\n                            get().loadSettings(),\n                            get().loadTemplates(),\n                            get().loadBusinessProfiles(),\n                            get().loadInvoiceList()\n                        ])];\n                case 6:\n                    _a.sent();\n                    return [3 /*break*/, 8];\n                case 7:\n                    loadError_1 = _a.sent();\n                    console.warn('Failed to load saved data, using defaults:', loadError_1);\n                    // Initialize with defaults in web mode\n                    set({\n                        templates: defaultTemplates,\n                        businessProfiles: [defaultBusinessProfile],\n                        settings: defaultSettings,\n                        invoiceList: []\n                    });\n                    return [3 /*break*/, 8];\n                case 8:\n                    // Create a new invoice\n                    get().createNewInvoice();\n                    set({ isLoading: false });\n                    return [3 /*break*/, 10];\n                case 9:\n                    error_1 = _a.sent();\n                    console.error('Failed to initialize app:', error_1);\n                    // Even if initialization fails, provide basic functionality\n                    set({\n                        templates: defaultTemplates,\n                        businessProfiles: [defaultBusinessProfile],\n                        settings: defaultSettings,\n                        invoiceList: [],\n                        isLoading: false,\n                        error: null\n                    });\n                    get().createNewInvoice();\n                    return [3 /*break*/, 10];\n                case 10: return [2 /*return*/];\n            }\n        });\n    }); },\n    createNewInvoice: function (templateId) {\n        var settings = get().settings;\n        var newInvoice = createEmptyInvoice(templateId || settings.defaultTemplateId);\n        set({\n            currentInvoice: newInvoice,\n            hasUnsavedChanges: false,\n            lastSaved: null,\n            error: null\n        });\n    },\n    updateInvoice: function (updates) {\n        var currentInvoice = get().currentInvoice;\n        if (!currentInvoice)\n            return;\n        var updatedInvoice = __assign(__assign(__assign({}, currentInvoice), updates), { updatedAt: new Date().toISOString() });\n        // Recalculate totals\n        updatedInvoice.totals = calculateInvoiceTotals(updatedInvoice);\n        set({\n            currentInvoice: updatedInvoice,\n            hasUnsavedChanges: true,\n            error: null\n        });\n    },\n    saveInvoice: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var currentInvoice, filename, result, error_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    currentInvoice = get().currentInvoice;\n                    if (!currentInvoice)\n                        return [2 /*return*/, false];\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    filename = \"\".concat(currentInvoice.invoiceNumber, \".json\");\n                    return [4 /*yield*/, saveFile(\"invoices/\".concat(filename), currentInvoice)];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    set({\n                        hasUnsavedChanges: false,\n                        lastSaved: new Date().toISOString(),\n                        isLoading: false\n                    });\n                    // Refresh invoice list\n                    return [4 /*yield*/, get().loadInvoiceList()];\n                case 3:\n                    // Refresh invoice list\n                    _a.sent();\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to save invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_2 = _a.sent();\n                    console.error('Error saving invoice:', error_2);\n                    set({ error: 'Failed to save invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadInvoice: function (invoiceId) { return __awaiter(void 0, void 0, void 0, function () {\n        var result, invoice, error_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, loadFile(\"invoices/\".concat(invoiceId))];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        invoice = result.data;\n                        // Recalculate totals to ensure consistency\n                        invoice.totals = calculateInvoiceTotals(invoice);\n                        set({\n                            currentInvoice: invoice,\n                            hasUnsavedChanges: false,\n                            lastSaved: invoice.updatedAt,\n                            isLoading: false\n                        });\n                        return [2 /*return*/, true];\n                    }\n                    else {\n                        set({ error: result.error || 'Failed to load invoice', isLoading: false });\n                        return [2 /*return*/, false];\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_3 = _a.sent();\n                    console.error('Error loading invoice:', error_3);\n                    set({ error: 'Failed to load invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); },\n    deleteInvoice: function (invoiceId) { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_4;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    return [4 /*yield*/, deleteFile(\"invoices/\".concat(invoiceId))];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    return [4 /*yield*/, get().loadInvoiceList()];\n                case 3:\n                    _a.sent();\n                    set({ isLoading: false });\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to delete invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_4 = _a.sent();\n                    console.error('Error deleting invoice:', error_4);\n                    set({ error: 'Failed to delete invoice', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    duplicateInvoice: function () {\n        var currentInvoice = get().currentInvoice;\n        if (!currentInvoice)\n            return;\n        var duplicatedInvoice = __assign(__assign({}, currentInvoice), { id: uuidv4(), invoiceNumber: \"\".concat(currentInvoice.invoiceNumber, \"-COPY\"), createdAt: new Date().toISOString(), updatedAt: new Date().toISOString() });\n        set({\n            currentInvoice: duplicatedInvoice,\n            hasUnsavedChanges: true,\n            lastSaved: null\n        });\n    },\n    loadInvoiceList: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_5;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, listFiles('invoices')];\n                case 1:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ invoiceList: result.files || [] });\n                    }\n                    else {\n                        console.error('Failed to load invoice list:', result.error);\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_5 = _a.sent();\n                    console.error('Error loading invoice list:', error_5);\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); },\n    saveAsTemplate: function (name) { return __awaiter(void 0, void 0, void 0, function () {\n        var currentInvoice, template, filename, result, error_6;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    currentInvoice = get().currentInvoice;\n                    if (!currentInvoice)\n                        return [2 /*return*/, false];\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    template = {\n                        id: uuidv4(),\n                        name: name,\n                        brand: {\n                            primaryColor: '#0F172A',\n                            accentColor: '#2563EB',\n                            fontFamilyHeader: 'Inter',\n                            fontFamilyBody: 'Inter',\n                            logoPath: ''\n                        },\n                        layout: {\n                            headerStyle: 'left-logo-right-details',\n                            footerText: 'Thank you for your business!',\n                            showSignature: false,\n                            margins: { top: 48, right: 48, bottom: 64, left: 48 }\n                        },\n                        defaults: {\n                            taxRules: ['standard'],\n                            terms: currentInvoice.terms\n                        },\n                        html: '', // Will be populated by template system\n                        css: '' // Will be populated by template system\n                    };\n                    filename = \"\".concat(template.id, \".json\");\n                    return [4 /*yield*/, saveFile(\"templates/\".concat(filename), template)];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    return [4 /*yield*/, get().loadTemplates()];\n                case 3:\n                    _a.sent();\n                    set({ isLoading: false });\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to save template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_6 = _a.sent();\n                    console.error('Error saving template:', error_6);\n                    set({ error: 'Failed to save template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadTemplates: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, userTemplates, error_7;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, listFiles('templates')];\n                case 1:\n                    result = _b.sent();\n                    if (result.success) {\n                        userTemplates = ((_a = result.files) === null || _a === void 0 ? void 0 : _a.map(function (f) { return f.data; })) || [];\n                        set({ templates: __spreadArray(__spreadArray([], defaultTemplates, true), userTemplates, true) });\n                    }\n                    else {\n                        // If templates directory doesn't exist or is empty, use defaults\n                        set({ templates: defaultTemplates });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_7 = _b.sent();\n                    console.error('Error loading templates:', error_7);\n                    set({ templates: defaultTemplates });\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); },\n    deleteTemplate: function (templateId) { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_8;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    return [4 /*yield*/, deleteFile(\"templates/\".concat(templateId, \".json\"))];\n                case 2:\n                    result = _a.sent();\n                    if (!result.success) return [3 /*break*/, 4];\n                    return [4 /*yield*/, get().loadTemplates()];\n                case 3:\n                    _a.sent();\n                    set({ isLoading: false });\n                    return [2 /*return*/, true];\n                case 4:\n                    set({ error: result.error || 'Failed to delete template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_8 = _a.sent();\n                    console.error('Error deleting template:', error_8);\n                    set({ error: 'Failed to delete template', isLoading: false });\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); },\n    updateBusinessProfile: function (profileUpdates) {\n        var businessProfiles = get().businessProfiles;\n        var updatedProfiles = businessProfiles.map(function (profile) {\n            return profile.id === profileUpdates.id ? __assign(__assign({}, profile), profileUpdates) : profile;\n        });\n        set({ businessProfiles: updatedProfiles, hasUnsavedChanges: true });\n    },\n    saveBusinessProfile: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var businessProfiles, defaultProfile, result, error_9;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    businessProfiles = get().businessProfiles;\n                    defaultProfile = businessProfiles.find(function (p) { return p.id === 'default'; });\n                    if (!defaultProfile)\n                        return [2 /*return*/, false];\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, saveFile('profiles/default.json', defaultProfile)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ isLoading: false });\n                        return [2 /*return*/, true];\n                    }\n                    else {\n                        set({ error: result.error || 'Failed to save business profile', isLoading: false });\n                        return [2 /*return*/, false];\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_9 = _a.sent();\n                    console.error('Error saving business profile:', error_9);\n                    set({ error: 'Failed to save business profile', isLoading: false });\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadBusinessProfiles: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_10;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, loadFile('profiles/default.json')];\n                case 1:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ businessProfiles: [result.data] });\n                    }\n                    else {\n                        // Use default profile if none exists\n                        set({ businessProfiles: [defaultBusinessProfile] });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_10 = _a.sent();\n                    console.error('Error loading business profiles:', error_10);\n                    set({ businessProfiles: [defaultBusinessProfile] });\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); },\n    updateSettings: function (settingsUpdates) {\n        var settings = get().settings;\n        set({ settings: __assign(__assign({}, settings), settingsUpdates), hasUnsavedChanges: true });\n    },\n    saveSettings: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var settings, result, error_11;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    settings = get().settings;\n                    set({ isLoading: true, error: null });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, saveFile('settings.json', settings)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ isLoading: false });\n                        return [2 /*return*/, true];\n                    }\n                    else {\n                        set({ error: result.error || 'Failed to save settings', isLoading: false });\n                        return [2 /*return*/, false];\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_11 = _a.sent();\n                    console.error('Error saving settings:', error_11);\n                    set({ error: 'Failed to save settings', isLoading: false });\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); },\n    loadSettings: function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, error_12;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, loadFile('settings.json')];\n                case 1:\n                    result = _a.sent();\n                    if (result.success) {\n                        set({ settings: __assign(__assign({}, defaultSettings), result.data) });\n                    }\n                    else {\n                        // Use default settings if none exist\n                        set({ settings: defaultSettings });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_12 = _a.sent();\n                    console.error('Error loading settings:', error_12);\n                    set({ settings: defaultSettings });\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); },\n    recalculateInvoice: function () {\n        var currentInvoice = get().currentInvoice;\n        if (!currentInvoice)\n            return;\n        var updatedInvoice = __assign(__assign({}, currentInvoice), { totals: calculateInvoiceTotals(currentInvoice), updatedAt: new Date().toISOString() });\n        set({ currentInvoice: updatedInvoice });\n    },\n    setError: function (error) { return set({ error: error }); },\n    clearError: function () { return set({ error: null }); }\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { v4 as uuidv4 } from 'uuid';\nimport { format } from 'date-fns';\nvar InvoiceForm = function () {\n    var _a = useInvoiceStore(), currentInvoice = _a.currentInvoice, updateInvoice = _a.updateInvoice, businessProfiles = _a.businessProfiles, updateBusinessProfile = _a.updateBusinessProfile, saveBusinessProfile = _a.saveBusinessProfile;\n    var _b = useState('business'), activeSection = _b[0], setActiveSection = _b[1];\n    if (!currentInvoice)\n        return null;\n    var businessProfile = businessProfiles[0] || null;\n    // Helper function to update invoice fields\n    var updateField = function (field, value) {\n        var _a;\n        updateInvoice((_a = {}, _a[field] = value, _a));\n    };\n    // Helper function to update nested fields\n    var updateNestedField = function (parentField, field, value) {\n        var _a, _b;\n        updateInvoice((_a = {},\n            _a[parentField] = __assign(__assign({}, currentInvoice[parentField]), (_b = {}, _b[field] = value, _b)),\n            _a));\n    };\n    // Item management functions\n    var addItem = function () {\n        var newItem = {\n            id: uuidv4(),\n            sku: '',\n            name: '',\n            description: '',\n            quantity: 1,\n            unitPrice: 0,\n            discount: null,\n            taxCategory: 'standard',\n            notes: ''\n        };\n        updateField('items', __spreadArray(__spreadArray([], currentInvoice.items, true), [newItem], false));\n    };\n    var updateItem = function (itemId, field, value) {\n        var updatedItems = currentInvoice.items.map(function (item) {\n            var _a;\n            return item.id === itemId ? __assign(__assign({}, item), (_a = {}, _a[field] = value, _a)) : item;\n        });\n        updateField('items', updatedItems);\n    };\n    var removeItem = function (itemId) {\n        var updatedItems = currentInvoice.items.filter(function (item) { return item.id !== itemId; });\n        updateField('items', updatedItems);\n    };\n    var duplicateItem = function (itemId) {\n        var itemToDuplicate = currentInvoice.items.find(function (item) { return item.id === itemId; });\n        if (itemToDuplicate) {\n            var duplicatedItem = __assign(__assign({}, itemToDuplicate), { id: uuidv4() });\n            updateField('items', __spreadArray(__spreadArray([], currentInvoice.items, true), [duplicatedItem], false));\n        }\n    };\n    // Discount management\n    var addDiscount = function () {\n        var newDiscount = {\n            id: uuidv4(),\n            label: 'Discount',\n            type: 'percent',\n            value: 0\n        };\n        updateField('discounts', __spreadArray(__spreadArray([], currentInvoice.discounts, true), [newDiscount], false));\n    };\n    var updateDiscount = function (discountId, field, value) {\n        var updatedDiscounts = currentInvoice.discounts.map(function (discount) {\n            var _a;\n            return discount.id === discountId ? __assign(__assign({}, discount), (_a = {}, _a[field] = value, _a)) : discount;\n        });\n        updateField('discounts', updatedDiscounts);\n    };\n    var removeDiscount = function (discountId) {\n        var updatedDiscounts = currentInvoice.discounts.filter(function (discount) { return discount.id !== discountId; });\n        updateField('discounts', updatedDiscounts);\n    };\n    // Fee management\n    var addFee = function () {\n        var newFee = {\n            id: uuidv4(),\n            label: 'Fee',\n            type: 'percent',\n            value: 0,\n            applyBase: 'subtotal_after_item_discounts'\n        };\n        updateField('fees', __spreadArray(__spreadArray([], currentInvoice.fees, true), [newFee], false));\n    };\n    var updateFee = function (feeId, field, value) {\n        var updatedFees = currentInvoice.fees.map(function (fee) {\n            var _a;\n            return fee.id === feeId ? __assign(__assign({}, fee), (_a = {}, _a[field] = value, _a)) : fee;\n        });\n        updateField('fees', updatedFees);\n    };\n    var removeFee = function (feeId) {\n        var updatedFees = currentInvoice.fees.filter(function (fee) { return fee.id !== feeId; });\n        updateField('fees', updatedFees);\n    };\n    // Tax management\n    var addTax = function () {\n        var newTax = {\n            id: uuidv4(),\n            label: 'Tax',\n            rate: 0,\n            category: 'standard',\n            priority: currentInvoice.taxes.length + 1,\n            applyAfterDiscounts: true\n        };\n        updateField('taxes', __spreadArray(__spreadArray([], currentInvoice.taxes, true), [newTax], false));\n    };\n    var updateTax = function (taxId, field, value) {\n        var updatedTaxes = currentInvoice.taxes.map(function (tax) {\n            var _a;\n            return tax.id === taxId ? __assign(__assign({}, tax), (_a = {}, _a[field] = value, _a)) : tax;\n        });\n        updateField('taxes', updatedTaxes);\n    };\n    var removeTax = function (taxId) {\n        var updatedTaxes = currentInvoice.taxes.filter(function (tax) { return tax.id !== taxId; });\n        updateField('taxes', updatedTaxes);\n    };\n    // Payment management\n    var addPayment = function () {\n        var newPayment = {\n            id: uuidv4(),\n            date: format(new Date(), 'yyyy-MM-dd'),\n            method: 'Cash',\n            amount: 0\n        };\n        updateField('payments', __spreadArray(__spreadArray([], currentInvoice.payments, true), [newPayment], false));\n    };\n    var updatePayment = function (paymentId, field, value) {\n        var updatedPayments = currentInvoice.payments.map(function (payment) {\n            var _a;\n            return payment.id === paymentId ? __assign(__assign({}, payment), (_a = {}, _a[field] = value, _a)) : payment;\n        });\n        updateField('payments', updatedPayments);\n    };\n    var removePayment = function (paymentId) {\n        var updatedPayments = currentInvoice.payments.filter(function (payment) { return payment.id !== paymentId; });\n        updateField('payments', updatedPayments);\n    };\n    return (_jsxs(\"div\", { className: \"p-6 space-y-6\", children: [_jsx(\"div\", { className: \"border-b border-gray-200\", children: _jsx(\"nav\", { className: \"-mb-px flex space-x-4\", children: [\n                        { id: 'business', label: 'Business' },\n                        { id: 'client', label: 'Client' },\n                        { id: 'meta', label: 'Invoice' },\n                        { id: 'items', label: 'Items' },\n                        { id: 'taxes', label: 'Taxes & Fees' },\n                        { id: 'payments', label: 'Payments' },\n                        { id: 'notes', label: 'Notes' }\n                    ].map(function (section) { return (_jsx(\"button\", { onClick: function () { return setActiveSection(section.id); }, className: \"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeSection === section.id\n                            ? 'border-blue-500 text-blue-600'\n                            : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'), children: section.label }, section.id)); }) }) }), activeSection === 'business' && businessProfile && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Business Profile\" }), _jsxs(\"div\", { className: \"grid grid-cols-1 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Business Name\" }), _jsx(\"input\", { type: \"text\", value: businessProfile.name, onChange: function (e) { return updateBusinessProfile({ id: 'default', name: e.target.value }); }, className: \"form-input\", placeholder: \"Your Company LLC\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Address\" }), _jsx(\"textarea\", { value: businessProfile.address, onChange: function (e) { return updateBusinessProfile({ id: 'default', address: e.target.value }); }, className: \"form-textarea\", rows: 3, placeholder: \"100 Main St, City, ST 00000\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Email\" }), _jsx(\"input\", { type: \"email\", value: businessProfile.email, onChange: function (e) { return updateBusinessProfile({ id: 'default', email: e.target.value }); }, className: \"form-input\", placeholder: \"billing@yourco.com\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Phone\" }), _jsx(\"input\", { type: \"tel\", value: businessProfile.phone, onChange: function (e) { return updateBusinessProfile({ id: 'default', phone: e.target.value }); }, className: \"form-input\", placeholder: \"555-555-5555\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Tax ID\" }), _jsx(\"input\", { type: \"text\", value: businessProfile.taxId, onChange: function (e) { return updateBusinessProfile({ id: 'default', taxId: e.target.value }); }, className: \"form-input\", placeholder: \"XX-XXXXXXX\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Brand Color\" }), _jsx(\"input\", { type: \"color\", value: businessProfile.color, onChange: function (e) { return updateBusinessProfile({ id: 'default', color: e.target.value }); }, className: \"form-input h-10\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Bank Details\" }), _jsx(\"input\", { type: \"text\", value: businessProfile.bankDetails, onChange: function (e) { return updateBusinessProfile({ id: 'default', bankDetails: e.target.value }); }, className: \"form-input\", placeholder: \"Routing 000000000 | Account 00000000\" })] }), _jsx(\"button\", { onClick: saveBusinessProfile, className: \"btn-primary\", children: \"Save Business Profile\" })] })] })), activeSection === 'client' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Client Information\" }), _jsxs(\"div\", { className: \"grid grid-cols-1 gap-4\", children: [_jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Client Name\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.client.name, onChange: function (e) { return updateNestedField('client', 'name', e.target.value); }, className: \"form-input\", placeholder: \"John Doe\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Company\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.client.company, onChange: function (e) { return updateNestedField('client', 'company', e.target.value); }, className: \"form-input\", placeholder: \"Acme Inc.\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Email\" }), _jsx(\"input\", { type: \"email\", value: currentInvoice.client.email, onChange: function (e) { return updateNestedField('client', 'email', e.target.value); }, className: \"form-input\", placeholder: \"billing@acme.com\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Phone\" }), _jsx(\"input\", { type: \"tel\", value: currentInvoice.client.phone, onChange: function (e) { return updateNestedField('client', 'phone', e.target.value); }, className: \"form-input\", placeholder: \"555-555-5555\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Billing Address\" }), _jsx(\"textarea\", { value: currentInvoice.client.billingAddress, onChange: function (e) { return updateNestedField('client', 'billingAddress', e.target.value); }, className: \"form-textarea\", rows: 3, placeholder: \"123 Main St, City, ST 00000\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Shipping Address\" }), _jsx(\"textarea\", { value: currentInvoice.client.shippingAddress, onChange: function (e) { return updateNestedField('client', 'shippingAddress', e.target.value); }, className: \"form-textarea\", rows: 3, placeholder: \"Same as billing address\" })] })] })] })), activeSection === 'meta' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Invoice Details\" }), _jsxs(\"div\", { className: \"grid grid-cols-1 gap-4\", children: [_jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Invoice Number\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.invoiceNumber, onChange: function (e) { return updateField('invoiceNumber', e.target.value); }, className: \"form-input\", placeholder: \"INV-2025-00001\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"PO Number\" }), _jsx(\"input\", { type: \"text\", value: currentInvoice.poNumber, onChange: function (e) { return updateField('poNumber', e.target.value); }, className: \"form-input\", placeholder: \"PO-7788\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Issue Date\" }), _jsx(\"input\", { type: \"date\", value: currentInvoice.issueDate, onChange: function (e) { return updateField('issueDate', e.target.value); }, className: \"form-input\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Due Date\" }), _jsx(\"input\", { type: \"date\", value: currentInvoice.dueDate, onChange: function (e) { return updateField('dueDate', e.target.value); }, className: \"form-input\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Payment Terms\" }), _jsxs(\"select\", { value: currentInvoice.paymentTerms, onChange: function (e) { return updateField('paymentTerms', e.target.value); }, className: \"form-select\", children: [_jsx(\"option\", { value: \"NET_0\", children: \"Due on Receipt\" }), _jsx(\"option\", { value: \"NET_7\", children: \"Net 7 Days\" }), _jsx(\"option\", { value: \"NET_14\", children: \"Net 14 Days\" }), _jsx(\"option\", { value: \"NET_15\", children: \"Net 15 Days\" }), _jsx(\"option\", { value: \"NET_30\", children: \"Net 30 Days\" }), _jsx(\"option\", { value: \"NET_45\", children: \"Net 45 Days\" }), _jsx(\"option\", { value: \"NET_60\", children: \"Net 60 Days\" }), _jsx(\"option\", { value: \"NET_90\", children: \"Net 90 Days\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-1\", children: \"Currency\" }), _jsxs(\"select\", { value: currentInvoice.currency, onChange: function (e) { return updateField('currency', e.target.value); }, className: \"form-select\", children: [_jsx(\"option\", { value: \"USD\", children: \"USD ($)\" }), _jsx(\"option\", { value: \"EUR\", children: \"EUR (\\u20AC)\" }), _jsx(\"option\", { value: \"GBP\", children: \"GBP (\\u00A3)\" }), _jsx(\"option\", { value: \"CAD\", children: \"CAD ($)\" }), _jsx(\"option\", { value: \"AUD\", children: \"AUD ($)\" })] })] })] })] })] })), activeSection === 'items' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Line Items\" }), _jsx(\"button\", { onClick: addItem, className: \"btn-primary text-sm\", children: \"+ Add Item\" })] }), _jsxs(\"div\", { className: \"space-y-4\", children: [currentInvoice.items.map(function (item, index) {\n                                var _a;\n                                return (_jsxs(\"div\", { className: \"border border-gray-200 rounded-lg p-4 space-y-3\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"span\", { className: \"text-sm font-medium text-gray-500\", children: [\"Item #\", index + 1] }), _jsxs(\"div\", { className: \"flex space-x-2\", children: [_jsx(\"button\", { onClick: function () { return duplicateItem(item.id); }, className: \"text-sm text-blue-600 hover:text-blue-800\", children: \"Duplicate\" }), _jsx(\"button\", { onClick: function () { return removeItem(item.id); }, className: \"text-sm text-red-600 hover:text-red-800\", children: \"Remove\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Item Name\" }), _jsx(\"input\", { type: \"text\", value: item.name, onChange: function (e) { return updateItem(item.id, 'name', e.target.value); }, className: \"form-input text-sm\", placeholder: \"Design Service\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"SKU\" }), _jsx(\"input\", { type: \"text\", value: item.sku, onChange: function (e) { return updateItem(item.id, 'sku', e.target.value); }, className: \"form-input text-sm\", placeholder: \"SERV-001\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Description\" }), _jsx(\"textarea\", { value: item.description, onChange: function (e) { return updateItem(item.id, 'description', e.target.value); }, className: \"form-textarea text-sm\", rows: 2, placeholder: \"Homepage + 3 inner pages\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-3 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Quantity\" }), _jsx(\"input\", { type: \"number\", value: item.quantity, onChange: function (e) { return updateItem(item.id, 'quantity', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm\", min: \"0\", step: \"0.01\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Unit Price\" }), _jsx(\"input\", { type: \"number\", value: item.unitPrice, onChange: function (e) { return updateItem(item.id, 'unitPrice', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm\", min: \"0\", step: \"0.01\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Tax Category\" }), _jsxs(\"select\", { value: item.taxCategory, onChange: function (e) { return updateItem(item.id, 'taxCategory', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"standard\", children: \"Standard\" }), _jsx(\"option\", { value: \"reduced\", children: \"Reduced\" }), _jsx(\"option\", { value: \"exempt\", children: \"Exempt\" })] })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Discount Type\" }), _jsxs(\"select\", { value: ((_a = item.discount) === null || _a === void 0 ? void 0 : _a.type) || '', onChange: function (e) {\n                                                                var _a;\n                                                                if (e.target.value === '') {\n                                                                    updateItem(item.id, 'discount', null);\n                                                                }\n                                                                else {\n                                                                    updateItem(item.id, 'discount', {\n                                                                        type: e.target.value,\n                                                                        value: ((_a = item.discount) === null || _a === void 0 ? void 0 : _a.value) || 0\n                                                                    });\n                                                                }\n                                                            }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"\", children: \"No Discount\" }), _jsx(\"option\", { value: \"percent\", children: \"Percentage\" }), _jsx(\"option\", { value: \"fixed\", children: \"Fixed Amount\" })] })] }), item.discount && (_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Discount Value\" }), _jsx(\"input\", { type: \"number\", value: item.discount.value, onChange: function (e) { return updateItem(item.id, 'discount', __assign(__assign({}, item.discount), { value: parseFloat(e.target.value) || 0 })); }, className: \"form-input text-sm\", min: \"0\", step: \"0.01\" })] }))] })] }, item.id));\n                            }), currentInvoice.items.length === 0 && (_jsxs(\"div\", { className: \"text-center py-8 text-gray-500\", children: [_jsx(\"p\", { children: \"No items added yet.\" }), _jsx(\"button\", { onClick: addItem, className: \"btn-primary mt-2\", children: \"Add Your First Item\" })] }))] })] })), activeSection === 'taxes' && (_jsxs(\"div\", { className: \"space-y-6\", children: [_jsxs(\"div\", { children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"h4\", { className: \"text-md font-semibold text-gray-800\", children: \"Invoice Discounts\" }), _jsx(\"button\", { onClick: addDiscount, className: \"btn-secondary text-sm\", children: \"+ Add Discount\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.discounts.map(function (discount) { return (_jsxs(\"div\", { className: \"flex items-center space-x-3 p-3 border border-gray-200 rounded\", children: [_jsx(\"input\", { type: \"text\", value: discount.label, onChange: function (e) { return updateDiscount(discount.id, 'label', e.target.value); }, className: \"form-input text-sm flex-1\", placeholder: \"Discount name\" }), _jsxs(\"select\", { value: discount.type, onChange: function (e) { return updateDiscount(discount.id, 'type', e.target.value); }, className: \"form-select text-sm w-24\", children: [_jsx(\"option\", { value: \"percent\", children: \"%\" }), _jsx(\"option\", { value: \"fixed\", children: \"$\" })] }), _jsx(\"input\", { type: \"number\", value: discount.value, onChange: function (e) { return updateDiscount(discount.id, 'value', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm w-20\", min: \"0\", step: \"0.01\" }), _jsx(\"button\", { onClick: function () { return removeDiscount(discount.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }, discount.id)); }) })] }), _jsxs(\"div\", { children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"h4\", { className: \"text-md font-semibold text-gray-800\", children: \"Fees\" }), _jsx(\"button\", { onClick: addFee, className: \"btn-secondary text-sm\", children: \"+ Add Fee\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.fees.map(function (fee) { return (_jsxs(\"div\", { className: \"space-y-3 p-3 border border-gray-200 rounded\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-3\", children: [_jsx(\"input\", { type: \"text\", value: fee.label, onChange: function (e) { return updateFee(fee.id, 'label', e.target.value); }, className: \"form-input text-sm flex-1\", placeholder: \"Fee name\" }), _jsxs(\"select\", { value: fee.type, onChange: function (e) { return updateFee(fee.id, 'type', e.target.value); }, className: \"form-select text-sm w-24\", children: [_jsx(\"option\", { value: \"percent\", children: \"%\" }), _jsx(\"option\", { value: \"fixed\", children: \"$\" })] }), _jsx(\"input\", { type: \"number\", value: fee.value, onChange: function (e) { return updateFee(fee.id, 'value', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm w-20\", min: \"0\", step: \"0.01\" }), _jsx(\"button\", { onClick: function () { return removeFee(fee.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Apply To\" }), _jsxs(\"select\", { value: fee.applyBase, onChange: function (e) { return updateFee(fee.id, 'applyBase', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"subtotal\", children: \"Subtotal\" }), _jsx(\"option\", { value: \"subtotal_after_item_discounts\", children: \"Subtotal After Item Discounts\" }), _jsx(\"option\", { value: \"subtotal_after_invoice_discounts\", children: \"Subtotal After All Discounts\" }), _jsx(\"option\", { value: \"grand_total_pre_tax\", children: \"Grand Total (Pre-Tax)\" })] })] })] }, fee.id)); }) })] }), _jsxs(\"div\", { children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"h4\", { className: \"text-md font-semibold text-gray-800\", children: \"Taxes\" }), _jsx(\"button\", { onClick: addTax, className: \"btn-secondary text-sm\", children: \"+ Add Tax\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.taxes.map(function (tax) { return (_jsxs(\"div\", { className: \"space-y-3 p-3 border border-gray-200 rounded\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-3\", children: [_jsx(\"input\", { type: \"text\", value: tax.label, onChange: function (e) { return updateTax(tax.id, 'label', e.target.value); }, className: \"form-input text-sm flex-1\", placeholder: \"Tax name\" }), _jsxs(\"div\", { className: \"flex items-center space-x-1\", children: [_jsx(\"input\", { type: \"number\", value: tax.rate, onChange: function (e) { return updateTax(tax.id, 'rate', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm w-20\", min: \"0\", step: \"0.01\" }), _jsx(\"span\", { className: \"text-sm text-gray-500\", children: \"%\" })] }), _jsx(\"button\", { onClick: function () { return removeTax(tax.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-3 gap-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Category\" }), _jsxs(\"select\", { value: tax.category, onChange: function (e) { return updateTax(tax.id, 'category', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"standard\", children: \"Standard\" }), _jsx(\"option\", { value: \"reduced\", children: \"Reduced\" }), _jsx(\"option\", { value: \"all\", children: \"All Items\" })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-xs font-medium text-gray-700 mb-1\", children: \"Priority\" }), _jsx(\"input\", { type: \"number\", value: tax.priority, onChange: function (e) { return updateTax(tax.id, 'priority', parseInt(e.target.value) || 1); }, className: \"form-input text-sm\", min: \"1\" })] }), _jsx(\"div\", { className: \"flex items-center pt-6\", children: _jsxs(\"label\", { className: \"flex items-center text-sm\", children: [_jsx(\"input\", { type: \"checkbox\", checked: tax.applyAfterDiscounts, onChange: function (e) { return updateTax(tax.id, 'applyAfterDiscounts', e.target.checked); }, className: \"mr-2\" }), \"After Discounts\"] }) })] })] }, tax.id)); }) })] })] })), activeSection === 'payments' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Payments\" }), _jsx(\"button\", { onClick: addPayment, className: \"btn-secondary text-sm\", children: \"+ Add Payment\" })] }), _jsx(\"div\", { className: \"space-y-3\", children: currentInvoice.payments.map(function (payment) { return (_jsxs(\"div\", { className: \"flex items-center space-x-3 p-3 border border-gray-200 rounded\", children: [_jsx(\"input\", { type: \"date\", value: payment.date, onChange: function (e) { return updatePayment(payment.id, 'date', e.target.value); }, className: \"form-input text-sm\" }), _jsxs(\"select\", { value: payment.method, onChange: function (e) { return updatePayment(payment.id, 'method', e.target.value); }, className: \"form-select text-sm\", children: [_jsx(\"option\", { value: \"Cash\", children: \"Cash\" }), _jsx(\"option\", { value: \"Check\", children: \"Check\" }), _jsx(\"option\", { value: \"Card\", children: \"Credit Card\" }), _jsx(\"option\", { value: \"Bank Transfer\", children: \"Bank Transfer\" }), _jsx(\"option\", { value: \"PayPal\", children: \"PayPal\" }), _jsx(\"option\", { value: \"Other\", children: \"Other\" })] }), _jsx(\"input\", { type: \"number\", value: payment.amount, onChange: function (e) { return updatePayment(payment.id, 'amount', parseFloat(e.target.value) || 0); }, className: \"form-input text-sm w-24\", min: \"0\", step: \"0.01\", placeholder: \"Amount\" }), _jsx(\"button\", { onClick: function () { return removePayment(payment.id); }, className: \"text-red-600 hover:text-red-800 text-sm\", children: \"Remove\" })] }, payment.id)); }) })] })), activeSection === 'notes' && (_jsxs(\"div\", { className: \"space-y-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Notes & Terms\" }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Notes to Client\" }), _jsx(\"textarea\", { value: currentInvoice.notes, onChange: function (e) { return updateField('notes', e.target.value); }, className: \"form-textarea\", rows: 4, placeholder: \"Thank you for your business!\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Terms & Conditions\" }), _jsx(\"textarea\", { value: currentInvoice.terms, onChange: function (e) { return updateField('terms', e.target.value); }, className: \"form-textarea\", rows: 4, placeholder: \"Payment due within 14 days. Late payments may incur additional charges.\" })] })] }))] }));\n};\nexport default InvoiceForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Mustache from 'mustache';\nimport { formatCurrency, calculateItemTotal, calculateItemDiscount } from './calculations';\n/**\n * Prepare data for template rendering\n */\nexport var prepareTemplateData = function (invoice, template, businessProfile) {\n    // Prepare items with calculated values\n    var itemsWithCalculations = invoice.items.map(function (item) { return (__assign(__assign({}, item), { calculatedLineTotal: formatCurrency(calculateItemTotal(item), invoice.currency, invoice.locale), calculatedDiscount: item.discount ? formatCurrency(calculateItemDiscount(item), invoice.currency, invoice.locale) : '', formattedUnitPrice: formatCurrency(item.unitPrice, invoice.currency, invoice.locale), formattedQuantity: item.quantity.toString(), discountDisplay: item.discount\n            ? \"\".concat(item.discount.type === 'percent' ? item.discount.value + '%' : formatCurrency(item.discount.value, invoice.currency, invoice.locale))\n            : '' })); });\n    // Prepare totals with currency formatting\n    var formattedTotals = {\n        subtotal: formatCurrency(invoice.totals.subtotal, invoice.currency, invoice.locale),\n        itemDiscounts: formatCurrency(invoice.totals.itemDiscounts, invoice.currency, invoice.locale),\n        invoiceDiscounts: formatCurrency(invoice.totals.invoiceDiscounts, invoice.currency, invoice.locale),\n        fees: formatCurrency(invoice.totals.fees, invoice.currency, invoice.locale),\n        tax: formatCurrency(invoice.totals.tax, invoice.currency, invoice.locale),\n        grandTotal: formatCurrency(invoice.totals.grandTotal, invoice.currency, invoice.locale),\n        paid: formatCurrency(invoice.totals.paid, invoice.currency, invoice.locale),\n        balanceDue: formatCurrency(invoice.totals.balanceDue, invoice.currency, invoice.locale)\n    };\n    // Prepare fees with formatting\n    var formattedFees = invoice.fees.map(function (fee) { return (__assign(__assign({}, fee), { formattedValue: fee.type === 'percent'\n            ? \"\".concat(fee.value, \"%\")\n            : formatCurrency(fee.value, invoice.currency, invoice.locale) })); });\n    // Prepare taxes with formatting\n    var formattedTaxes = invoice.taxes.map(function (tax) { return (__assign(__assign({}, tax), { formattedRate: \"\".concat(tax.rate, \"%\") })); });\n    // Prepare payments with formatting\n    var formattedPayments = invoice.payments.map(function (payment) { return (__assign(__assign({}, payment), { formattedAmount: formatCurrency(payment.amount, invoice.currency, invoice.locale), formattedDate: new Date(payment.date).toLocaleDateString(invoice.locale) })); });\n    // Prepare discounts with formatting\n    var formattedDiscounts = invoice.discounts.map(function (discount) { return (__assign(__assign({}, discount), { formattedValue: discount.type === 'percent'\n            ? \"\".concat(discount.value, \"%\")\n            : formatCurrency(discount.value, invoice.currency, invoice.locale) })); });\n    // Format dates\n    var formattedIssueDate = new Date(invoice.issueDate).toLocaleDateString(invoice.locale);\n    var formattedDueDate = new Date(invoice.dueDate).toLocaleDateString(invoice.locale);\n    return {\n        invoice: __assign(__assign({}, invoice), { formattedIssueDate: formattedIssueDate, formattedDueDate: formattedDueDate, paymentTermsDisplay: getPaymentTermsDisplay(invoice.paymentTerms) }),\n        business: businessProfile,\n        client: invoice.client,\n        brand: template.brand,\n        layout: template.layout,\n        items: itemsWithCalculations,\n        fees: formattedFees,\n        taxes: formattedTaxes,\n        payments: formattedPayments,\n        discounts: formattedDiscounts,\n        totals: formattedTotals,\n        // Helper functions for templates\n        helpers: {\n            formatCurrency: function (amount) { return formatCurrency(amount, invoice.currency, invoice.locale); },\n            formatDate: function (date) { return new Date(date).toLocaleDateString(invoice.locale); },\n            formatPercentage: function (value) { return \"\".concat(value, \"%\"); }\n        }\n    };\n};\n/**\n * Render template with data\n */\nexport var renderTemplate = function (template, data) {\n    try {\n        // Parse template to validate syntax before rendering\n        Mustache.parse(template.html);\n        // Disable HTML escaping for currency symbols and HTML content\n        var rendered = Mustache.render(template.html, data, {}, {\n            escape: function (text) { return text; } // Disable escaping\n        });\n        return rendered;\n    }\n    catch (error) {\n        console.error('Error rendering template:', error);\n        console.error('Template HTML length:', template.html.length);\n        console.error('Error position:', error.message);\n        return \"<div class=\\\"error\\\">Error rendering template: \".concat(error.message, \"</div>\");\n    }\n};\n/**\n * Generate complete HTML for PDF export\n */\nexport var generateInvoiceHTML = function (invoice, template, businessProfile) {\n    var data = prepareTemplateData(invoice, template, businessProfile);\n    var renderedContent = renderTemplate(template, data);\n    // Wrap in complete HTML document with styles\n    return \"<!DOCTYPE html>\\n<html lang=\\\"\".concat(invoice.locale, \"\\\">\\n<head>\\n  <meta charset=\\\"UTF-8\\\">\\n  <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n  <title>Invoice \").concat(invoice.invoiceNumber, \"</title>\\n  <style>\\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Slab:wght@300;400;500;600;700&display=swap');\\n    \\n    * {\\n      box-sizing: border-box;\\n      margin: 0;\\n      padding: 0;\\n    }\\n    \\n    body {\\n      font-family: '\").concat(template.brand.fontFamilyBody, \"', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\\n      font-size: 14px;\\n      line-height: 1.5;\\n      color: #1f2937;\\n      background: white;\\n      -webkit-print-color-adjust: exact;\\n    }\\n    \\n    .invoice {\\n      max-width: 8.5in;\\n      margin: 0 auto;\\n      padding: \").concat(template.layout.margins.top, \"px \").concat(template.layout.margins.right, \"px \").concat(template.layout.margins.bottom, \"px \").concat(template.layout.margins.left, \"px;\\n      background: white;\\n    }\\n    \\n    h1, h2, h3, h4, h5, h6 {\\n      font-family: '\").concat(template.brand.fontFamilyHeader, \"', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\\n    }\\n    \\n    table {\\n      width: 100%;\\n      border-collapse: collapse;\\n      margin: 1rem 0;\\n    }\\n    \\n    th, td {\\n      padding: 8px 12px;\\n      text-align: left;\\n      border-bottom: 1px solid #e5e7eb;\\n    }\\n    \\n    th {\\n      background-color: #f9fafb;\\n      font-weight: 600;\\n      border-bottom: 2px solid #d1d5db;\\n    }\\n    \\n    .text-right {\\n      text-align: right;\\n    }\\n    \\n    .text-center {\\n      text-align: center;\\n    }\\n    \\n    .font-bold {\\n      font-weight: 700;\\n    }\\n    \\n    .font-semibold {\\n      font-weight: 600;\\n    }\\n    \\n    .text-lg {\\n      font-size: 1.125rem;\\n    }\\n    \\n    .text-xl {\\n      font-size: 1.25rem;\\n    }\\n    \\n    .text-2xl {\\n      font-size: 1.5rem;\\n    }\\n    \\n    .mb-2 {\\n      margin-bottom: 0.5rem;\\n    }\\n    \\n    .mb-4 {\\n      margin-bottom: 1rem;\\n    }\\n    \\n    .mb-6 {\\n      margin-bottom: 1.5rem;\\n    }\\n    \\n    .mb-8 {\\n      margin-bottom: 2rem;\\n    }\\n    \\n    .mt-4 {\\n      margin-top: 1rem;\\n    }\\n    \\n    .mt-8 {\\n      margin-top: 2rem;\\n    }\\n    \\n    .flex {\\n      display: flex;\\n    }\\n    \\n    .items-start {\\n      align-items: flex-start;\\n    }\\n    \\n    .items-center {\\n      align-items: center;\\n    }\\n    \\n    .justify-between {\\n      justify-content: space-between;\\n    }\\n    \\n    .gap-4 {\\n      gap: 1rem;\\n    }\\n    \\n    .gap-6 {\\n      gap: 1.5rem;\\n    }\\n    \\n    .grid {\\n      display: grid;\\n    }\\n    \\n    .grid-cols-2 {\\n      grid-template-columns: repeat(2, minmax(0, 1fr));\\n    }\\n    \\n    .border-t {\\n      border-top: 1px solid #e5e7eb;\\n    }\\n    \\n    .border-b {\\n      border-bottom: 1px solid #e5e7eb;\\n    }\\n    \\n    .pt-4 {\\n      padding-top: 1rem;\\n    }\\n    \\n    .pb-4 {\\n      padding-bottom: 1rem;\\n    }\\n    \\n    @media print {\\n      .invoice {\\n        margin: 0;\\n        padding: 0.5in;\\n        box-shadow: none;\\n        border: none;\\n      }\\n      \\n      .page-break {\\n        page-break-before: always;\\n      }\\n      \\n      table {\\n        page-break-inside: avoid;\\n      }\\n      \\n      tr {\\n        page-break-inside: avoid;\\n      }\\n    }\\n    \\n    \").concat(template.css, \"\\n  </style>\\n</head>\\n<body>\\n  \").concat(renderedContent, \"\\n</body>\\n</html>\");\n};\n/**\n * Get display text for payment terms\n */\nvar getPaymentTermsDisplay = function (paymentTerms) {\n    var termsMap = {\n        'NET_0': 'Payment due upon receipt',\n        'NET_7': 'Payment due within 7 days',\n        'NET_14': 'Payment due within 14 days',\n        'NET_15': 'Payment due within 15 days',\n        'NET_30': 'Payment due within 30 days',\n        'NET_45': 'Payment due within 45 days',\n        'NET_60': 'Payment due within 60 days',\n        'NET_90': 'Payment due within 90 days'\n    };\n    return termsMap[paymentTerms] || paymentTerms;\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { prepareTemplateData, renderTemplate } from '../utils/templateRenderer';\nvar InvoicePreview = function () {\n    var _a;\n    var _b = useInvoiceStore(), currentInvoice = _b.currentInvoice, templates = _b.templates, businessProfiles = _b.businessProfiles;\n    var _c = useState(100), zoom = _c[0], setZoom = _c[1];\n    var _d = useState(''), renderedHTML = _d[0], setRenderedHTML = _d[1];\n    useEffect(function () {\n        if (currentInvoice && templates.length > 0 && businessProfiles.length > 0) {\n            var template = templates.find(function (t) { return t.id === currentInvoice.templateId; }) || templates[0];\n            var businessProfile = businessProfiles[0];\n            try {\n                var data = prepareTemplateData(currentInvoice, template, businessProfile);\n                var rendered = renderTemplate(template, data);\n                setRenderedHTML(rendered);\n            }\n            catch (error) {\n                console.error('Error rendering template:', error);\n                setRenderedHTML('<div class=\"error\">Error rendering invoice preview</div>');\n            }\n        }\n    }, [currentInvoice, templates, businessProfiles]);\n    if (!currentInvoice) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-full bg-white rounded-lg shadow\", children: _jsx(\"div\", { className: \"text-center text-gray-500\", children: _jsx(\"p\", { children: \"No invoice selected\" }) }) }));\n    }\n    var handleZoomChange = function (newZoom) {\n        setZoom(Math.max(50, Math.min(200, newZoom)));\n    };\n    return (_jsxs(\"div\", { className: \"h-full flex flex-col bg-white rounded-lg shadow\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-gray-800\", children: \"Live Preview\" }), _jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"span\", { className: \"text-sm text-gray-600\", children: \"Zoom:\" }), _jsx(\"button\", { onClick: function () { return handleZoomChange(zoom - 10); }, className: \"p-1 text-gray-600 hover:text-gray-800\", disabled: zoom <= 50, children: \"-\" }), _jsxs(\"span\", { className: \"text-sm font-medium w-12 text-center\", children: [zoom, \"%\"] }), _jsx(\"button\", { onClick: function () { return handleZoomChange(zoom + 10); }, className: \"p-1 text-gray-600 hover:text-gray-800\", disabled: zoom >= 200, children: \"+\" }), _jsx(\"button\", { onClick: function () { return setZoom(100); }, className: \"px-2 py-1 text-xs text-gray-600 hover:text-gray-800 border border-gray-300 rounded\", children: \"Reset\" })] })] }), _jsxs(\"div\", { className: \"flex items-center space-x-2 text-sm text-gray-600\", children: [_jsxs(\"span\", { children: [\"Invoice #\", currentInvoice.invoiceNumber] }), _jsx(\"span\", { children: \"\\u2022\" }), _jsx(\"span\", { children: currentInvoice.currency }), _jsx(\"span\", { children: \"\\u2022\" }), _jsxs(\"span\", { children: [\"Updated: \", new Date(currentInvoice.updatedAt).toLocaleString()] })] })] }), _jsx(\"div\", { className: \"flex-1 overflow-auto p-4 bg-gray-100\", children: _jsx(\"div\", { className: \"invoice-preview mx-auto bg-white shadow-lg\", style: {\n                        transform: \"scale(\".concat(zoom / 100, \")\"),\n                        transformOrigin: 'top center',\n                        width: '8.5in',\n                        minHeight: '11in',\n                        padding: '0.5in'\n                    }, children: renderedHTML ? (_jsx(\"div\", { dangerouslySetInnerHTML: { __html: renderedHTML } })) : (_jsx(\"div\", { className: \"flex items-center justify-center h-64 text-gray-500\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"div\", { className: \"spinner mx-auto mb-4\" }), _jsx(\"p\", { children: \"Rendering invoice...\" })] }) })) }) }), _jsx(\"div\", { className: \"p-4 border-t border-gray-200 bg-gray-50\", children: _jsxs(\"div\", { className: \"flex items-center justify-between text-sm text-gray-600\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsxs(\"span\", { children: [\"Template: \", ((_a = templates.find(function (t) { return t.id === currentInvoice.templateId; })) === null || _a === void 0 ? void 0 : _a.name) || 'Unknown'] }), _jsx(\"span\", { children: \"\\u2022\" }), _jsx(\"span\", { children: \"Page: 1/1\" })] }), _jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"div\", { className: \"w-2 h-2 bg-green-500 rounded-full\" }), _jsx(\"span\", { children: \"Live updating\" })] })] }) })] }));\n};\nexport default InvoicePreview;\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { formatCurrency } from '../utils/calculations';\nvar CalculationSummary = function () {\n    var currentInvoice = useInvoiceStore().currentInvoice;\n    if (!currentInvoice) {\n        return (_jsxs(\"div\", { className: \"bg-gray-50 rounded-lg p-4 w-64\", children: [_jsx(\"h4\", { className: \"text-sm font-semibold text-gray-800 mb-2\", children: \"Invoice Summary\" }), _jsx(\"div\", { className: \"text-sm text-gray-500\", children: \"No invoice selected\" })] }));\n    }\n    var totals = currentInvoice.totals, currency = currentInvoice.currency, locale = currentInvoice.locale;\n    return (_jsxs(\"div\", { className: \"bg-gray-50 rounded-lg p-4 w-64\", children: [_jsx(\"h4\", { className: \"text-sm font-semibold text-gray-800 mb-3\", children: \"Invoice Summary\" }), _jsxs(\"div\", { className: \"space-y-2 text-sm\", children: [_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-gray-600\", children: \"Subtotal:\" }), _jsx(\"span\", { className: \"font-medium\", children: formatCurrency(totals.subtotal, currency, locale) })] }), totals.itemDiscounts > 0 && (_jsxs(\"div\", { className: \"flex justify-between text-green-600\", children: [_jsx(\"span\", { children: \"Item Discounts:\" }), _jsxs(\"span\", { children: [\"-\", formatCurrency(totals.itemDiscounts, currency, locale)] })] })), totals.invoiceDiscounts > 0 && (_jsxs(\"div\", { className: \"flex justify-between text-green-600\", children: [_jsx(\"span\", { children: \"Invoice Discounts:\" }), _jsxs(\"span\", { children: [\"-\", formatCurrency(totals.invoiceDiscounts, currency, locale)] })] })), totals.fees > 0 && (_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-gray-600\", children: \"Fees:\" }), _jsx(\"span\", { className: \"font-medium\", children: formatCurrency(totals.fees, currency, locale) })] })), totals.tax > 0 && (_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-gray-600\", children: \"Tax:\" }), _jsx(\"span\", { className: \"font-medium\", children: formatCurrency(totals.tax, currency, locale) })] })), _jsx(\"div\", { className: \"border-t border-gray-300 pt-2\", children: _jsxs(\"div\", { className: \"flex justify-between font-semibold\", children: [_jsx(\"span\", { children: \"Total:\" }), _jsx(\"span\", { children: formatCurrency(totals.grandTotal, currency, locale) })] }) }), totals.paid > 0 && (_jsxs(_Fragment, { children: [_jsxs(\"div\", { className: \"flex justify-between text-blue-600\", children: [_jsx(\"span\", { children: \"Paid:\" }), _jsxs(\"span\", { children: [\"-\", formatCurrency(totals.paid, currency, locale)] })] }), _jsxs(\"div\", { className: \"flex justify-between font-semibold text-lg\", children: [_jsx(\"span\", { children: \"Balance Due:\" }), _jsx(\"span\", { className: totals.balanceDue > 0 ? 'text-red-600' : 'text-green-600', children: formatCurrency(totals.balanceDue, currency, locale) })] })] })), currentInvoice.items.length > 0 && (_jsxs(\"div\", { className: \"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500\", children: [_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { children: \"Items:\" }), _jsx(\"span\", { children: currentInvoice.items.length })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { children: \"Total Qty:\" }), _jsx(\"span\", { children: currentInvoice.items.reduce(function (sum, item) { return sum + item.quantity; }, 0) })] })] }))] })] }));\n};\nexport default CalculationSummary;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nvar TemplateSelector = function (_a) {\n    var onClose = _a.onClose, onSelect = _a.onSelect;\n    var _b = useInvoiceStore(), templates = _b.templates, currentInvoice = _b.currentInvoice, updateInvoice = _b.updateInvoice, deleteTemplate = _b.deleteTemplate;\n    var _c = useState((currentInvoice === null || currentInvoice === void 0 ? void 0 : currentInvoice.templateId) || ''), selectedTemplate = _c[0], setSelectedTemplate = _c[1];\n    var handleSelect = function () {\n        if (selectedTemplate && currentInvoice) {\n            updateInvoice({ templateId: selectedTemplate });\n            onSelect(selectedTemplate);\n        }\n    };\n    var handleDelete = function (templateId, e) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    e.stopPropagation();\n                    if (!window.confirm('Are you sure you want to delete this template?')) return [3 /*break*/, 2];\n                    return [4 /*yield*/, deleteTemplate(templateId)];\n                case 1:\n                    _a.sent();\n                    _a.label = 2;\n                case 2: return [2 /*return*/];\n            }\n        });\n    }); };\n    return (_jsx(\"div\", { className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", children: _jsxs(\"div\", { className: \"bg-white rounded-lg shadow-xl w-4xl max-w-6xl max-h-5xl overflow-hidden\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between p-6 border-b border-gray-200\", children: [_jsx(\"h2\", { className: \"text-xl font-semibold text-gray-800\", children: \"Choose Invoice Template\" }), _jsx(\"button\", { onClick: onClose, className: \"text-gray-400 hover:text-gray-600 text-2xl font-light\", children: \"\\u00D7\" })] }), _jsxs(\"div\", { className: \"p-6 max-h-96 overflow-y-auto\", children: [_jsx(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\", children: templates.map(function (template) {\n                                var _a;\n                                return (_jsxs(\"div\", { className: \"relative border-2 rounded-lg p-4 cursor-pointer transition-all duration-200 \".concat(selectedTemplate === template.id\n                                        ? 'border-blue-500 bg-blue-50'\n                                        : 'border-gray-200 hover:border-gray-300 hover:shadow-md'), onClick: function () { return setSelectedTemplate(template.id); }, children: [_jsx(\"div\", { className: \"aspect-[8.5/11] bg-white border border-gray-200 rounded shadow-sm mb-3 overflow-hidden\", children: _jsxs(\"div\", { className: \"p-2 transform scale-50 origin-top-left w-[200%] h-[200%]\", children: [template.id === 'clean-professional' && (_jsxs(\"div\", { className: \"p-4 h-full\", children: [_jsxs(\"div\", { className: \"flex justify-between items-start mb-4\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"div\", { className: \"w-8 h-8 bg-gray-300 rounded\" }), _jsxs(\"div\", { children: [_jsx(\"div\", { className: \"h-3 bg-gray-800 w-20 mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-400 w-16\" })] })] }), _jsxs(\"div\", { className: \"text-right\", children: [_jsx(\"div\", { className: \"h-4 bg-blue-600 w-16 mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-400 w-12\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4 mb-4\", children: [_jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-3/4\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-1/2\" })] }), _jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-2/3\" })] })] }), _jsx(\"div\", { className: \"border-t border-gray-200 pt-2\", children: _jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-200 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200 w-4/5\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200 w-3/5\" })] }) })] })), template.id === 'modern-stripe' && (_jsxs(\"div\", { className: \"p-4 h-full\", children: [_jsx(\"div\", { className: \"h-8 bg-gradient-to-r from-blue-600 to-purple-600 mb-4 -mx-4 -mt-4\" }), _jsxs(\"div\", { className: \"flex justify-between items-start mb-4\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"div\", { className: \"w-6 h-6 bg-white border-2 border-blue-600 rounded\" }), _jsx(\"div\", { className: \"h-3 bg-gray-800 w-20\" })] }), _jsxs(\"div\", { className: \"text-right\", children: [_jsx(\"div\", { className: \"h-3 bg-white w-16 mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-12\" })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4 mb-4\", children: [_jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-3/4\" })] }), _jsxs(\"div\", { className: \"space-y-1\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-2/3\" })] })] }), _jsxs(\"div\", { className: \"bg-gray-50 p-2 -mx-4\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full mb-1\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-4/5\" })] })] })), template.id === 'compact-ledger' && (_jsxs(\"div\", { className: \"p-3 h-full text-xs\", children: [_jsxs(\"div\", { className: \"flex justify-between mb-2\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-800 w-16\" }), _jsx(\"div\", { className: \"h-2 bg-gray-600 w-12\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-3 gap-2 mb-2 text-xs\", children: [_jsxs(\"div\", { className: \"space-y-0.5\", children: [_jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-3/4\" })] }), _jsxs(\"div\", { className: \"space-y-0.5\", children: [_jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-2/3\" })] }), _jsxs(\"div\", { className: \"space-y-0.5\", children: [_jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-300 w-1/2\" })] })] }), _jsxs(\"div\", { className: \"border border-gray-200 mb-2\", children: [_jsxs(\"div\", { className: \"bg-gray-100 p-1 grid grid-cols-4 gap-1\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-400\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400\" })] }), _jsxs(\"div\", { className: \"p-1 space-y-0.5\", children: [_jsxs(\"div\", { className: \"grid grid-cols-4 gap-1\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-4 gap-1\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" }), _jsx(\"div\", { className: \"h-1 bg-gray-300\" })] })] })] }), _jsx(\"div\", { className: \"flex justify-end\", children: _jsxs(\"div\", { className: \"space-y-0.5 w-1/3\", children: [_jsx(\"div\", { className: \"h-1 bg-gray-400 w-full\" }), _jsx(\"div\", { className: \"h-1 bg-gray-400 w-3/4\" }), _jsx(\"div\", { className: \"h-1.5 bg-gray-600 w-full\" })] }) })] })), !['clean-professional', 'modern-stripe', 'compact-ledger'].includes(template.id) && (_jsxs(\"div\", { className: \"p-4 h-full\", children: [_jsxs(\"div\", { className: \"flex justify-between items-center mb-4\", children: [_jsx(\"div\", { className: \"h-3 bg-gray-800 w-24\" }), _jsx(\"div\", { className: \"h-3 bg-blue-600 w-16\" })] }), _jsxs(\"div\", { className: \"space-y-2 mb-4\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-300 w-full\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-3/4\" }), _jsx(\"div\", { className: \"h-2 bg-gray-300 w-1/2\" })] }), _jsx(\"div\", { className: \"border-t border-gray-200 pt-2\", children: _jsxs(\"div\", { className: \"grid grid-cols-3 gap-2\", children: [_jsx(\"div\", { className: \"h-2 bg-gray-200\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200\" }), _jsx(\"div\", { className: \"h-2 bg-gray-200\" })] }) })] }))] }) }), _jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"div\", { children: [_jsx(\"h3\", { className: \"font-medium text-gray-800 truncate\", children: template.name }), _jsx(\"p\", { className: \"text-sm text-gray-500\", children: ((_a = template.layout) === null || _a === void 0 ? void 0 : _a.headerStyle) || 'Custom layout' })] }), !['clean-professional', 'modern-stripe', 'compact-ledger'].includes(template.id) && (_jsx(\"button\", { onClick: function (e) { return handleDelete(template.id, e); }, className: \"p-1 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity\", title: \"Delete template\", children: _jsx(\"svg\", { className: \"w-4 h-4\", fill: \"currentColor\", viewBox: \"0 0 20 20\", children: _jsx(\"path\", { fillRule: \"evenodd\", d: \"M9 2a1 1 0 000 2h2a1 1 0 100-2H9zM4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v1H4V5zM3 8a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z\", clipRule: \"evenodd\" }) }) }))] }), selectedTemplate === template.id && (_jsx(\"div\", { className: \"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center\", children: _jsx(\"svg\", { className: \"w-4 h-4 text-white\", fill: \"currentColor\", viewBox: \"0 0 20 20\", children: _jsx(\"path\", { fillRule: \"evenodd\", d: \"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\", clipRule: \"evenodd\" }) }) }))] }, template.id));\n                            }) }), templates.length === 0 && (_jsx(\"div\", { className: \"text-center py-12 text-gray-500\", children: _jsx(\"p\", { children: \"No templates available\" }) }))] }), _jsxs(\"div\", { className: \"flex items-center justify-between p-6 border-t border-gray-200\", children: [_jsxs(\"div\", { className: \"text-sm text-gray-600\", children: [templates.length, \" template\", templates.length !== 1 ? 's' : '', \" available\"] }), _jsxs(\"div\", { className: \"flex space-x-3\", children: [_jsx(\"button\", { onClick: onClose, className: \"btn-secondary\", children: \"Cancel\" }), _jsx(\"button\", { onClick: handleSelect, disabled: !selectedTemplate, className: \"btn-primary\", children: \"Apply Template\" })] })] })] }) }));\n};\nexport default TemplateSelector;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useInvoiceStore } from '../store/useInvoiceStore';\nimport { exportToPDF } from '../utils/storage';\nimport { generateInvoiceHTML } from '../utils/templateRenderer';\nimport CalculationSummary from './CalculationSummary';\nimport TemplateSelector from './TemplateSelector';\nvar ActionBar = function () {\n    var _a = useInvoiceStore(), currentInvoice = _a.currentInvoice, templates = _a.templates, businessProfiles = _a.businessProfiles, saveInvoice = _a.saveInvoice, createNewInvoice = _a.createNewInvoice, duplicateInvoice = _a.duplicateInvoice, saveAsTemplate = _a.saveAsTemplate, hasUnsavedChanges = _a.hasUnsavedChanges, lastSaved = _a.lastSaved, isLoading = _a.isLoading, error = _a.error;\n    var _b = useState(false), isExporting = _b[0], setIsExporting = _b[1];\n    var _c = useState(false), showTemplateSelector = _c[0], setShowTemplateSelector = _c[1];\n    var _d = useState(false), showSaveTemplateDialog = _d[0], setShowSaveTemplateDialog = _d[1];\n    var _e = useState(''), templateName = _e[0], setTemplateName = _e[1];\n    var handleSave = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var success;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, saveInvoice()];\n                case 1:\n                    success = _a.sent();\n                    if (success) {\n                        // Show success feedback\n                        console.log('Invoice saved successfully');\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleExportPDF = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var template, businessProfile, htmlContent, filename, result, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!currentInvoice)\n                        return [2 /*return*/];\n                    setIsExporting(true);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, 4, 5]);\n                    template = templates.find(function (t) { return t.id === currentInvoice.templateId; }) || templates[0];\n                    businessProfile = businessProfiles[0];\n                    if (!template || !businessProfile) {\n                        throw new Error('Missing template or business profile');\n                    }\n                    htmlContent = generateInvoiceHTML(currentInvoice, template, businessProfile);\n                    filename = \"\".concat(currentInvoice.invoiceNumber, \".pdf\");\n                    return [4 /*yield*/, exportToPDF(htmlContent, filename)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        console.log('PDF exported successfully:', result.path);\n                    }\n                    else {\n                        console.error('Failed to export PDF:', result.error);\n                    }\n                    return [3 /*break*/, 5];\n                case 3:\n                    error_1 = _a.sent();\n                    console.error('Error exporting PDF:', error_1);\n                    return [3 /*break*/, 5];\n                case 4:\n                    setIsExporting(false);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleSaveAsTemplate = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var success;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!templateName.trim())\n                        return [2 /*return*/];\n                    return [4 /*yield*/, saveAsTemplate(templateName)];\n                case 1:\n                    success = _a.sent();\n                    if (success) {\n                        setShowSaveTemplateDialog(false);\n                        setTemplateName('');\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var formatLastSaved = function (timestamp) {\n        if (!timestamp)\n            return 'Never';\n        var date = new Date(timestamp);\n        var now = new Date();\n        var diffMs = now.getTime() - date.getTime();\n        var diffMinutes = Math.floor(diffMs / 60000);\n        if (diffMinutes < 1)\n            return 'Just now';\n        if (diffMinutes < 60)\n            return \"\".concat(diffMinutes, \"m ago\");\n        var diffHours = Math.floor(diffMinutes / 60);\n        if (diffHours < 24)\n            return \"\".concat(diffHours, \"h ago\");\n        return date.toLocaleDateString();\n    };\n    return (_jsxs(\"div\", { className: \"bg-white border-b border-gray-200 px-6 py-4\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"button\", { onClick: createNewInvoice, className: \"btn-primary\", children: \"New Invoice\" }), _jsx(\"button\", { onClick: handleSave, disabled: isLoading || !hasUnsavedChanges, className: \"btn-secondary\", children: isLoading ? 'Saving...' : 'Save' }), _jsx(\"button\", { onClick: duplicateInvoice, disabled: !currentInvoice, className: \"btn-secondary\", children: \"Duplicate\" })] }), _jsx(\"div\", { className: \"h-6 w-px bg-gray-300\" }), _jsxs(\"div\", { className: \"flex items-center space-x-2\", children: [_jsx(\"button\", { onClick: function () { return setShowTemplateSelector(true); }, className: \"btn-secondary\", children: \"Templates\" }), _jsx(\"button\", { onClick: function () { return setShowSaveTemplateDialog(true); }, disabled: !currentInvoice, className: \"btn-secondary\", children: \"Save as Template\" })] }), _jsx(\"div\", { className: \"h-6 w-px bg-gray-300\" }), _jsx(\"button\", { onClick: handleExportPDF, disabled: isExporting || !currentInvoice, className: \"btn-primary\", children: isExporting ? 'Exporting...' : 'Export PDF' })] }), _jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [error && (_jsxs(\"div\", { className: \"flex items-center text-red-600 text-sm\", children: [_jsx(\"span\", { className: \"mr-2\", children: \"\\u26A0\\uFE0F\" }), _jsx(\"span\", { children: error })] })), !error && (_jsxs(\"div\", { className: \"flex items-center text-sm text-gray-600\", children: [_jsx(\"div\", { className: \"w-2 h-2 rounded-full mr-2 \".concat(hasUnsavedChanges ? 'bg-orange-500' : 'bg-green-500') }), _jsxs(\"span\", { children: [hasUnsavedChanges ? 'Unsaved changes' : 'Saved', \" \\u2022 Last: \", formatLastSaved(lastSaved)] })] }))] }), _jsx(\"div\", { className: \"flex items-center\", children: _jsx(CalculationSummary, {}) })] }), showTemplateSelector && (_jsx(TemplateSelector, { onClose: function () { return setShowTemplateSelector(false); }, onSelect: function (templateId) {\n                    if (currentInvoice) {\n                        // Update current invoice template\n                        // updateInvoice({ templateId });\n                    }\n                    setShowTemplateSelector(false);\n                } })), showSaveTemplateDialog && (_jsx(\"div\", { className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", children: _jsxs(\"div\", { className: \"bg-white rounded-lg p-6 w-96\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold mb-4\", children: \"Save as Template\" }), _jsxs(\"div\", { className: \"mb-4\", children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\", children: \"Template Name\" }), _jsx(\"input\", { type: \"text\", value: templateName, onChange: function (e) { return setTemplateName(e.target.value); }, className: \"form-input\", placeholder: \"My Custom Template\", autoFocus: true })] }), _jsxs(\"div\", { className: \"flex justify-end space-x-3\", children: [_jsx(\"button\", { onClick: function () {\n                                        setShowSaveTemplateDialog(false);\n                                        setTemplateName('');\n                                    }, className: \"btn-secondary\", children: \"Cancel\" }), _jsx(\"button\", { onClick: handleSaveAsTemplate, disabled: !templateName.trim() || isLoading, className: \"btn-primary\", children: isLoading ? 'Saving...' : 'Save Template' })] })] }) }))] }));\n};\nexport default ActionBar;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nvar root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(_jsx(React.StrictMode, { children: _jsx(App, {}) }));\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport { useInvoiceStore } from './store/useInvoiceStore';\nimport InvoiceForm from './components/InvoiceForm';\nimport InvoicePreview from './components/InvoicePreview';\nimport ActionBar from './components/ActionBar';\nvar App = function () {\n    var _a = useInvoiceStore(), initializeApp = _a.initializeApp, isLoading = _a.isLoading, error = _a.error;\n    useEffect(function () {\n        initializeApp();\n    }, [initializeApp]);\n    if (isLoading) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-screen bg-gray-50\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"div\", { className: \"spinner mx-auto mb-4\" }), _jsx(\"p\", { className: \"text-gray-600\", children: \"Loading Invoice Studio Pro...\" })] }) }));\n    }\n    if (error) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-screen bg-gray-50\", children: _jsxs(\"div\", { className: \"text-center max-w-md\", children: [_jsx(\"div\", { className: \"text-red-500 text-xl mb-4\", children: \"\\u26A0\\uFE0F\" }), _jsx(\"h2\", { className: \"text-xl font-semibold text-gray-800 mb-2\", children: \"Error\" }), _jsx(\"p\", { className: \"text-gray-600 mb-4\", children: error }), _jsx(\"button\", { onClick: function () { return window.location.reload(); }, className: \"btn-primary\", children: \"Reload Application\" })] }) }));\n    }\n    return (_jsxs(\"div\", { className: \"h-screen flex flex-col bg-gray-50\", children: [_jsx(ActionBar, {}), _jsxs(\"div\", { className: \"flex-1 flex overflow-hidden\", children: [_jsx(\"div\", { className: \"w-96 bg-white border-r border-gray-200 overflow-y-auto\", children: _jsx(InvoiceForm, {}) }), _jsx(\"div\", { className: \"flex-1 bg-gray-100 p-6 overflow-y-auto\", children: _jsx(InvoicePreview, {}) })] })] }));\n};\nexport default App;\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","roundToCurrency","amount","decimals","factor","Math","pow","rounded","round","parseFloat","toFixed","calculateItemTotal","item","baseTotal","quantity","unitPrice","discount","discountAmount","type","value","min","max","calculateItemDiscount","calculateInvoiceTotals","invoice","totalDiscounts","subtotal","items","reduce","sum","calculateSubtotal","itemDiscounts","subtotalAfterItemDiscounts","subtotalAfterDiscounts","calculateSubtotalAfterItemDiscounts","invoiceDiscounts","baseAmount","discounts","calculateInvoiceDiscounts","subtotalAfterInvoiceDiscounts","fees","amounts","totalFees","fee","applyBase","grandTotalPreTax","calculateFees","taxableAmount","tax","totalTax","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","__spreadArray","taxes","sort","a","b","priority","applicableItems","filter","category","taxCategory","applicableRatio","rate","calculateTaxes","grandTotal","paid","totalPaid","payments","payment","calculateTotalPaid","balanceDue","formatCurrency","currency","locale","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","format","error","__assign","Object","assign","t","s","n","p","hasOwnProperty","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","_","label","sent","trys","ops","g","create","Iterator","verb","Symbol","iterator","v","op","TypeError","pop","isElectron","window","require","saveFile","filePath","data","error_1","_a","success","ipcRenderer","invoke","console","Error","message","loadFile","error_2","listFiles","directory","error_3","files","deleteFile","error_4","exportToPDF","htmlContent","filename","error_5","defaultTemplates","name","brand","primaryColor","accentColor","fontFamilyHeader","fontFamilyBody","logoPath","layout","headerStyle","footerText","showSignature","margins","top","right","bottom","left","defaults","taxRules","terms","html","css","defaultBusinessProfile","address","email","phone","taxId","bankDetails","color","defaultSettings","dateFormat","invoiceNumberPattern","defaultTaxes","defaultFees","defaultTemplateId","defaultBusinessProfileId","autosaveInterval","useInvoiceStore","set","get","currentInvoice","templates","businessProfiles","settings","invoiceList","isLoading","lastSaved","hasUnsavedChanges","initializeApp","electronError_1","loadError_1","warn","all","loadSettings","loadTemplates","loadBusinessProfiles","loadInvoiceList","createNewInvoice","templateId","newInvoice","version","businessProfileId","invoiceNumber","Date","String","now","poNumber","issueDate","dueDate","paymentTerms","client","company","contact","billingAddress","shippingAddress","notes","totals","createdAt","toISOString","updatedAt","createEmptyInvoice","updateInvoice","updates","updatedInvoice","saveInvoice","loadInvoice","invoiceId","deleteInvoice","duplicateInvoice","duplicatedInvoice","saveAsTemplate","template","error_6","userTemplates","error_7","_b","map","deleteTemplate","error_8","updateBusinessProfile","profileUpdates","updatedProfiles","profile","saveBusinessProfile","defaultProfile","error_9","find","error_10","updateSettings","settingsUpdates","saveSettings","error_11","error_12","recalculateInvoice","setError","clearError","useState","activeSection","setActiveSection","businessProfile","updateField","field","updateNestedField","parentField","addItem","newItem","sku","description","updateItem","itemId","updatedItems","updateDiscount","discountId","updatedDiscounts","updateFee","feeId","updatedFees","updateTax","updatedTaxes","updatePayment","paymentId","updatedPayments","className","children","section","onClick","onChange","target","placeholder","rows","index","itemToDuplicate","duplicatedItem","duplicateItem","newDiscount","newFee","newTax","applyAfterDiscounts","parseInt","checked","newPayment","date","method","prepareTemplateData","itemsWithCalculations","calculatedLineTotal","calculatedDiscount","formattedUnitPrice","formattedQuantity","toString","discountDisplay","formattedTotals","formattedFees","formattedValue","formattedTaxes","formattedRate","formattedPayments","formattedAmount","formattedDate","toLocaleDateString","formattedDiscounts","formattedIssueDate","formattedDueDate","paymentTermsDisplay","getPaymentTermsDisplay","business","helpers","formatDate","formatPercentage","renderTemplate","parse","render","escape","text","_c","zoom","setZoom","_d","renderedHTML","setRenderedHTML","useEffect","rendered","handleZoomChange","newZoom","disabled","toLocaleString","transform","transformOrigin","width","minHeight","padding","dangerouslySetInnerHTML","__html","onClose","onSelect","selectedTemplate","setSelectedTemplate","includes","stopPropagation","confirm","handleDelete","title","fill","viewBox","fillRule","d","clipRule","isExporting","setIsExporting","showTemplateSelector","setShowTemplateSelector","showSaveTemplateDialog","setShowSaveTemplateDialog","_e","templateName","setTemplateName","log","renderedContent","generateInvoiceHTML","path","timestamp","diffMs","getTime","diffMinutes","floor","diffHours","formatLastSaved","autoFocus","trim","document","getElementById","location","reload"],"sourceRoot":""}